var vL=Object.defineProperty;var _L=(t,e,n)=>e in t?vL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var X=(t,e,n)=>_L(t,typeof e!="symbol"?e+"":e,n);function wL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var iC={exports:{}},Mf={},sC={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.element"),SL=Symbol.for("react.portal"),EL=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),xL=Symbol.for("react.profiler"),PL=Symbol.for("react.provider"),CL=Symbol.for("react.context"),kL=Symbol.for("react.forward_ref"),IL=Symbol.for("react.suspense"),AL=Symbol.for("react.memo"),RL=Symbol.for("react.lazy"),$b=Symbol.iterator;function OL(t){return t===null||typeof t!="object"?null:(t=$b&&t[$b]||t["@@iterator"],typeof t=="function"?t:null)}var oC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aC=Object.assign,lC={};function da(t,e,n){this.props=t,this.context=e,this.refs=lC,this.updater=n||oC}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uC(){}uC.prototype=da.prototype;function Hv(t,e,n){this.props=t,this.context=e,this.refs=lC,this.updater=n||oC}var Wv=Hv.prototype=new uC;Wv.constructor=Hv;aC(Wv,da.prototype);Wv.isPureReactComponent=!0;var Hb=Array.isArray,cC=Object.prototype.hasOwnProperty,qv={current:null},hC={key:!0,ref:!0,__self:!0,__source:!0};function dC(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cC.call(e,r)&&!hC.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lu,type:t,key:s,ref:o,props:i,_owner:qv.current}}function ML(t,e){return{$$typeof:Lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lu}function DL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wb=/\/+/g;function cm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DL(""+t.key):e.toString(36)}function kh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lu:case SL:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+cm(o,0):r,Hb(i)?(n="",t!=null&&(n=t.replace(Wb,"$&/")+"/"),kh(i,e,n,"",function(u){return u})):i!=null&&(Kv(i)&&(i=ML(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+cm(s,a);o+=kh(s,e,n,l,i)}else if(l=OL(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+cm(s,a++),o+=kh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(t,e,n){if(t==null)return t;var r=[],i=0;return kh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},Ih={transition:null},NL={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:qv};function fC(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Oc,forEach:function(t,e,n){Oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!Kv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=da;he.Fragment=EL;he.Profiler=xL;he.PureComponent=Hv;he.StrictMode=TL;he.Suspense=IL;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NL;he.act=fC;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cC.call(e,l)&&!hC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Lu,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:CL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PL,_context:t},t.Consumer=t};he.createElement=dC;he.createFactory=function(t){var e=dC.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:kL,render:t}};he.isValidElement=Kv;he.lazy=function(t){return{$$typeof:RL,_payload:{_status:-1,_result:t},_init:LL}};he.memo=function(t,e){return{$$typeof:AL,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};he.unstable_act=fC;he.useCallback=function(t,e){return Qt.current.useCallback(t,e)};he.useContext=function(t){return Qt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Qt.current.useEffect(t,e)};he.useId=function(){return Qt.current.useId()};he.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Qt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};he.useRef=function(t){return Qt.current.useRef(t)};he.useState=function(t){return Qt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Qt.current.useTransition()};he.version="18.3.1";sC.exports=he;var L=sC.exports;const Bn=$v(L),VL=wL({__proto__:null,default:Bn},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL=L,FL=Symbol.for("react.element"),UL=Symbol.for("react.fragment"),zL=Object.prototype.hasOwnProperty,BL=jL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$L={key:!0,ref:!0,__self:!0,__source:!0};function pC(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zL.call(e,r)&&!$L.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FL,type:t,key:s,ref:o,props:i,_owner:BL.current}}Mf.Fragment=UL;Mf.jsx=pC;Mf.jsxs=pC;iC.exports=Mf;var x=iC.exports,Dg={},mC={exports:{}},bn={},gC={exports:{}},yC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,W){var Y=F.length;F.push(W);e:for(;0<Y;){var pe=Y-1>>>1,le=F[pe];if(0<i(le,W))F[pe]=W,F[Y]=le,Y=pe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var W=F[0],Y=F.pop();if(Y!==W){F[0]=Y;e:for(var pe=0,le=F.length,me=le>>>1;pe<me;){var at=2*(pe+1)-1,Je=F[at],_t=at+1,gr=F[_t];if(0>i(Je,Y))_t<le&&0>i(gr,Je)?(F[pe]=gr,F[_t]=Y,pe=_t):(F[pe]=Je,F[at]=Y,pe=at);else if(_t<le&&0>i(gr,Y))F[pe]=gr,F[_t]=Y,pe=_t;else break e}}return W}function i(F,W){var Y=F.sortIndex-W.sortIndex;return Y!==0?Y:F.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=F)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function A(F){if(g=!1,S(F),!y)if(n(l)!==null)y=!0,ee(I);else{var W=n(u);W!==null&&G(A,W.startTime-F)}}function I(F,W){y=!1,g&&(g=!1,v(E),E=-1),m=!0;var Y=f;try{for(S(W),d=n(l);d!==null&&(!(d.expirationTime>W)||F&&!O());){var pe=d.callback;if(typeof pe=="function"){d.callback=null,f=d.priorityLevel;var le=pe(d.expirationTime<=W);W=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),S(W)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var at=n(u);at!==null&&G(A,at.startTime-W),me=!1}return me}finally{d=null,f=Y,m=!1}}var M=!1,C=null,E=-1,T=5,P=-1;function O(){return!(t.unstable_now()-P<T)}function D(){if(C!==null){var F=t.unstable_now();P=F;var W=!0;try{W=C(!0,F)}finally{W?R():(M=!1,C=null)}}else M=!1}var R;if(typeof _=="function")R=function(){_(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=D,R=function(){Z.postMessage(null)}}else R=function(){b(D,0)};function ee(F){C=F,M||(M=!0,R())}function G(F,W){E=b(function(){F(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ee(I))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Y=f;f=W;try{return F()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,W){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=f;f=F;try{return W()}finally{f=Y}},t.unstable_scheduleCallback=function(F,W,Y){var pe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,F){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Y+le,F={id:c++,callback:W,priorityLevel:F,startTime:Y,expirationTime:le,sortIndex:-1},Y>pe?(F.sortIndex=Y,e(u,F),n(l)===null&&F===n(u)&&(g?(v(E),E=-1):g=!0,G(A,Y-pe))):(F.sortIndex=le,e(l,F),y||m||(y=!0,ee(I))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var W=f;return function(){var Y=f;f=W;try{return F.apply(this,arguments)}finally{f=Y}}}})(yC);gC.exports=yC;var HL=gC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WL=L,_n=HL;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vC=new Set,ql={};function Hs(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(ql[t]=e,t=0;t<e.length;t++)vC.add(e[t])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lg=Object.prototype.hasOwnProperty,qL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qb={},Kb={};function KL(t){return Lg.call(Kb,t)?!0:Lg.call(qb,t)?!1:qL.test(t)?Kb[t]=!0:(qb[t]=!0,!1)}function GL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YL(t,e,n,r){if(e===null||typeof e>"u"||GL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gv,Yv);Ct[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gv,Yv);Ct[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gv,Yv);Ct[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qv(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YL(e,n,i,r)&&(n=null),r||i===null?KL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=WL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),lo=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Xv=Symbol.for("react.strict_mode"),Ng=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),wC=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),Vg=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),Zv=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),bC=Symbol.for("react.offscreen"),Gb=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=Gb&&t[Gb]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,hm;function al(t){if(hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hm=e&&e[1]||""}return`
`+hm+t}var dm=!1;function fm(t,e){if(!t||dm)return"";dm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function QL(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=fm(t.type,!1),t;case 11:return t=fm(t.type.render,!1),t;case 1:return t=fm(t.type,!0),t;default:return""}}function Fg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case lo:return"Portal";case Ng:return"Profiler";case Xv:return"StrictMode";case Vg:return"Suspense";case jg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wC:return(t.displayName||"Context")+".Consumer";case _C:return(t._context.displayName||"Context")+".Provider";case Jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zv:return e=t.displayName||null,e!==null?e:Fg(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Fg(t(e))}catch{}}return null}function XL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fg(e);case 8:return e===Xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JL(t){var e=SC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dc(t){t._valueTracker||(t._valueTracker=JL(t))}function EC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ug(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TC(t,e){e=e.checked,e!=null&&Qv(t,"checked",e,!1)}function zg(t,e){TC(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bg(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bg(t,e,n){(e!=="number"||ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function Co(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $g(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ll(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function xC(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lc,CC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZL=["Webkit","ms","Moz","O"];Object.keys(Sl).forEach(function(t){ZL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sl[e]=Sl[t]})});function kC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sl.hasOwnProperty(t)&&Sl[t]?(""+e).trim():e+"px"}function IC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var eN=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(t,e){if(e){if(eN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function qg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kg=null;function e_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gg=null,ko=null,Io=null;function Zb(t){if(t=ju(t)){if(typeof Gg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=jf(e),Gg(t.stateNode,t.type,e))}}function AC(t){ko?Io?Io.push(t):Io=[t]:ko=t}function RC(){if(ko){var t=ko,e=Io;if(Io=ko=null,Zb(t),e)for(t=0;t<e.length;t++)Zb(e[t])}}function OC(t,e){return t(e)}function MC(){}var pm=!1;function DC(t,e,n){if(pm)return t(e,n);pm=!0;try{return OC(t,e,n)}finally{pm=!1,(ko!==null||Io!==null)&&(MC(),RC())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Yg=!1;if(Nr)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Yg=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Yg=!1}function tN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var El=!1,ld=null,ud=!1,Qg=null,nN={onError:function(t){El=!0,ld=t}};function rN(t,e,n,r,i,s,o,a,l){El=!1,ld=null,tN.apply(nN,arguments)}function iN(t,e,n,r,i,s,o,a,l){if(rN.apply(this,arguments),El){if(El){var u=ld;El=!1,ld=null}else throw Error(z(198));ud||(ud=!0,Qg=u)}}function Ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eS(t){if(Ws(t)!==t)throw Error(z(188))}function sN(t){var e=t.alternate;if(!e){if(e=Ws(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eS(i),t;if(s===r)return eS(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function NC(t){return t=sN(t),t!==null?VC(t):null}function VC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VC(t);if(e!==null)return e;t=t.sibling}return null}var jC=_n.unstable_scheduleCallback,tS=_n.unstable_cancelCallback,oN=_n.unstable_shouldYield,aN=_n.unstable_requestPaint,tt=_n.unstable_now,lN=_n.unstable_getCurrentPriorityLevel,t_=_n.unstable_ImmediatePriority,FC=_n.unstable_UserBlockingPriority,cd=_n.unstable_NormalPriority,uN=_n.unstable_LowPriority,UC=_n.unstable_IdlePriority,Df=null,nr=null;function cN(t){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:fN,hN=Math.log,dN=Math.LN2;function fN(t){return t>>>=0,t===0?32:31-(hN(t)/dN|0)|0}var Nc=64,Vc=4194304;function ul(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ul(a):(s&=o,s!==0&&(r=ul(s)))}else o=n&~i,o!==0?r=ul(o):s!==0&&(r=ul(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),i=1<<n,r|=t[n],e&=~i;return r}function pN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-$n(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=pN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zC(){var t=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),t}function mm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function gN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function n_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function BC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $C,r_,HC,WC,qC,Jg=!1,jc=[],vi=null,_i=null,wi=null,Yl=new Map,Ql=new Map,oi=[],yN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nS(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function Wa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&r_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vN(t,e,n,r,i){switch(e){case"focusin":return vi=Wa(vi,t,e,n,r,i),!0;case"dragenter":return _i=Wa(_i,t,e,n,r,i),!0;case"mouseover":return wi=Wa(wi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yl.set(s,Wa(Yl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ql.set(s,Wa(Ql.get(s)||null,t,e,n,r,i)),!0}return!1}function KC(t){var e=vs(t.target);if(e!==null){var n=Ws(e);if(n!==null){if(e=n.tag,e===13){if(e=LC(n),e!==null){t.blockedOn=e,qC(t.priority,function(){HC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kg=r,n.target.dispatchEvent(r),Kg=null}else return e=ju(n),e!==null&&r_(e),t.blockedOn=n,!1;e.shift()}return!0}function rS(t,e,n){Ah(t)&&n.delete(e)}function _N(){Jg=!1,vi!==null&&Ah(vi)&&(vi=null),_i!==null&&Ah(_i)&&(_i=null),wi!==null&&Ah(wi)&&(wi=null),Yl.forEach(rS),Ql.forEach(rS)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Jg||(Jg=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,_N)))}function Xl(t){function e(i){return qa(i,t)}if(0<jc.length){qa(jc[0],t);for(var n=1;n<jc.length;n++){var r=jc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&qa(vi,t),_i!==null&&qa(_i,t),wi!==null&&qa(wi,t),Yl.forEach(e),Ql.forEach(e),n=0;n<oi.length;n++)r=oi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)KC(n),n.blockedOn===null&&oi.shift()}var Ao=Wr.ReactCurrentBatchConfig,dd=!0;function wN(t,e,n,r){var i=Te,s=Ao.transition;Ao.transition=null;try{Te=1,i_(t,e,n,r)}finally{Te=i,Ao.transition=s}}function bN(t,e,n,r){var i=Te,s=Ao.transition;Ao.transition=null;try{Te=4,i_(t,e,n,r)}finally{Te=i,Ao.transition=s}}function i_(t,e,n,r){if(dd){var i=Zg(t,e,n,r);if(i===null)xm(t,e,r,fd,n),nS(t,r);else if(vN(i,t,e,n,r))r.stopPropagation();else if(nS(t,r),e&4&&-1<yN.indexOf(t)){for(;i!==null;){var s=ju(i);if(s!==null&&$C(s),s=Zg(t,e,n,r),s===null&&xm(t,e,r,fd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xm(t,e,r,null,n)}}var fd=null;function Zg(t,e,n,r){if(fd=null,t=e_(r),t=vs(t),t!==null)if(e=Ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fd=t,null}function GC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lN()){case t_:return 1;case FC:return 4;case cd:case uN:return 16;case UC:return 536870912;default:return 16}default:return 16}}var di=null,s_=null,Rh=null;function YC(){if(Rh)return Rh;var t,e=s_,n=e.length,r,i="value"in di?di.value:di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rh=i.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fc(){return!0}function iS(){return!1}function Sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fc:iS,this.isPropagationStopped=iS,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o_=Sn(fa),Vu=He({},fa,{view:0,detail:0}),SN=Sn(Vu),gm,ym,Ka,Lf=He({},Vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(gm=t.screenX-Ka.screenX,ym=t.screenY-Ka.screenY):ym=gm=0,Ka=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),sS=Sn(Lf),EN=He({},Lf,{dataTransfer:0}),TN=Sn(EN),xN=He({},Vu,{relatedTarget:0}),vm=Sn(xN),PN=He({},fa,{animationName:0,elapsedTime:0,pseudoElement:0}),CN=Sn(PN),kN=He({},fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IN=Sn(kN),AN=He({},fa,{data:0}),oS=Sn(AN),RN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ON={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MN[t])?!!e[t]:!1}function a_(){return DN}var LN=He({},Vu,{key:function(t){if(t.key){var e=RN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ON[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a_,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NN=Sn(LN),VN=He({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Sn(VN),jN=He({},Vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a_}),FN=Sn(jN),UN=He({},fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zN=Sn(UN),BN=He({},Lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$N=Sn(BN),HN=[9,13,27,32],l_=Nr&&"CompositionEvent"in window,Tl=null;Nr&&"documentMode"in document&&(Tl=document.documentMode);var WN=Nr&&"TextEvent"in window&&!Tl,QC=Nr&&(!l_||Tl&&8<Tl&&11>=Tl),lS=" ",uS=!1;function XC(t,e){switch(t){case"keyup":return HN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function qN(t,e){switch(t){case"compositionend":return JC(e);case"keypress":return e.which!==32?null:(uS=!0,lS);case"textInput":return t=e.data,t===lS&&uS?null:t;default:return null}}function KN(t,e){if(co)return t==="compositionend"||!l_&&XC(t,e)?(t=YC(),Rh=s_=di=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QC&&e.locale!=="ko"?null:e.data;default:return null}}var GN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GN[t.type]:e==="textarea"}function ZC(t,e,n,r){AC(r),e=pd(e,"onChange"),0<e.length&&(n=new o_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xl=null,Jl=null;function YN(t){ck(t,0)}function Nf(t){var e=po(t);if(EC(e))return t}function QN(t,e){if(t==="change")return e}var ek=!1;if(Nr){var _m;if(Nr){var wm="oninput"in document;if(!wm){var hS=document.createElement("div");hS.setAttribute("oninput","return;"),wm=typeof hS.oninput=="function"}_m=wm}else _m=!1;ek=_m&&(!document.documentMode||9<document.documentMode)}function dS(){xl&&(xl.detachEvent("onpropertychange",tk),Jl=xl=null)}function tk(t){if(t.propertyName==="value"&&Nf(Jl)){var e=[];ZC(e,Jl,t,e_(t)),DC(YN,e)}}function XN(t,e,n){t==="focusin"?(dS(),xl=e,Jl=n,xl.attachEvent("onpropertychange",tk)):t==="focusout"&&dS()}function JN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Jl)}function ZN(t,e){if(t==="click")return Nf(e)}function eV(t,e){if(t==="input"||t==="change")return Nf(e)}function tV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wn=typeof Object.is=="function"?Object.is:tV;function Zl(t,e){if(Wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lg.call(e,i)||!Wn(t[i],e[i]))return!1}return!0}function fS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pS(t,e){var n=fS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fS(n)}}function nk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rk(){for(var t=window,e=ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function u_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nV(t){var e=rk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nk(n.ownerDocument.documentElement,n)){if(r!==null&&u_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pS(n,s);var o=pS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rV=Nr&&"documentMode"in document&&11>=document.documentMode,ho=null,ey=null,Pl=null,ty=!1;function mS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ty||ho==null||ho!==ad(r)||(r=ho,"selectionStart"in r&&u_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pl&&Zl(Pl,r)||(Pl=r,r=pd(ey,"onSelect"),0<r.length&&(e=new o_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ho)))}function Uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},bm={},ik={};Nr&&(ik=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Vf(t){if(bm[t])return bm[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ik)return bm[t]=e[n];return t}var sk=Vf("animationend"),ok=Vf("animationiteration"),ak=Vf("animationstart"),lk=Vf("transitionend"),uk=new Map,gS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){uk.set(t,e),Hs(e,[t])}for(var Sm=0;Sm<gS.length;Sm++){var Em=gS[Sm],iV=Em.toLowerCase(),sV=Em[0].toUpperCase()+Em.slice(1);Wi(iV,"on"+sV)}Wi(sk,"onAnimationEnd");Wi(ok,"onAnimationIteration");Wi(ak,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(lk,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oV=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function yS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,iN(r,e,void 0,t),t.currentTarget=null}function ck(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;yS(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;yS(i,a,u),s=l}}}if(ud)throw t=Qg,ud=!1,Qg=null,t}function Re(t,e){var n=e[oy];n===void 0&&(n=e[oy]=new Set);var r=t+"__bubble";n.has(r)||(hk(e,t,2,!1),n.add(r))}function Tm(t,e,n){var r=0;e&&(r|=4),hk(n,t,r,e)}var zc="_reactListening"+Math.random().toString(36).slice(2);function eu(t){if(!t[zc]){t[zc]=!0,vC.forEach(function(n){n!=="selectionchange"&&(oV.has(n)||Tm(n,!1,t),Tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zc]||(e[zc]=!0,Tm("selectionchange",!1,e))}}function hk(t,e,n,r){switch(GC(e)){case 1:var i=wN;break;case 4:i=bN;break;default:i=i_}n=i.bind(null,e,n,t),i=void 0,!Yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}DC(function(){var u=s,c=e_(n),d=[];e:{var f=uk.get(t);if(f!==void 0){var m=o_,y=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":m=NN;break;case"focusin":y="focus",m=vm;break;case"focusout":y="blur",m=vm;break;case"beforeblur":case"afterblur":m=vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FN;break;case sk:case ok:case ak:m=CN;break;case lk:m=zN;break;case"scroll":m=SN;break;case"wheel":m=$N;break;case"copy":case"cut":case"paste":m=IN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aS}var g=(e&4)!==0,b=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var _=u,S;_!==null;){S=_;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,v!==null&&(A=Gl(_,v),A!=null&&g.push(tu(_,A,S)))),b)break;_=_.return}0<g.length&&(f=new m(f,y,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Kg&&(y=n.relatedTarget||n.fromElement)&&(vs(y)||y[Vr]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?vs(y):null,y!==null&&(b=Ws(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=sS,A="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=aS,A="onPointerLeave",v="onPointerEnter",_="pointer"),b=m==null?f:po(m),S=y==null?f:po(y),f=new g(A,_+"leave",m,n,c),f.target=b,f.relatedTarget=S,A=null,vs(c)===u&&(g=new g(v,_+"enter",y,n,c),g.target=S,g.relatedTarget=b,A=g),b=A,m&&y)t:{for(g=m,v=y,_=0,S=g;S;S=eo(S))_++;for(S=0,A=v;A;A=eo(A))S++;for(;0<_-S;)g=eo(g),_--;for(;0<S-_;)v=eo(v),S--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=eo(g),v=eo(v)}g=null}else g=null;m!==null&&vS(d,f,m,g,!1),y!==null&&b!==null&&vS(d,b,y,g,!0)}}e:{if(f=u?po(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var I=QN;else if(cS(f))if(ek)I=eV;else{I=JN;var M=XN}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=ZN);if(I&&(I=I(t,u))){ZC(d,I,n,c);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Bg(f,"number",f.value)}switch(M=u?po(u):window,t){case"focusin":(cS(M)||M.contentEditable==="true")&&(ho=M,ey=u,Pl=null);break;case"focusout":Pl=ey=ho=null;break;case"mousedown":ty=!0;break;case"contextmenu":case"mouseup":case"dragend":ty=!1,mS(d,n,c);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":mS(d,n,c)}var C;if(l_)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else co?XC(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(QC&&n.locale!=="ko"&&(co||E!=="onCompositionStart"?E==="onCompositionEnd"&&co&&(C=YC()):(di=c,s_="value"in di?di.value:di.textContent,co=!0)),M=pd(u,E),0<M.length&&(E=new oS(E,t,null,n,c),d.push({event:E,listeners:M}),C?E.data=C:(C=JC(n),C!==null&&(E.data=C)))),(C=WN?qN(t,n):KN(t,n))&&(u=pd(u,"onBeforeInput"),0<u.length&&(c=new oS("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}ck(d,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gl(t,n),s!=null&&r.unshift(tu(t,s,i)),s=Gl(t,e),s!=null&&r.push(tu(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gl(n,s),l!=null&&o.unshift(tu(n,l,a))):i||(l=Gl(n,s),l!=null&&o.push(tu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aV=/\r\n?/g,lV=/\u0000|\uFFFD/g;function _S(t){return(typeof t=="string"?t:""+t).replace(aV,`
`).replace(lV,"")}function Bc(t,e,n){if(e=_S(e),_S(t)!==e&&n)throw Error(z(425))}function md(){}var ny=null,ry=null;function iy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sy=typeof setTimeout=="function"?setTimeout:void 0,uV=typeof clearTimeout=="function"?clearTimeout:void 0,wS=typeof Promise=="function"?Promise:void 0,cV=typeof queueMicrotask=="function"?queueMicrotask:typeof wS<"u"?function(t){return wS.resolve(null).then(t).catch(hV)}:sy;function hV(t){setTimeout(function(){throw t})}function Pm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xl(e)}function bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pa=Math.random().toString(36).slice(2),tr="__reactFiber$"+pa,nu="__reactProps$"+pa,Vr="__reactContainer$"+pa,oy="__reactEvents$"+pa,dV="__reactListeners$"+pa,fV="__reactHandles$"+pa;function vs(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bS(t);t!==null;){if(n=t[tr])return n;t=bS(t)}return e}t=n,n=t.parentNode}return null}function ju(t){return t=t[tr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function jf(t){return t[nu]||null}var ay=[],mo=-1;function qi(t){return{current:t}}function Oe(t){0>mo||(t.current=ay[mo],ay[mo]=null,mo--)}function ke(t,e){mo++,ay[mo]=t.current,t.current=e}var Di={},zt=qi(Di),un=qi(!1),As=Di;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cn(t){return t=t.childContextTypes,t!=null}function gd(){Oe(un),Oe(zt)}function SS(t,e,n){if(zt.current!==Di)throw Error(z(168));ke(zt,e),ke(un,n)}function dk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,XL(t)||"Unknown",i));return He({},n,r)}function yd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,As=zt.current,ke(zt,t),ke(un,un.current),!0}function ES(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=dk(t,e,As),r.__reactInternalMemoizedMergedChildContext=t,Oe(un),Oe(zt),ke(zt,t)):Oe(un),ke(un,n)}var Er=null,Ff=!1,Cm=!1;function fk(t){Er===null?Er=[t]:Er.push(t)}function pV(t){Ff=!0,fk(t)}function Ki(){if(!Cm&&Er!==null){Cm=!0;var t=0,e=Te;try{var n=Er;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,Ff=!1}catch(i){throw Er!==null&&(Er=Er.slice(t+1)),jC(t_,Ki),i}finally{Te=e,Cm=!1}}return null}var go=[],yo=0,vd=null,_d=0,Pn=[],Cn=0,Rs=null,xr=1,Pr="";function ds(t,e){go[yo++]=_d,go[yo++]=vd,vd=t,_d=e}function pk(t,e,n){Pn[Cn++]=xr,Pn[Cn++]=Pr,Pn[Cn++]=Rs,Rs=t;var r=xr;t=Pr;var i=32-$n(r)-1;r&=~(1<<i),n+=1;var s=32-$n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xr=1<<32-$n(e)+i|n<<i|r,Pr=s+t}else xr=1<<s|n<<i|r,Pr=t}function c_(t){t.return!==null&&(ds(t,1),pk(t,1,0))}function h_(t){for(;t===vd;)vd=go[--yo],go[yo]=null,_d=go[--yo],go[yo]=null;for(;t===Rs;)Rs=Pn[--Cn],Pn[Cn]=null,Pr=Pn[--Cn],Pn[Cn]=null,xr=Pn[--Cn],Pn[Cn]=null}var gn=null,pn=null,Ve=!1,zn=null;function mk(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function TS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:xr,overflow:Pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function ly(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uy(t){if(Ve){var e=pn;if(e){var n=e;if(!TS(t,e)){if(ly(t))throw Error(z(418));e=bi(n.nextSibling);var r=gn;e&&TS(t,e)?mk(r,n):(t.flags=t.flags&-4097|2,Ve=!1,gn=t)}}else{if(ly(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ve=!1,gn=t}}}function xS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function $c(t){if(t!==gn)return!1;if(!Ve)return xS(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iy(t.type,t.memoizedProps)),e&&(e=pn)){if(ly(t))throw gk(),Error(z(418));for(;e;)mk(t,e),e=bi(e.nextSibling)}if(xS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?bi(t.stateNode.nextSibling):null;return!0}function gk(){for(var t=pn;t;)t=bi(t.nextSibling)}function $o(){pn=gn=null,Ve=!1}function d_(t){zn===null?zn=[t]:zn.push(t)}var mV=Wr.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Hc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function PS(t){var e=t._init;return e(t._payload)}function yk(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=xi(v,_),v.index=0,v.sibling=null,v}function s(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,A){return _===null||_.tag!==6?(_=Dm(S,v.mode,A),_.return=v,_):(_=i(_,S),_.return=v,_)}function l(v,_,S,A){var I=S.type;return I===uo?c(v,_,S.props.children,A,S.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ri&&PS(I)===_.type)?(A=i(_,S.props),A.ref=Ga(v,_,S),A.return=v,A):(A=Fh(S.type,S.key,S.props,null,v.mode,A),A.ref=Ga(v,_,S),A.return=v,A)}function u(v,_,S,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Lm(S,v.mode,A),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function c(v,_,S,A,I){return _===null||_.tag!==7?(_=Cs(S,v.mode,A,I),_.return=v,_):(_=i(_,S),_.return=v,_)}function d(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Dm(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mc:return S=Fh(_.type,_.key,_.props,null,v.mode,S),S.ref=Ga(v,null,_),S.return=v,S;case lo:return _=Lm(_,v.mode,S),_.return=v,_;case ri:var A=_._init;return d(v,A(_._payload),S)}if(ll(_)||$a(_))return _=Cs(_,v.mode,S,null),_.return=v,_;Hc(v,_)}return null}function f(v,_,S,A){var I=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return I!==null?null:a(v,_,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:return S.key===I?l(v,_,S,A):null;case lo:return S.key===I?u(v,_,S,A):null;case ri:return I=S._init,f(v,_,I(S._payload),A)}if(ll(S)||$a(S))return I!==null?null:c(v,_,S,A,null);Hc(v,S)}return null}function m(v,_,S,A,I){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(S)||null,a(_,v,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Mc:return v=v.get(A.key===null?S:A.key)||null,l(_,v,A,I);case lo:return v=v.get(A.key===null?S:A.key)||null,u(_,v,A,I);case ri:var M=A._init;return m(v,_,S,M(A._payload),I)}if(ll(A)||$a(A))return v=v.get(S)||null,c(_,v,A,I,null);Hc(_,A)}return null}function y(v,_,S,A){for(var I=null,M=null,C=_,E=_=0,T=null;C!==null&&E<S.length;E++){C.index>E?(T=C,C=null):T=C.sibling;var P=f(v,C,S[E],A);if(P===null){C===null&&(C=T);break}t&&C&&P.alternate===null&&e(v,C),_=s(P,_,E),M===null?I=P:M.sibling=P,M=P,C=T}if(E===S.length)return n(v,C),Ve&&ds(v,E),I;if(C===null){for(;E<S.length;E++)C=d(v,S[E],A),C!==null&&(_=s(C,_,E),M===null?I=C:M.sibling=C,M=C);return Ve&&ds(v,E),I}for(C=r(v,C);E<S.length;E++)T=m(C,v,E,S[E],A),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?E:T.key),_=s(T,_,E),M===null?I=T:M.sibling=T,M=T);return t&&C.forEach(function(O){return e(v,O)}),Ve&&ds(v,E),I}function g(v,_,S,A){var I=$a(S);if(typeof I!="function")throw Error(z(150));if(S=I.call(S),S==null)throw Error(z(151));for(var M=I=null,C=_,E=_=0,T=null,P=S.next();C!==null&&!P.done;E++,P=S.next()){C.index>E?(T=C,C=null):T=C.sibling;var O=f(v,C,P.value,A);if(O===null){C===null&&(C=T);break}t&&C&&O.alternate===null&&e(v,C),_=s(O,_,E),M===null?I=O:M.sibling=O,M=O,C=T}if(P.done)return n(v,C),Ve&&ds(v,E),I;if(C===null){for(;!P.done;E++,P=S.next())P=d(v,P.value,A),P!==null&&(_=s(P,_,E),M===null?I=P:M.sibling=P,M=P);return Ve&&ds(v,E),I}for(C=r(v,C);!P.done;E++,P=S.next())P=m(C,v,E,P.value,A),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?E:P.key),_=s(P,_,E),M===null?I=P:M.sibling=P,M=P);return t&&C.forEach(function(D){return e(v,D)}),Ve&&ds(v,E),I}function b(v,_,S,A){if(typeof S=="object"&&S!==null&&S.type===uo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:e:{for(var I=S.key,M=_;M!==null;){if(M.key===I){if(I=S.type,I===uo){if(M.tag===7){n(v,M.sibling),_=i(M,S.props.children),_.return=v,v=_;break e}}else if(M.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ri&&PS(I)===M.type){n(v,M.sibling),_=i(M,S.props),_.ref=Ga(v,M,S),_.return=v,v=_;break e}n(v,M);break}else e(v,M);M=M.sibling}S.type===uo?(_=Cs(S.props.children,v.mode,A,S.key),_.return=v,v=_):(A=Fh(S.type,S.key,S.props,null,v.mode,A),A.ref=Ga(v,_,S),A.return=v,v=A)}return o(v);case lo:e:{for(M=S.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=i(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=Lm(S,v.mode,A),_.return=v,v=_}return o(v);case ri:return M=S._init,b(v,_,M(S._payload),A)}if(ll(S))return y(v,_,S,A);if($a(S))return g(v,_,S,A);Hc(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,S),_.return=v,v=_):(n(v,_),_=Dm(S,v.mode,A),_.return=v,v=_),o(v)):n(v,_)}return b}var Ho=yk(!0),vk=yk(!1),wd=qi(null),bd=null,vo=null,f_=null;function p_(){f_=vo=bd=null}function m_(t){var e=wd.current;Oe(wd),t._currentValue=e}function cy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){bd=t,f_=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Mn(t){var e=t._currentValue;if(f_!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if(bd===null)throw Error(z(308));vo=t,bd.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var _s=null;function g_(t){_s===null?_s=[t]:_s.push(t)}function _k(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,g_(e)):(n.next=i.next,i.next=n),e.interleaved=n,jr(t,r)}function jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ii=!1;function y_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Si(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jr(t,n)}return i=r.interleaved,i===null?(e.next=e,g_(r)):(e.next=i.next,i.next=e),r.interleaved=e,jr(t,n)}function Mh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n_(t,n)}}function CS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sd(t,e,n,r){var i=t.updateQueue;ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(f=e,m=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){d=y.call(m,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(m,d,f):y,f==null)break e;d=He({},d,f);break e;case 2:ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=d}}function kS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Fu={},rr=qi(Fu),ru=qi(Fu),iu=qi(Fu);function ws(t){if(t===Fu)throw Error(z(174));return t}function v_(t,e){switch(ke(iu,e),ke(ru,t),ke(rr,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hg(e,t)}Oe(rr),ke(rr,e)}function Wo(){Oe(rr),Oe(ru),Oe(iu)}function bk(t){ws(iu.current);var e=ws(rr.current),n=Hg(e,t.type);e!==n&&(ke(ru,t),ke(rr,n))}function __(t){ru.current===t&&(Oe(rr),Oe(ru))}var ze=qi(0);function Ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function w_(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var Dh=Wr.ReactCurrentDispatcher,Im=Wr.ReactCurrentBatchConfig,Os=0,$e=null,lt=null,gt=null,Td=!1,Cl=!1,su=0,gV=0;function Ot(){throw Error(z(321))}function b_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wn(t[n],e[n]))return!1;return!0}function S_(t,e,n,r,i,s){if(Os=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dh.current=t===null||t.memoizedState===null?wV:bV,t=n(r,i),Cl){s=0;do{if(Cl=!1,su=0,25<=s)throw Error(z(301));s+=1,gt=lt=null,e.updateQueue=null,Dh.current=SV,t=n(r,i)}while(Cl)}if(Dh.current=xd,e=lt!==null&&lt.next!==null,Os=0,gt=lt=$e=null,Td=!1,e)throw Error(z(300));return t}function E_(){var t=su!==0;return su=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?$e.memoizedState=gt=t:gt=gt.next=t,gt}function Dn(){if(lt===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=gt===null?$e.memoizedState:gt.next;if(e!==null)gt=e,lt=t;else{if(t===null)throw Error(z(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},gt===null?$e.memoizedState=gt=t:gt=gt.next=t}return gt}function ou(t,e){return typeof e=="function"?e(t):e}function Am(t){var e=Dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=lt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Os&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,$e.lanes|=c,Ms|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Wn(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rm(t){var e=Dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wn(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sk(){}function Ek(t,e){var n=$e,r=Dn(),i=e(),s=!Wn(r.memoizedState,i);if(s&&(r.memoizedState=i,an=!0),r=r.queue,T_(Pk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,au(9,xk.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(z(349));Os&30||Tk(n,e,i)}return i}function Tk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xk(t,e,n,r){e.value=n,e.getSnapshot=r,Ck(e)&&kk(t)}function Pk(t,e,n){return n(function(){Ck(e)&&kk(t)})}function Ck(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wn(t,n)}catch{return!0}}function kk(t){var e=jr(t,1);e!==null&&Hn(e,t,1,-1)}function IS(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=_V.bind(null,$e,t),[e.memoizedState,t]}function au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ik(){return Dn().memoizedState}function Lh(t,e,n,r){var i=Xn();$e.flags|=t,i.memoizedState=au(1|e,n,void 0,r===void 0?null:r)}function Uf(t,e,n,r){var i=Dn();r=r===void 0?null:r;var s=void 0;if(lt!==null){var o=lt.memoizedState;if(s=o.destroy,r!==null&&b_(r,o.deps)){i.memoizedState=au(e,n,s,r);return}}$e.flags|=t,i.memoizedState=au(1|e,n,s,r)}function AS(t,e){return Lh(8390656,8,t,e)}function T_(t,e){return Uf(2048,8,t,e)}function Ak(t,e){return Uf(4,2,t,e)}function Rk(t,e){return Uf(4,4,t,e)}function Ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mk(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4,4,Ok.bind(null,e,t),n)}function x_(){}function Dk(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lk(t,e){var n=Dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Nk(t,e,n){return Os&21?(Wn(n,e)||(n=zC(),$e.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function yV(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Im.transition;Im.transition={};try{t(!1),e()}finally{Te=n,Im.transition=r}}function Vk(){return Dn().memoizedState}function vV(t,e,n){var r=Ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jk(t))Fk(e,n);else if(n=_k(t,e,n,r),n!==null){var i=Yt();Hn(n,t,r,i),Uk(n,e,r)}}function _V(t,e,n){var r=Ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jk(t))Fk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Wn(a,o)){var l=e.interleaved;l===null?(i.next=i,g_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=_k(t,e,i,r),n!==null&&(i=Yt(),Hn(n,t,r,i),Uk(n,e,r))}}function jk(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Fk(t,e){Cl=Td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n_(t,n)}}var xd={readContext:Mn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},wV={readContext:Mn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:Mn,useEffect:AS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4194308,4,Ok.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vV.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:IS,useDebugValue:x_,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=IS(!1),e=t[0];return t=yV.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Xn();if(Ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),vt===null)throw Error(z(349));Os&30||Tk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,AS(Pk.bind(null,r,s,t),[t]),r.flags|=2048,au(9,xk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Xn(),e=vt.identifierPrefix;if(Ve){var n=Pr,r=xr;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bV={readContext:Mn,useCallback:Dk,useContext:Mn,useEffect:T_,useImperativeHandle:Mk,useInsertionEffect:Ak,useLayoutEffect:Rk,useMemo:Lk,useReducer:Am,useRef:Ik,useState:function(){return Am(ou)},useDebugValue:x_,useDeferredValue:function(t){var e=Dn();return Nk(e,lt.memoizedState,t)},useTransition:function(){var t=Am(ou)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:Sk,useSyncExternalStore:Ek,useId:Vk,unstable_isNewReconciler:!1},SV={readContext:Mn,useCallback:Dk,useContext:Mn,useEffect:T_,useImperativeHandle:Mk,useInsertionEffect:Ak,useLayoutEffect:Rk,useMemo:Lk,useReducer:Rm,useRef:Ik,useState:function(){return Rm(ou)},useDebugValue:x_,useDeferredValue:function(t){var e=Dn();return lt===null?e.memoizedState=t:Nk(e,lt.memoizedState,t)},useTransition:function(){var t=Rm(ou)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:Sk,useSyncExternalStore:Ek,useId:Vk,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zf={isMounted:function(t){return(t=t._reactInternals)?Ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Ti(t),s=Or(r,i);s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&(Hn(e,t,i,r),Mh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),i=Ti(t),s=Or(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Si(t,s,i),e!==null&&(Hn(e,t,i,r),Mh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=Ti(t),i=Or(n,r);i.tag=2,e!=null&&(i.callback=e),e=Si(t,i,r),e!==null&&(Hn(e,t,r,n),Mh(e,t,r))}};function RS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(n,r)||!Zl(i,s):!0}function zk(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=Mn(s):(i=cn(e)?As:zt.current,r=e.contextTypes,s=(r=r!=null)?Bo(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function OS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zf.enqueueReplaceState(e,e.state,null)}function dy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},y_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mn(s):(s=cn(e)?As:zt.current,i.context=Bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zf.enqueueReplaceState(i,i.state,null),Sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qo(t,e){try{var n="",r=e;do n+=QL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Om(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EV=typeof WeakMap=="function"?WeakMap:Map;function Bk(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cd||(Cd=!0,Ey=r),fy(t,e)},n}function $k(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fy(t,e),typeof r!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function MS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=VV.bind(null,t,e,n),e.then(t,t))}function DS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Si(n,e,1))),n.lanes|=1),t)}var TV=Wr.ReactCurrentOwner,an=!1;function Kt(t,e,n,r){e.child=t===null?vk(e,null,n,r):Ho(e,t.child,n,r)}function NS(t,e,n,r,i){n=n.render;var s=e.ref;return Ro(e,i),r=S_(t,e,n,r,s,i),n=E_(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ve&&n&&c_(e),e.flags|=1,Kt(t,e,r,i),e.child)}function VS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Hk(t,e,s,r,i)):(t=Fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zl,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Hk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zl(s,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return py(t,e,n,r,i)}function Wk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(wo,fn),fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(wo,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(wo,fn),fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(wo,fn),fn|=r;return Kt(t,e,i,n),e.child}function qk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function py(t,e,n,r,i){var s=cn(n)?As:zt.current;return s=Bo(e,s),Ro(e,i),n=S_(t,e,n,r,s,i),r=E_(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Ve&&r&&c_(e),e.flags|=1,Kt(t,e,n,i),e.child)}function jS(t,e,n,r,i){if(cn(n)){var s=!0;yd(e)}else s=!1;if(Ro(e,i),e.stateNode===null)Nh(t,e),zk(e,n,r),dy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Mn(u):(u=cn(n)?As:zt.current,u=Bo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&OS(e,o,r,u),ii=!1;var f=e.memoizedState;o.state=f,Sd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||un.current||ii?(typeof c=="function"&&(hy(e,n,c,r),l=e.memoizedState),(a=ii||RS(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mn(l):(l=cn(n)?As:zt.current,l=Bo(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&OS(e,o,r,l),ii=!1,f=e.memoizedState,o.state=f,Sd(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||un.current||ii?(typeof m=="function"&&(hy(e,n,m,r),y=e.memoizedState),(u=ii||RS(e,n,u,r,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return my(t,e,n,r,s,i)}function my(t,e,n,r,i,s){qk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ES(e,n,!1),Fr(t,e,s);r=e.stateNode,TV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ho(e,t.child,null,s),e.child=Ho(e,null,a,s)):Kt(t,e,a,s),e.memoizedState=r.state,i&&ES(e,n,!0),e.child}function Kk(t){var e=t.stateNode;e.pendingContext?SS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&SS(t,e.context,!1),v_(t,e.containerInfo)}function FS(t,e,n,r,i){return $o(),d_(i),e.flags|=256,Kt(t,e,n,r),e.child}var gy={dehydrated:null,treeContext:null,retryLane:0};function yy(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gk(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(ze,i&1),t===null)return uy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Hf(o,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yy(n),e.memoizedState=gy,t):P_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xV(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=Cs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?yy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gy,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function P_(t,e){return e=Hf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wc(t,e,n,r){return r!==null&&d_(r),Ho(e,t.child,null,n),t=P_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Om(Error(z(422))),Wc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Hf({mode:"visible",children:r.children},i,0,null),s=Cs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ho(e,t.child,null,o),e.child.memoizedState=yy(o),e.memoizedState=gy,s);if(!(e.mode&1))return Wc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Om(s,r,void 0),Wc(t,e,o,r)}if(a=(o&t.childLanes)!==0,an||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jr(t,i),Hn(r,t,i,-1))}return O_(),r=Om(Error(z(421))),Wc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pn=bi(i.nextSibling),gn=e,Ve=!0,zn=null,t!==null&&(Pn[Cn++]=xr,Pn[Cn++]=Pr,Pn[Cn++]=Rs,xr=t.id,Pr=t.overflow,Rs=e),e=P_(e,r.children),e.flags|=4096,e)}function US(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cy(t.return,e,n)}function Mm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&US(t,n,e);else if(t.tag===19)US(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PV(t,e,n){switch(e.tag){case 3:Kk(e),$o();break;case 5:bk(e);break;case 1:cn(e.type)&&yd(e);break;case 4:v_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(wd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?Gk(t,e,n):(ke(ze,ze.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);ke(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,Wk(t,e,n)}return Fr(t,e,n)}var Qk,vy,Xk,Jk;Qk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vy=function(){};Xk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(rr.current);var s=null;switch(n){case"input":i=Ug(t,i),r=Ug(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=$g(t,i),r=$g(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=md)}Wg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Jk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ya(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CV(t,e,n){var r=e.pendingProps;switch(h_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return cn(e.type)&&gd(),Mt(e),null;case 3:return r=e.stateNode,Wo(),Oe(un),Oe(zt),w_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($c(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Py(zn),zn=null))),vy(t,e),Mt(e),null;case 5:__(e);var i=ws(iu.current);if(n=e.type,t!==null&&e.stateNode!=null)Xk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Mt(e),null}if(t=ws(rr.current),$c(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[nu]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<cl.length;i++)Re(cl[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Yb(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":Xb(r,s),Re("invalid",r)}Wg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bc(r.textContent,a,t),i=["children",""+a]):ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Dc(r),Qb(r,s,!0);break;case"textarea":Dc(r),Jb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=md)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[nu]=r,Qk(t,e,!1,!1),e.stateNode=t;e:{switch(o=qg(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<cl.length;i++)Re(cl[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":Yb(t,r),i=Ug(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Xb(t,r),i=$g(t,r),Re("invalid",t);break;default:i=r}Wg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?IC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&CC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(t,l):typeof l=="number"&&Kl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Qv(t,s,l,o))}switch(n){case"input":Dc(t),Qb(t,r,!1);break;case"textarea":Dc(t),Jb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Co(t,!!r.multiple,s,!1):r.defaultValue!=null&&Co(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)Jk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ws(iu.current),ws(rr.current),$c(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:Bc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return Mt(e),null;case 13:if(Oe(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&pn!==null&&e.mode&1&&!(e.flags&128))gk(),$o(),e.flags|=98560,s=!1;else if(s=$c(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[tr]=e}else $o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),s=!1}else zn!==null&&(Py(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ht===0&&(ht=3):O_())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return Wo(),vy(t,e),t===null&&eu(e.stateNode.containerInfo),Mt(e),null;case 10:return m_(e.type._context),Mt(e),null;case 17:return cn(e.type)&&gd(),Mt(e),null;case 19:if(Oe(ze),s=e.memoizedState,s===null)return Mt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ya(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ed(t),o!==null){for(e.flags|=128,Ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>Ko&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ed(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return Mt(e),null}else 2*tt()-s.renderingStartTime>Ko&&n!==1073741824&&(e.flags|=128,r=!0,Ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=ze.current,ke(ze,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return R_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function kV(t,e){switch(h_(e),e.tag){case 1:return cn(e.type)&&gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wo(),Oe(un),Oe(zt),w_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return __(e),null;case 13:if(Oe(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));$o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(ze),null;case 4:return Wo(),null;case 10:return m_(e.type._context),null;case 22:case 23:return R_(),null;case 24:return null;default:return null}}var qc=!1,jt=!1,IV=typeof WeakSet=="function"?WeakSet:Set,K=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function _y(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var zS=!1;function AV(t,e){if(ny=dd,t=rk(),u_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ry={focusedElem:t,selectionRange:n},dd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Fn(e.type,g),b);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(A){Ye(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return y=zS,zS=!1,y}function kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_y(e,n,s)}i=i.next}while(i!==r)}}function Bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zk(t){var e=t.alternate;e!==null&&(t.alternate=null,Zk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[nu],delete e[oy],delete e[dV],delete e[fV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eI(t){return t.tag===5||t.tag===3||t.tag===4}function BS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function by(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=md));else if(r!==4&&(t=t.child,t!==null))for(by(t,e,n),t=t.sibling;t!==null;)by(t,e,n),t=t.sibling}function Sy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sy(t,e,n),t=t.sibling;t!==null;)Sy(t,e,n),t=t.sibling}var bt=null,Un=!1;function Qr(t,e,n){for(n=n.child;n!==null;)tI(t,e,n),n=n.sibling}function tI(t,e,n){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:jt||_o(n,e);case 6:var r=bt,i=Un;bt=null,Qr(t,e,n),bt=r,Un=i,bt!==null&&(Un?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Un?(t=bt,n=n.stateNode,t.nodeType===8?Pm(t.parentNode,n):t.nodeType===1&&Pm(t,n),Xl(t)):Pm(bt,n.stateNode));break;case 4:r=bt,i=Un,bt=n.stateNode.containerInfo,Un=!0,Qr(t,e,n),bt=r,Un=i;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_y(n,e,o),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!jt&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Qr(t,e,n),jt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function $S(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IV),e.forEach(function(r){var i=FV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Un=!1;break e;case 3:bt=a.stateNode.containerInfo,Un=!0;break e;case 4:bt=a.stateNode.containerInfo,Un=!0;break e}a=a.return}if(bt===null)throw Error(z(160));tI(s,o,i),bt=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nI(e,t),e=e.sibling}function nI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),Gn(t),r&4){try{kl(3,t,t.return),Bf(3,t)}catch(g){Ye(t,t.return,g)}try{kl(5,t,t.return)}catch(g){Ye(t,t.return,g)}}break;case 1:Vn(e,t),Gn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(Vn(e,t),Gn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var i=t.stateNode;try{Kl(i,"")}catch(g){Ye(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TC(i,s),qg(a,o);var u=qg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?IC(i,d):c==="dangerouslySetInnerHTML"?CC(i,d):c==="children"?Kl(i,d):Qv(i,c,d,u)}switch(a){case"input":zg(i,s);break;case"textarea":xC(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Co(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Co(i,!!s.multiple,s.defaultValue,!0):Co(i,!!s.multiple,s.multiple?[]:"",!1))}i[nu]=s}catch(g){Ye(t,t.return,g)}}break;case 6:if(Vn(e,t),Gn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ye(t,t.return,g)}}break;case 3:if(Vn(e,t),Gn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(g){Ye(t,t.return,g)}break;case 4:Vn(e,t),Gn(t);break;case 13:Vn(e,t),Gn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I_=tt())),r&4&&$S(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(jt=(u=jt)||c,Vn(e,t),jt=u):Vn(e,t),Gn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:kl(4,f,f.return);break;case 1:_o(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Ye(r,n,g)}}break;case 5:_o(f,f.return);break;case 22:if(f.memoizedState!==null){WS(d);continue}}m!==null?(m.return=f,K=m):WS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=kC("display",o))}catch(g){Ye(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ye(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Vn(e,t),Gn(t),r&4&&$S(t);break;case 21:break;default:Vn(e,t),Gn(t)}}function Gn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eI(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=BS(t);Sy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BS(t);by(t,a,o);break;default:throw Error(z(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RV(t,e,n){K=t,rI(t)}function rI(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jt;a=qc;var u=jt;if(qc=o,(jt=l)&&!u)for(K=i;K!==null;)o=K,l=o.child,o.tag===22&&o.memoizedState!==null?qS(i):l!==null?(l.return=o,K=l):qS(i);for(;s!==null;)K=s,rI(s),s=s.sibling;K=i,qc=a,jt=u}HS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):HS(t)}}function HS(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jt||Bf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Fn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}jt||e.flags&512&&wy(e)}catch(f){Ye(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function WS(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function qS(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bf(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ye(e,i,l)}}var s=e.return;try{wy(e)}catch(l){Ye(e,s,l)}break;case 5:var o=e.return;try{wy(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var OV=Math.ceil,Pd=Wr.ReactCurrentDispatcher,C_=Wr.ReactCurrentOwner,On=Wr.ReactCurrentBatchConfig,ve=0,vt=null,it=null,Pt=0,fn=0,wo=qi(0),ht=0,lu=null,Ms=0,$f=0,k_=0,Il=null,rn=null,I_=0,Ko=1/0,Sr=null,Cd=!1,Ey=null,Ei=null,Kc=!1,fi=null,kd=0,Al=0,Ty=null,Vh=-1,jh=0;function Yt(){return ve&6?tt():Vh!==-1?Vh:Vh=tt()}function Ti(t){return t.mode&1?ve&2&&Pt!==0?Pt&-Pt:mV.transition!==null?(jh===0&&(jh=zC()),jh):(t=Te,t!==0||(t=window.event,t=t===void 0?16:GC(t.type)),t):1}function Hn(t,e,n,r){if(50<Al)throw Al=0,Ty=null,Error(z(185));Nu(t,n,r),(!(ve&2)||t!==vt)&&(t===vt&&(!(ve&2)&&($f|=n),ht===4&&ai(t,Pt)),hn(t,r),n===1&&ve===0&&!(e.mode&1)&&(Ko=tt()+500,Ff&&Ki()))}function hn(t,e){var n=t.callbackNode;mN(t,e);var r=hd(t,t===vt?Pt:0);if(r===0)n!==null&&tS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tS(n),e===1)t.tag===0?pV(KS.bind(null,t)):fk(KS.bind(null,t)),cV(function(){!(ve&6)&&Ki()}),n=null;else{switch(BC(r)){case 1:n=t_;break;case 4:n=FC;break;case 16:n=cd;break;case 536870912:n=UC;break;default:n=cd}n=hI(n,iI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iI(t,e){if(Vh=-1,jh=0,ve&6)throw Error(z(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=hd(t,t===vt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Id(t,r);else{e=r;var i=ve;ve|=2;var s=oI();(vt!==t||Pt!==e)&&(Sr=null,Ko=tt()+500,Ps(t,e));do try{LV();break}catch(a){sI(t,a)}while(!0);p_(),Pd.current=s,ve=i,it!==null?e=0:(vt=null,Pt=0,e=ht)}if(e!==0){if(e===2&&(i=Xg(t),i!==0&&(r=i,e=xy(t,i))),e===1)throw n=lu,Ps(t,0),ai(t,r),hn(t,tt()),n;if(e===6)ai(t,r);else{if(i=t.current.alternate,!(r&30)&&!MV(i)&&(e=Id(t,r),e===2&&(s=Xg(t),s!==0&&(r=s,e=xy(t,s))),e===1))throw n=lu,Ps(t,0),ai(t,r),hn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:fs(t,rn,Sr);break;case 3:if(ai(t,r),(r&130023424)===r&&(e=I_+500-tt(),10<e)){if(hd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sy(fs.bind(null,t,rn,Sr),e);break}fs(t,rn,Sr);break;case 4:if(ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-$n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OV(r/1960))-r,10<r){t.timeoutHandle=sy(fs.bind(null,t,rn,Sr),r);break}fs(t,rn,Sr);break;case 5:fs(t,rn,Sr);break;default:throw Error(z(329))}}}return hn(t,tt()),t.callbackNode===n?iI.bind(null,t):null}function xy(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=Id(t,e),t!==2&&(e=rn,rn=n,e!==null&&Py(e)),t}function Py(t){rn===null?rn=t:rn.push.apply(rn,t)}function MV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~k_,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function KS(t){if(ve&6)throw Error(z(327));Oo();var e=hd(t,0);if(!(e&1))return hn(t,tt()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=Xg(t);r!==0&&(e=r,n=xy(t,r))}if(n===1)throw n=lu,Ps(t,0),ai(t,e),hn(t,tt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fs(t,rn,Sr),hn(t,tt()),null}function A_(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Ko=tt()+500,Ff&&Ki())}}function Ds(t){fi!==null&&fi.tag===0&&!(ve&6)&&Oo();var e=ve;ve|=1;var n=On.transition,r=Te;try{if(On.transition=null,Te=1,t)return t()}finally{Te=r,On.transition=n,ve=e,!(ve&6)&&Ki()}}function R_(){fn=wo.current,Oe(wo)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uV(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(h_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gd();break;case 3:Wo(),Oe(un),Oe(zt),w_();break;case 5:__(r);break;case 4:Wo();break;case 13:Oe(ze);break;case 19:Oe(ze);break;case 10:m_(r.type._context);break;case 22:case 23:R_()}n=n.return}if(vt=t,it=t=xi(t.current,null),Pt=fn=e,ht=0,lu=null,k_=$f=Ms=0,rn=Il=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return t}function sI(t,e){do{var n=it;try{if(p_(),Dh.current=xd,Td){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}if(Os=0,gt=lt=$e=null,Cl=!1,su=0,C_.current=null,n===null||n.return===null){ht=1,lu=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=DS(o);if(m!==null){m.flags&=-257,LS(m,o,a,s,e),m.mode&1&&MS(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){MS(s,u,e),O_();break e}l=Error(z(426))}}else if(Ve&&a.mode&1){var b=DS(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),LS(b,o,a,s,e),d_(qo(l,a));break e}}s=l=qo(l,a),ht!==4&&(ht=2),Il===null?Il=[s]:Il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Bk(s,l,e);CS(s,v);break e;case 1:a=l;var _=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ei===null||!Ei.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=$k(s,a,e);CS(s,A);break e}}s=s.return}while(s!==null)}lI(n)}catch(I){e=I,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function oI(){var t=Pd.current;return Pd.current=xd,t===null?xd:t}function O_(){(ht===0||ht===3||ht===2)&&(ht=4),vt===null||!(Ms&268435455)&&!($f&268435455)||ai(vt,Pt)}function Id(t,e){var n=ve;ve|=2;var r=oI();(vt!==t||Pt!==e)&&(Sr=null,Ps(t,e));do try{DV();break}catch(i){sI(t,i)}while(!0);if(p_(),ve=n,Pd.current=r,it!==null)throw Error(z(261));return vt=null,Pt=0,ht}function DV(){for(;it!==null;)aI(it)}function LV(){for(;it!==null&&!oN();)aI(it)}function aI(t){var e=cI(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?lI(t):it=e,C_.current=null}function lI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kV(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,it=null;return}}else if(n=CV(n,e,fn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ht===0&&(ht=5)}function fs(t,e,n){var r=Te,i=On.transition;try{On.transition=null,Te=1,NV(t,e,n,r)}finally{On.transition=i,Te=r}return null}function NV(t,e,n,r){do Oo();while(fi!==null);if(ve&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gN(t,s),t===vt&&(it=vt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,hI(cd,function(){return Oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=Te;Te=1;var a=ve;ve|=4,C_.current=null,AV(t,n),nI(n,t),nV(ry),dd=!!ny,ry=ny=null,t.current=n,RV(n),aN(),ve=a,Te=o,On.transition=s}else t.current=n;if(Kc&&(Kc=!1,fi=t,kd=i),s=t.pendingLanes,s===0&&(Ei=null),cN(n.stateNode),hn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cd)throw Cd=!1,t=Ey,Ey=null,t;return kd&1&&t.tag!==0&&Oo(),s=t.pendingLanes,s&1?t===Ty?Al++:(Al=0,Ty=t):Al=0,Ki(),null}function Oo(){if(fi!==null){var t=BC(kd),e=On.transition,n=Te;try{if(On.transition=null,Te=16>t?16:t,fi===null)var r=!1;else{if(t=fi,fi=null,kd=0,ve&6)throw Error(z(331));var i=ve;for(ve|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:kl(8,c,s)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,m=c.return;if(Zk(c),c===u){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,K=v;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,K=S;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bf(9,a)}}catch(I){Ye(a,a.return,I)}if(a===o){K=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,K=A;break e}K=a.return}}if(ve=i,Ki(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{Te=n,On.transition=e}}return!1}function GS(t,e,n){e=qo(n,e),e=Bk(t,e,1),t=Si(t,e,1),e=Yt(),t!==null&&(Nu(t,1,e),hn(t,e))}function Ye(t,e,n){if(t.tag===3)GS(t,t,n);else for(;e!==null;){if(e.tag===3){GS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ei===null||!Ei.has(r))){t=qo(n,t),t=$k(e,t,1),e=Si(e,t,1),t=Yt(),e!==null&&(Nu(e,1,t),hn(e,t));break}}e=e.return}}function VV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Pt&n)===n&&(ht===4||ht===3&&(Pt&130023424)===Pt&&500>tt()-I_?Ps(t,0):k_|=n),hn(t,e)}function uI(t,e){e===0&&(t.mode&1?(e=Vc,Vc<<=1,!(Vc&130023424)&&(Vc=4194304)):e=1);var n=Yt();t=jr(t,e),t!==null&&(Nu(t,e,n),hn(t,n))}function jV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uI(t,n)}function FV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),uI(t,n)}var cI;cI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,PV(t,e,n);an=!!(t.flags&131072)}else an=!1,Ve&&e.flags&1048576&&pk(e,_d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nh(t,e),t=e.pendingProps;var i=Bo(e,zt.current);Ro(e,n),i=S_(null,e,r,t,i,n);var s=E_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(s=!0,yd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y_(e),i.updater=zf,e.stateNode=i,i._reactInternals=e,dy(e,r,t,n),e=my(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&c_(e),Kt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zV(r),t=Fn(r,t),i){case 0:e=py(null,e,r,t,n);break e;case 1:e=jS(null,e,r,t,n);break e;case 11:e=NS(null,e,r,t,n);break e;case 14:e=VS(null,e,r,Fn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),py(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),jS(t,e,r,i,n);case 3:e:{if(Kk(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wk(t,e),Sd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=qo(Error(z(423)),e),e=FS(t,e,r,n,i);break e}else if(r!==i){i=qo(Error(z(424)),e),e=FS(t,e,r,n,i);break e}else for(pn=bi(e.stateNode.containerInfo.firstChild),gn=e,Ve=!0,zn=null,n=vk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($o(),r===i){e=Fr(t,e,n);break e}Kt(t,e,r,n)}e=e.child}return e;case 5:return bk(e),t===null&&uy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,iy(r,i)?o=null:s!==null&&iy(r,s)&&(e.flags|=32),qk(t,e),Kt(t,e,o,n),e.child;case 6:return t===null&&uy(e),null;case 13:return Gk(t,e,n);case 4:return v_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ho(e,null,r,n):Kt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),NS(t,e,r,i,n);case 7:return Kt(t,e,e.pendingProps,n),e.child;case 8:return Kt(t,e,e.pendingProps.children,n),e.child;case 12:return Kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(wd,r._currentValue),r._currentValue=o,s!==null)if(Wn(s.value,o)){if(s.children===i.children&&!un.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=Mn(i),r=r(i),e.flags|=1,Kt(t,e,r,n),e.child;case 14:return r=e.type,i=Fn(r,e.pendingProps),i=Fn(r.type,i),VS(t,e,r,i,n);case 15:return Hk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Fn(r,i),Nh(t,e),e.tag=1,cn(r)?(t=!0,yd(e)):t=!1,Ro(e,n),zk(e,r,i),dy(e,r,i,n),my(null,e,r,!0,t,n);case 19:return Yk(t,e,n);case 22:return Wk(t,e,n)}throw Error(z(156,e.tag))};function hI(t,e){return jC(t,e)}function UV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new UV(t,e,n,r)}function M_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zV(t){if(typeof t=="function")return M_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jv)return 11;if(t===Zv)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")M_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uo:return Cs(n.children,i,s,e);case Xv:o=8,i|=8;break;case Ng:return t=In(12,n,e,i|2),t.elementType=Ng,t.lanes=s,t;case Vg:return t=In(13,n,e,i),t.elementType=Vg,t.lanes=s,t;case jg:return t=In(19,n,e,i),t.elementType=jg,t.lanes=s,t;case bC:return Hf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _C:o=10;break e;case wC:o=9;break e;case Jv:o=11;break e;case Zv:o=14;break e;case ri:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function Hf(t,e,n,r){return t=In(22,t,r,e),t.elementType=bC,t.lanes=n,t.stateNode={isHidden:!1},t}function Dm(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function Lm(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mm(0),this.expirationTimes=mm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D_(t,e,n,r,i,s,o,a,l){return t=new BV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},y_(s),t}function $V(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dI(t){if(!t)return Di;t=t._reactInternals;e:{if(Ws(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(cn(n))return dk(t,n,e)}return e}function fI(t,e,n,r,i,s,o,a,l){return t=D_(n,r,!0,t,i,s,o,a,l),t.context=dI(null),n=t.current,r=Yt(),i=Ti(n),s=Or(r,i),s.callback=e??null,Si(n,s,i),t.current.lanes=i,Nu(t,i,r),hn(t,r),t}function Wf(t,e,n,r){var i=e.current,s=Yt(),o=Ti(i);return n=dI(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Si(i,e,o),t!==null&&(Hn(t,i,o,s),Mh(t,i,o)),o}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L_(t,e){YS(t,e),(t=t.alternate)&&YS(t,e)}function HV(){return null}var pI=typeof reportError=="function"?reportError:function(t){console.error(t)};function N_(t){this._internalRoot=t}qf.prototype.render=N_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Wf(t,e,null,null)};qf.prototype.unmount=N_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Wf(null,t,null,null)}),e[Vr]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=WC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&KC(t)}};function V_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QS(){}function WV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ad(o);s.call(u)}}var o=fI(e,r,t,0,null,!1,!1,"",QS);return t._reactRootContainer=o,t[Vr]=o.current,eu(t.nodeType===8?t.parentNode:t),Ds(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ad(l);a.call(u)}}var l=D_(t,0,!1,null,null,!1,!1,"",QS);return t._reactRootContainer=l,t[Vr]=l.current,eu(t.nodeType===8?t.parentNode:t),Ds(function(){Wf(e,l,n,r)}),l}function Gf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ad(o);a.call(l)}}Wf(e,o,t,i)}else o=WV(n,e,t,i,r);return Ad(o)}$C=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ul(e.pendingLanes);n!==0&&(n_(e,n|1),hn(e,tt()),!(ve&6)&&(Ko=tt()+500,Ki()))}break;case 13:Ds(function(){var r=jr(t,1);if(r!==null){var i=Yt();Hn(r,t,1,i)}}),L_(t,1)}};r_=function(t){if(t.tag===13){var e=jr(t,134217728);if(e!==null){var n=Yt();Hn(e,t,134217728,n)}L_(t,134217728)}};HC=function(t){if(t.tag===13){var e=Ti(t),n=jr(t,e);if(n!==null){var r=Yt();Hn(n,t,e,r)}L_(t,e)}};WC=function(){return Te};qC=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Gg=function(t,e,n){switch(e){case"input":if(zg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jf(r);if(!i)throw Error(z(90));EC(r),zg(r,i)}}}break;case"textarea":xC(t,n);break;case"select":e=n.value,e!=null&&Co(t,!!n.multiple,e,!1)}};OC=A_;MC=Ds;var qV={usingClientEntryPoint:!1,Events:[ju,po,jf,AC,RC,A_]},Qa={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KV={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=NC(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||HV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{Df=Gc.inject(KV),nr=Gc}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qV;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V_(e))throw Error(z(200));return $V(t,e,null,n)};bn.createRoot=function(t,e){if(!V_(t))throw Error(z(299));var n=!1,r="",i=pI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=D_(t,1,!1,null,null,n,!1,r,i),t[Vr]=e.current,eu(t.nodeType===8?t.parentNode:t),new N_(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=NC(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Ds(t)};bn.hydrate=function(t,e,n){if(!Kf(e))throw Error(z(200));return Gf(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!V_(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fI(e,null,t,1,n??null,i,!1,s,o),t[Vr]=e.current,eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qf(e)};bn.render=function(t,e,n){if(!Kf(e))throw Error(z(200));return Gf(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!Kf(t))throw Error(z(40));return t._reactRootContainer?(Ds(function(){Gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};bn.unstable_batchedUpdates=A_;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kf(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Gf(t,e,n,!1,r)};bn.version="18.3.1-next-f1338f8080-20240426";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(t){console.error(t)}}mI(),mC.exports=bn;var gI=mC.exports,XS=gI;Dg.createRoot=XS.createRoot,Dg.hydrateRoot=XS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uu(){return uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uu.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const JS="popstate";function GV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Cy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rd(i)}return QV(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YV(){return Math.random().toString(36).substr(2,8)}function ZS(t,e){return{usr:t.state,key:t.key,idx:e}}function Cy(t,e,n,r){return n===void 0&&(n=null),uu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ma(e):e,{state:n,key:e&&e.key||r||YV()})}function Rd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ma(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pi.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(uu({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=pi.Pop;let b=c(),v=b==null?null:b-u;u=b,l&&l({action:a,location:g.location,delta:v})}function f(b,v){a=pi.Push;let _=Cy(g.location,b,v);u=c()+1;let S=ZS(_,u),A=g.createHref(_);try{o.pushState(S,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(A)}s&&l&&l({action:a,location:g.location,delta:1})}function m(b,v){a=pi.Replace;let _=Cy(g.location,b,v);u=c();let S=ZS(_,u),A=g.createHref(_);o.replaceState(S,"",A),s&&l&&l({action:a,location:g.location,delta:0})}function y(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:Rd(b);return _=_.replace(/ $/,"%20"),nt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JS,d),l=b,()=>{i.removeEventListener(JS,d),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let v=y(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(b){return o.go(b)}};return g}var eE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eE||(eE={}));function XV(t,e,n){return n===void 0&&(n="/"),JV(t,e,n)}function JV(t,e,n,r){let i=typeof e=="string"?ma(e):e,s=j_(i.pathname||"/",n);if(s==null)return null;let o=vI(t);ZV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=hj(s);a=lj(o[l],u)}return a}function vI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Pi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:oj(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of _I(s.path))i(s,o,l)}),e}function _I(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_I(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ZV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ej=/^:[\w-]+$/,tj=3,nj=2,rj=1,ij=10,sj=-2,tE=t=>t==="*";function oj(t,e){let n=t.split("/"),r=n.length;return n.some(tE)&&(r+=sj),e&&(r+=nj),n.filter(i=>!tE(i)).reduce((i,s)=>i+(ej.test(s)?tj:s===""?rj:ij),r)}function aj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lj(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=uj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Pi([s,d.pathname]),pathnameBase:mj(Pi([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Pi([s,d.pathnameBase]))}return o}function uj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=cj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[d];return m&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function cj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ma(t):t;return{pathname:n?n.startsWith("/")?n:fj(n,e):e,search:gj(r),hash:yj(i)}}function fj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F_(t,e){let n=pj(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function U_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ma(t):(i=uu({},t),nt(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=dj(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Pi=t=>t.join("/").replace(/\/\/+/g,"/"),mj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wI=["post","put","patch","delete"];new Set(wI);const _j=["get",...wI];new Set(_j);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}const z_=L.createContext(null),wj=L.createContext(null),Gi=L.createContext(null),Yf=L.createContext(null),Yi=L.createContext({outlet:null,matches:[],isDataRoute:!1}),bI=L.createContext(null);function bj(t,e){let{relative:n}=e===void 0?{}:e;ga()||nt(!1);let{basename:r,navigator:i}=L.useContext(Gi),{hash:s,pathname:o,search:a}=EI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Pi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ga(){return L.useContext(Yf)!=null}function ya(){return ga()||nt(!1),L.useContext(Yf).location}function SI(t){L.useContext(Gi).static||L.useLayoutEffect(t)}function Uu(){let{isDataRoute:t}=L.useContext(Yi);return t?Dj():Sj()}function Sj(){ga()||nt(!1);let t=L.useContext(z_),{basename:e,future:n,navigator:r}=L.useContext(Gi),{matches:i}=L.useContext(Yi),{pathname:s}=ya(),o=JSON.stringify(F_(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return SI(()=>{a.current=!0}),L.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=U_(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pi([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function EI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Gi),{matches:i}=L.useContext(Yi),{pathname:s}=ya(),o=JSON.stringify(F_(i,r.v7_relativeSplatPath));return L.useMemo(()=>U_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Ej(t,e){return Tj(t,e)}function Tj(t,e,n,r){ga()||nt(!1);let{navigator:i,static:s}=L.useContext(Gi),{matches:o}=L.useContext(Yi),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=ya(),d;if(e){var f;let v=typeof e=="string"?ma(e):e;u==="/"||(f=v.pathname)!=null&&f.startsWith(u)||nt(!1),d=v}else d=c;let m=d.pathname||"/",y=m;if(u!=="/"){let v=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=XV(t,{pathname:y}),b=Ij(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Pi([u,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Pi([u,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&b?L.createElement(Yf.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pi.Pop}},b):b}function xj(){let t=Mj(),e=vj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const Pj=L.createElement(xj,null);class Cj extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Yi.Provider,{value:this.props.routeContext},L.createElement(bI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kj(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(z_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Yi.Provider,{value:e},r)}function Ij(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||nt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let m,y=!1,g=null,b=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||Pj,l&&(u<0&&f===0?(Lj("route-fallback"),y=!0,b=null):u===f&&(y=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),_=()=>{let S;return m?S=g:y?S=b:d.route.Component?S=L.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,L.createElement(kj,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?L.createElement(Cj,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var TI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TI||{}),xI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xI||{});function Aj(t){let e=L.useContext(z_);return e||nt(!1),e}function Rj(t){let e=L.useContext(wj);return e||nt(!1),e}function Oj(t){let e=L.useContext(Yi);return e||nt(!1),e}function PI(t){let e=Oj(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function Mj(){var t;let e=L.useContext(bI),n=Rj(),r=PI();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Dj(){let{router:t}=Aj(TI.UseNavigateStable),e=PI(xI.UseNavigateStable),n=L.useRef(!1);return SI(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cu({fromRouteId:e},s)))},[t,e])}const nE={};function Lj(t,e,n){nE[t]||(nE[t]=!0)}function Nj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vj(t){let{to:e,replace:n,state:r,relative:i}=t;ga()||nt(!1);let{future:s,static:o}=L.useContext(Gi),{matches:a}=L.useContext(Yi),{pathname:l}=ya(),u=Uu(),c=U_(e,F_(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return L.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Uh(t){nt(!1)}function jj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pi.Pop,navigator:s,static:o=!1,future:a}=t;ga()&&nt(!1);let l=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:s,static:o,future:cu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ma(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:y="default"}=r,g=L.useMemo(()=>{let b=j_(c,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:m,key:y},navigationType:i}},[l,c,d,f,m,y,i]);return g==null?null:L.createElement(Gi.Provider,{value:u},L.createElement(Yf.Provider,{children:n,value:g}))}function Fj(t){let{children:e,location:n}=t;return Ej(ky(e),n)}new Promise(()=>{});function ky(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,ky(r.props.children,s));return}r.type!==Uh&&nt(!1),!r.props.index||!r.props.children||nt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ky(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function Uj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bj(t,e){return t.button===0&&(!e||e==="_self")&&!zj(t)}const $j=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hj="6";try{window.__reactRouterVersion=Hj}catch{}const Wj="startTransition",rE=VL[Wj];function qj(t){let{basename:e,children:n,future:r,window:i}=t,s=L.useRef();s.current==null&&(s.current=GV({window:i,v5Compat:!0}));let o=s.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=L.useCallback(d=>{u&&rE?rE(()=>l(d)):l(d)},[l,u]);return L.useLayoutEffect(()=>o.listen(c),[o,c]),L.useEffect(()=>Nj(r),[r]),L.createElement(jj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Kj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iE=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=Uj(e,$j),{basename:m}=L.useContext(Gi),y,g=!1;if(typeof u=="string"&&Gj.test(u)&&(y=u,Kj))try{let S=new URL(window.location.href),A=u.startsWith("//")?new URL(S.protocol+u):new URL(u),I=j_(A.pathname,m);A.origin===S.origin&&I!=null?u=I+A.search+A.hash:g=!0}catch{}let b=bj(u,{relative:i}),v=Yj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(S){r&&r(S),S.defaultPrevented||v(S)}return L.createElement("a",Iy({},f,{href:y||b,onClick:g||s?r:_,ref:n,target:l}))});var sE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sE||(sE={}));var oE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(oE||(oE={}));function Yj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Uu(),u=ya(),c=EI(t,{relative:o});return L.useCallback(d=>{if(Bj(d,n)){d.preventDefault();let f=r!==void 0?r:Rd(u)===Rd(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const Qj=()=>{};var aE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Xj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Jj;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zj=function(t){const e=CI(t);return kI.encodeByteArray(e,!0)},Od=function(t){return Zj(t).replace(/\./g,"")},II=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=()=>eF().__FIREBASE_DEFAULTS__,nF=()=>{if(typeof process>"u"||typeof aE>"u")return;const t=aE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&II(t[1]);return e&&JSON.parse(e)},Qf=()=>{try{return Qj()||tF()||nF()||rF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AI=t=>{var e,n;return(n=(e=Qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iF=t=>{const e=AI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RI=()=>{var t;return(t=Qf())===null||t===void 0?void 0:t.config},OI=t=>{var e;return(e=Qf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Od(JSON.stringify(n)),Od(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function lF(){var t;const e=(t=Qf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cF(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dF(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fF(){return!lF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pF(){try{return typeof indexedDB=="object"}catch{return!1}}function mF(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gF,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zu.prototype.create)}}class zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qr(i,a,r)}}function yF(t,e){return t.replace(vF,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vF=/\{\$([^}]+)}/g;function _F(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lE(s)&&lE(o)){if(!Ls(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wF(t,e){const n=new bF(t,e);return n.subscribe.bind(n)}class bF{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");SF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xF(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TF(t){return t===ps?void 0:t}function xF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const CF={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},kF=de.INFO,IF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},AF=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class B_{constructor(e){this.name=e,this._logLevel=kF,this._logHandler=AF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const RF=(t,e)=>e.some(n=>t instanceof n);let uE,cE;function OF(){return uE||(uE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MF(){return cE||(cE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MI=new WeakMap,Ay=new WeakMap,DI=new WeakMap,jm=new WeakMap,$_=new WeakMap;function DF(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ci(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MI.set(n,t)}).catch(()=>{}),$_.set(e,t),e}function LF(t){if(Ay.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ay.set(t,e)}let Ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NF(t){Ry=t(Ry)}function VF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return DI.set(r,e.sort?e.sort():[e]),Ci(r)}:MF().includes(t)?function(...e){return t.apply(Fm(this),e),Ci(MI.get(this))}:function(...e){return Ci(t.apply(Fm(this),e))}}function jF(t){return typeof t=="function"?VF(t):(t instanceof IDBTransaction&&LF(t),RF(t,OF())?new Proxy(t,Ry):t)}function Ci(t){if(t instanceof IDBRequest)return DF(t);if(jm.has(t))return jm.get(t);const e=jF(t);return e!==t&&(jm.set(t,e),$_.set(e,t)),e}const Fm=t=>$_.get(t);function FF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const UF=["get","getKey","getAll","getAllKeys","count"],zF=["put","add","delete","clear"],Um=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Um.set(e,s),s}NF(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($F(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $F(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Oy="@firebase/app",dE="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new B_("@firebase/app"),HF="@firebase/app-compat",WF="@firebase/analytics-compat",qF="@firebase/analytics",KF="@firebase/app-check-compat",GF="@firebase/app-check",YF="@firebase/auth",QF="@firebase/auth-compat",XF="@firebase/database",JF="@firebase/data-connect",ZF="@firebase/database-compat",e4="@firebase/functions",t4="@firebase/functions-compat",n4="@firebase/installations",r4="@firebase/installations-compat",i4="@firebase/messaging",s4="@firebase/messaging-compat",o4="@firebase/performance",a4="@firebase/performance-compat",l4="@firebase/remote-config",u4="@firebase/remote-config-compat",c4="@firebase/storage",h4="@firebase/storage-compat",d4="@firebase/firestore",f4="@firebase/vertexai",p4="@firebase/firestore-compat",m4="firebase",g4="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="[DEFAULT]",y4={[Oy]:"fire-core",[HF]:"fire-core-compat",[qF]:"fire-analytics",[WF]:"fire-analytics-compat",[GF]:"fire-app-check",[KF]:"fire-app-check-compat",[YF]:"fire-auth",[QF]:"fire-auth-compat",[XF]:"fire-rtdb",[JF]:"fire-data-connect",[ZF]:"fire-rtdb-compat",[e4]:"fire-fn",[t4]:"fire-fn-compat",[n4]:"fire-iid",[r4]:"fire-iid-compat",[i4]:"fire-fcm",[s4]:"fire-fcm-compat",[o4]:"fire-perf",[a4]:"fire-perf-compat",[l4]:"fire-rc",[u4]:"fire-rc-compat",[c4]:"fire-gcs",[h4]:"fire-gcs-compat",[d4]:"fire-fst",[p4]:"fire-fst-compat",[f4]:"fire-vertex","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new Map,v4=new Map,Dy=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Go(t){const e=t.name;if(Dy.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Dy.set(e,t);for(const n of Md.values())fE(n,t);for(const n of v4.values())fE(n,t);return!0}function H_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new zu("app","Firebase",_4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=g4;function LI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:My,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=RI()),!n)throw ki.create("no-options");const s=Md.get(i);if(s){if(Ls(n,s.options)&&Ls(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const o=new PF(i);for(const l of Dy.values())o.addComponent(l);const a=new w4(n,r,o);return Md.set(i,a),a}function NI(t=My){const e=Md.get(t);if(!e&&t===My&&RI())return LI();if(!e)throw ki.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=y4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Go(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="firebase-heartbeat-database",S4=1,hu="firebase-heartbeat-store";let zm=null;function VI(){return zm||(zm=FF(b4,S4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),zm}async function E4(t){try{const n=(await VI()).transaction(hu),r=await n.objectStore(hu).get(jI(t));return await n.done,r}catch(e){if(e instanceof qr)Ur.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function pE(t,e){try{const r=(await VI()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,jI(t)),await r.done}catch(n){if(n instanceof qr)Ur.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function jI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=1024,x4=30;class P4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x4){const o=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mE(),{heartbeatsToSend:r,unsentEntries:i}=C4(this._heartbeatsCache.heartbeats),s=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ur.warn(n),""}}}function mE(){return new Date().toISOString().substring(0,10)}function C4(t,e=T4){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pF()?mF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gE(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function I4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){Go(new Ns("platform-logger",e=>new BF(e),"PRIVATE")),Go(new Ns("heartbeat",e=>new P4(e),"PRIVATE")),Ii(Oy,dE,t),Ii(Oy,dE,"esm2017"),Ii("fire-js","")}A4("");function W_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function FI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R4=FI,UI=new zu("auth","Firebase",FI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new B_("@firebase/auth");function O4(t,...e){Dd.logLevel<=de.WARN&&Dd.warn(`Auth (${va}): ${t}`,...e)}function zh(t,...e){Dd.logLevel<=de.ERROR&&Dd.error(`Auth (${va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw q_(t,...e)}function ir(t,...e){return q_(t,...e)}function zI(t,e,n){const r=Object.assign(Object.assign({},R4()),{[e]:n});return new zu("auth","Firebase",r).create(e,{appName:t.name})}function Mr(t){return zI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UI.create(t,...e)}function re(t,e,...n){if(!t)throw q_(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zh(e),new Error(e)}function zr(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function M4(){return yE()==="http:"||yE()==="https:"}function yE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M4()||cF()||"connection"in navigator)?navigator.onLine:!0}function L4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=aF()||hF()}get(){return D4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new $u(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xi(t,e,n,r,i={}){return $I(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Bu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return uF()||(u.referrerPolicy="no-referrer"),BI.fetch()(HI(t,t.config.apiHost,n,a),u)})}async function $I(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N4),e);try{const i=new F4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Yc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Yc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Yc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zI(t,c,u);qn(t,c)}}catch(i){if(i instanceof qr)throw i;qn(t,"network-request-failed",{message:String(i)})}}async function Hu(t,e,n,r,i={}){const s=await Xi(t,e,n,r,i);return"mfaPendingCredential"in s&&qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function HI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?K_(t.config,i):`${t.config.apiScheme}://${i}`}function j4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ir(this.auth,"network-request-failed")),V4.get())})}}function Yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ir(t,e,r);return i.customData._tokenResponse=n,i}function vE(t){return t!==void 0&&t.enterprise!==void 0}class U4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function z4(t,e){return Xi(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function WI(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $4(t,e=!1){const n=$t(t),r=await n.getIdToken(e),i=G_(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Rl(Bm(i.auth_time)),issuedAtTime:Rl(Bm(i.iat)),expirationTime:Rl(Bm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bm(t){return Number(t)*1e3}function G_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=II(n);return i?JSON.parse(i):(zh("Failed to decode base64 JWT payload"),null)}catch(i){return zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _E(t){const e=G_(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&H4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await du(t,WI(n,{idToken:r}));re(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qI(s.providerUserInfo):[],a=K4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function q4(t){const e=$t(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qI(t){return t.map(e=>{var{providerId:n}=e,r=W_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e){const n=await $I(t,{},async()=>{const r=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=HI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y4(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await G4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=W_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ny(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $4(this,e)}reload(){return q4(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await du(this,B4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:A,isAnonymous:I,providerData:M,stsTokenManager:C}=n;re(S&&C,e,"internal-error");const E=Mo.fromJSON(this.name,C);re(typeof S=="string",e,"internal-error"),Xr(d,e.name),Xr(f,e.name),re(typeof A=="boolean",e,"internal-error"),re(typeof I=="boolean",e,"internal-error"),Xr(m,e.name),Xr(y,e.name),Xr(g,e.name),Xr(b,e.name),Xr(v,e.name),Xr(_,e.name);const T=new kr({uid:S,auth:e,email:f,emailVerified:A,displayName:d,isAnonymous:I,photoURL:y,phoneNumber:m,tenantId:g,stsTokenManager:E,createdAt:v,lastLoginAt:_});return M&&Array.isArray(M)&&(T.providerData=M.map(P=>Object.assign({},P))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mo;i.updateFromServerResponse(n);const s=new kr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ld(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(r);const l=new kr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ny(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function Ir(t){zr(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KI.type="NONE";const bE=KI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Ir(bE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ir(bE);const o=Bh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=kr._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Do(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZI(e))return"Blackberry";if(eA(e))return"Webos";if(YI(e))return"Safari";if((e.includes("chrome/")||QI(e))&&!e.includes("edge/"))return"Chrome";if(JI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GI(t=Bt()){return/firefox\//i.test(t)}function YI(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QI(t=Bt()){return/crios\//i.test(t)}function XI(t=Bt()){return/iemobile/i.test(t)}function JI(t=Bt()){return/android/i.test(t)}function ZI(t=Bt()){return/blackberry/i.test(t)}function eA(t=Bt()){return/webos/i.test(t)}function Y_(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q4(t=Bt()){var e;return Y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X4(){return dF()&&document.documentMode===10}function tA(t=Bt()){return Y_(t)||JI(t)||eA(t)||ZI(t)||/windows phone/i.test(t)||XI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e=[]){let n;switch(t){case"Browser":n=SE(Bt());break;case"Worker":n=`${SE(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=6;class tU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:eU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new J4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WI(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Mr(this));const n=e?$t(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z4(this),n=new tU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&O4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(t){return $t(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wF(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){Xf=t}function rA(t){return Xf.loadJS(t)}function iU(){return Xf.recaptchaEnterpriseScript}function sU(){return Xf.gapiScript}function oU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class aU{constructor(){this.enterprise=new lU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uU="recaptcha-enterprise",iA="NO_RECAPTCHA";class cU{constructor(e){this.type=uU,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{z4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new U4(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;vE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(iA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aU().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&vE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=iU();l.length!==0&&(l+=a),rA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function TE(t,e,n,r=!1,i=!1){const s=new cU(t);let o;if(i)o=iA;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Vy(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await TE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t,e){const n=H_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ls(s,e??{}))return i;qn(i,"already-initialized")}return n.initialize({options:e})}function dU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fU(t,e,n){const r=qs(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sA(e),{host:o,port:a}=pU(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ls(u,r.config.emulator)&&Ls(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,mU()}function sA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pU(t){const e=sA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xE(o)}}}function xE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function gU(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){return Hu(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function _U(t,e){return Hu(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Q_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,n,"signInWithPassword",yU);case"emailLink":return vU(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vy(e,r,"signUpPassword",gU);case"emailLink":return _U(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e){return Hu(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="http://localhost";class Vs extends Q_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=W_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Vs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Lo(e,n)}buildRequest(){const e={requestUri:wU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SU(t){const e=hl(dl(t)).link,n=e?hl(dl(e)).deep_link_id:null,r=hl(dl(t)).deep_link_id;return(r?hl(dl(r)).link:null)||r||n||e||t}class X_{constructor(e){var n,r,i,s,o,a;const l=hl(dl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=bU((i=l.mode)!==null&&i!==void 0?i:null);re(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=SU(e);try{return new X_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X_.parseLink(n);return re(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Wu{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wu{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Wu{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e){return Hu(t,"POST","/v1/accounts:signUp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await kr._fromIdTokenResponse(e,r,i),o=PE(r);return new js({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PE(r);return new js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends qr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nd(e,n,r,i)}}function aA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(t,s,e,r):s})}async function TU(t,e,n=!1){const r=await du(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(t,e,n=!1){const{auth:r}=t;if(kn(r.app))return Promise.reject(Mr(r));const i="reauthenticate";try{const s=await du(t,aA(r,i,e,t),n);re(s.idToken,r,"internal-error");const o=G_(s.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),js._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e,n=!1){if(kn(t.app))return Promise.reject(Mr(t));const r="signIn",i=await aA(t,r,e),s=await js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function PU(t,e){return lA(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CU(t,e,n){if(kn(t.app))return Promise.reject(Mr(t));const r=qs(t),o=await Vy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EU).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uA(t),l}),a=await js._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function kU(t,e,n){return kn(t.app)?Promise.reject(Mr(t)):PU($t(t),_a.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uA(t),r})}function IU(t,e,n,r){return $t(t).onIdTokenChanged(e,n,r)}function AU(t,e,n){return $t(t).beforeAuthStateChanged(e,n)}function Jf(t,e,n,r){return $t(t).onAuthStateChanged(e,n,r)}function RU(t){return $t(t).signOut()}const Vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vd,"1"),this.storage.removeItem(Vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=1e3,MU=10;class hA extends cA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const DU=hA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends cA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dA.type="SESSION";const fA=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await LU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=J_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function VU(t){sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function jU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UU(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",zU=1,jd="firebaseLocalStorage",gA="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ep(t,e){return t.transaction([jd],e?"readwrite":"readonly").objectStore(jd)}function BU(){const t=indexedDB.deleteDatabase(mA);return new qu(t).toPromise()}function jy(){const t=indexedDB.open(mA,zU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jd,{keyPath:gA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jd)?e(r):(r.close(),await BU(),e(await jy()))})})}async function CE(t,e,n){const r=ep(t,!0).put({[gA]:e,value:n});return new qu(r).toPromise()}async function $U(t,e){const n=ep(t,!1).get(e),r=await new qu(n).toPromise();return r===void 0?null:r.value}function kE(t,e){const n=ep(t,!0).delete(e);return new qu(n).toPromise()}const HU=800,WU=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(UU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jU(),!this.activeServiceWorker)return;this.sender=new NU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await CE(e,Vd,"1"),await kE(e,Vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$U(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ep(i,!1).getAll();return new qu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const qU=yA;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t,e){return e?Ir(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends Q_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GU(t){return lA(t.auth,new Z_(t),t.bypassAuthState)}function YU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),xU(n,new Z_(t),t.bypassAuthState)}async function QU(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),TU(n,new Z_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GU;case"linkViaPopup":case"linkViaRedirect":return QU;case"reauthViaPopup":case"reauthViaRedirect":return YU;default:qn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU=new $u(2e3,1e4);class bo extends vA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=J_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XU.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="pendingRedirect",$h=new Map;class ZU extends vA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const r=await ez(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ez(t,e){const n=rz(e),r=nz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tz(t,e){$h.set(t._key(),e)}function nz(t){return Ir(t._redirectPersistence)}function rz(t){return Bh(JU,t.config.apiKey,t.name)}async function iz(t,e,n=!1){if(kn(t.app))return Promise.reject(Mr(t));const r=qs(t),i=KU(r,e),o=await new ZU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=10*60*1e3;class oz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!az(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_A(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ir(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sz&&this.cachedEventUids.clear(),this.cachedEventUids.has(IE(e))}saveEventToCache(e){this.cachedEventUids.add(IE(e)),this.lastProcessedEventTime=Date.now()}}function IE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _A({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function az(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _A(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cz=/^https?/;async function hz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lz(t);for(const n of e)try{if(dz(n))return}catch{}qn(t,"unauthorized-domain")}function dz(t){const e=Ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cz.test(n))return!1;if(uz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=new $u(3e4,6e4);function AE(){const t=sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pz(t){return new Promise((e,n)=>{var r,i,s;function o(){AE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AE(),n(ir(t,"network-request-failed"))},timeout:fz.get()})}if(!((i=(r=sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sr().gapi)===null||s===void 0)&&s.load)o();else{const a=oU("iframefcb");return sr()[a]=()=>{gapi.load?o():n(ir(t,"network-request-failed"))},rA(`${sU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function mz(t){return Hh=Hh||pz(t),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new $u(5e3,15e3),yz="__/auth/iframe",vz="emulator/auth/iframe",_z={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bz(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K_(e,vz):`https://${t.config.authDomain}/${yz}`,r={apiKey:e.apiKey,appName:t.name,v:va},i=wz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bu(r).slice(1)}`}async function Sz(t){const e=await mz(t),n=sr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:bz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_z,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ir(t,"network-request-failed"),a=sr().setTimeout(()=>{s(o)},gz.get());function l(){sr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tz=500,xz=600,Pz="_blank",Cz="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kz(t,e,n,r=Tz,i=xz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ez),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(a=QI(u)?Pz:n),GI(u)&&(e=e||Cz,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(Q4(u)&&a!=="_self")return Iz(e||"",a),new RE(null);const d=window.open(e||"",a,c);re(d,t,"popup-blocked");try{d.focus()}catch{}return new RE(d)}function Iz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az="__/auth/handler",Rz="emulator/auth/handler",Oz=encodeURIComponent("fac");async function OE(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:va,eventId:i};if(e instanceof oA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_F(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Wu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Oz}=${encodeURIComponent(l)}`:"";return`${Mz(t)}?${Bu(a).slice(1)}${u}`}function Mz({config:t}){return t.emulator?K_(t,Rz):`https://${t.authDomain}/${Az}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class Dz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=iz,this._overrideRedirectResult=tz}async _openPopup(e,n,r,i){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await OE(e,n,r,Ly(),i);return kz(e,o,J_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await OE(e,n,r,Ly(),i);return VU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Sz(e),r=new oz(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($m,{type:$m},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[$m];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tA()||YI()||Y_()}}const Lz=Dz;var ME="@firebase/auth",DE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jz(t){Go(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(t)},u=new nU(r,i,s,l);return dU(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Go(new Ns("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new Nz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(ME,DE,Vz(t)),Ii(ME,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=5*60,Uz=OI("authIdTokenMaxAge")||Fz;let LE=null;const zz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Uz)return;const i=n==null?void 0:n.token;LE!==i&&(LE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function e0(t=NI()){const e=H_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hU(t,{popupRedirectResolver:Lz,persistence:[qU,DU,fA]}),r=OI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zz(s.toString());AU(n,o,()=>o(n.currentUser)),IU(n,a=>o(a))}}const i=AI("auth");return i&&fU(n,`http://${i}`),n}function Bz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ir("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jz("Browser");var $z="firebase",Hz="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii($z,Hz,"app");var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,wA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function T(){}T.prototype=E.prototype,C.D=E.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(P,O,D){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return E.prototype[O].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,T){T||(T=0);var P=Array(16);if(typeof E=="string")for(var O=0;16>O;++O)P[O]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(O=0;16>O;++O)P[O]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=C.g[0],T=C.g[1],O=C.g[2];var D=C.g[3],R=E+(D^T&(O^D))+P[0]+3614090360&4294967295;E=T+(R<<7&4294967295|R>>>25),R=D+(O^E&(T^O))+P[1]+3905402710&4294967295,D=E+(R<<12&4294967295|R>>>20),R=O+(T^D&(E^T))+P[2]+606105819&4294967295,O=D+(R<<17&4294967295|R>>>15),R=T+(E^O&(D^E))+P[3]+3250441966&4294967295,T=O+(R<<22&4294967295|R>>>10),R=E+(D^T&(O^D))+P[4]+4118548399&4294967295,E=T+(R<<7&4294967295|R>>>25),R=D+(O^E&(T^O))+P[5]+1200080426&4294967295,D=E+(R<<12&4294967295|R>>>20),R=O+(T^D&(E^T))+P[6]+2821735955&4294967295,O=D+(R<<17&4294967295|R>>>15),R=T+(E^O&(D^E))+P[7]+4249261313&4294967295,T=O+(R<<22&4294967295|R>>>10),R=E+(D^T&(O^D))+P[8]+1770035416&4294967295,E=T+(R<<7&4294967295|R>>>25),R=D+(O^E&(T^O))+P[9]+2336552879&4294967295,D=E+(R<<12&4294967295|R>>>20),R=O+(T^D&(E^T))+P[10]+4294925233&4294967295,O=D+(R<<17&4294967295|R>>>15),R=T+(E^O&(D^E))+P[11]+2304563134&4294967295,T=O+(R<<22&4294967295|R>>>10),R=E+(D^T&(O^D))+P[12]+1804603682&4294967295,E=T+(R<<7&4294967295|R>>>25),R=D+(O^E&(T^O))+P[13]+4254626195&4294967295,D=E+(R<<12&4294967295|R>>>20),R=O+(T^D&(E^T))+P[14]+2792965006&4294967295,O=D+(R<<17&4294967295|R>>>15),R=T+(E^O&(D^E))+P[15]+1236535329&4294967295,T=O+(R<<22&4294967295|R>>>10),R=E+(O^D&(T^O))+P[1]+4129170786&4294967295,E=T+(R<<5&4294967295|R>>>27),R=D+(T^O&(E^T))+P[6]+3225465664&4294967295,D=E+(R<<9&4294967295|R>>>23),R=O+(E^T&(D^E))+P[11]+643717713&4294967295,O=D+(R<<14&4294967295|R>>>18),R=T+(D^E&(O^D))+P[0]+3921069994&4294967295,T=O+(R<<20&4294967295|R>>>12),R=E+(O^D&(T^O))+P[5]+3593408605&4294967295,E=T+(R<<5&4294967295|R>>>27),R=D+(T^O&(E^T))+P[10]+38016083&4294967295,D=E+(R<<9&4294967295|R>>>23),R=O+(E^T&(D^E))+P[15]+3634488961&4294967295,O=D+(R<<14&4294967295|R>>>18),R=T+(D^E&(O^D))+P[4]+3889429448&4294967295,T=O+(R<<20&4294967295|R>>>12),R=E+(O^D&(T^O))+P[9]+568446438&4294967295,E=T+(R<<5&4294967295|R>>>27),R=D+(T^O&(E^T))+P[14]+3275163606&4294967295,D=E+(R<<9&4294967295|R>>>23),R=O+(E^T&(D^E))+P[3]+4107603335&4294967295,O=D+(R<<14&4294967295|R>>>18),R=T+(D^E&(O^D))+P[8]+1163531501&4294967295,T=O+(R<<20&4294967295|R>>>12),R=E+(O^D&(T^O))+P[13]+2850285829&4294967295,E=T+(R<<5&4294967295|R>>>27),R=D+(T^O&(E^T))+P[2]+4243563512&4294967295,D=E+(R<<9&4294967295|R>>>23),R=O+(E^T&(D^E))+P[7]+1735328473&4294967295,O=D+(R<<14&4294967295|R>>>18),R=T+(D^E&(O^D))+P[12]+2368359562&4294967295,T=O+(R<<20&4294967295|R>>>12),R=E+(T^O^D)+P[5]+4294588738&4294967295,E=T+(R<<4&4294967295|R>>>28),R=D+(E^T^O)+P[8]+2272392833&4294967295,D=E+(R<<11&4294967295|R>>>21),R=O+(D^E^T)+P[11]+1839030562&4294967295,O=D+(R<<16&4294967295|R>>>16),R=T+(O^D^E)+P[14]+4259657740&4294967295,T=O+(R<<23&4294967295|R>>>9),R=E+(T^O^D)+P[1]+2763975236&4294967295,E=T+(R<<4&4294967295|R>>>28),R=D+(E^T^O)+P[4]+1272893353&4294967295,D=E+(R<<11&4294967295|R>>>21),R=O+(D^E^T)+P[7]+4139469664&4294967295,O=D+(R<<16&4294967295|R>>>16),R=T+(O^D^E)+P[10]+3200236656&4294967295,T=O+(R<<23&4294967295|R>>>9),R=E+(T^O^D)+P[13]+681279174&4294967295,E=T+(R<<4&4294967295|R>>>28),R=D+(E^T^O)+P[0]+3936430074&4294967295,D=E+(R<<11&4294967295|R>>>21),R=O+(D^E^T)+P[3]+3572445317&4294967295,O=D+(R<<16&4294967295|R>>>16),R=T+(O^D^E)+P[6]+76029189&4294967295,T=O+(R<<23&4294967295|R>>>9),R=E+(T^O^D)+P[9]+3654602809&4294967295,E=T+(R<<4&4294967295|R>>>28),R=D+(E^T^O)+P[12]+3873151461&4294967295,D=E+(R<<11&4294967295|R>>>21),R=O+(D^E^T)+P[15]+530742520&4294967295,O=D+(R<<16&4294967295|R>>>16),R=T+(O^D^E)+P[2]+3299628645&4294967295,T=O+(R<<23&4294967295|R>>>9),R=E+(O^(T|~D))+P[0]+4096336452&4294967295,E=T+(R<<6&4294967295|R>>>26),R=D+(T^(E|~O))+P[7]+1126891415&4294967295,D=E+(R<<10&4294967295|R>>>22),R=O+(E^(D|~T))+P[14]+2878612391&4294967295,O=D+(R<<15&4294967295|R>>>17),R=T+(D^(O|~E))+P[5]+4237533241&4294967295,T=O+(R<<21&4294967295|R>>>11),R=E+(O^(T|~D))+P[12]+1700485571&4294967295,E=T+(R<<6&4294967295|R>>>26),R=D+(T^(E|~O))+P[3]+2399980690&4294967295,D=E+(R<<10&4294967295|R>>>22),R=O+(E^(D|~T))+P[10]+4293915773&4294967295,O=D+(R<<15&4294967295|R>>>17),R=T+(D^(O|~E))+P[1]+2240044497&4294967295,T=O+(R<<21&4294967295|R>>>11),R=E+(O^(T|~D))+P[8]+1873313359&4294967295,E=T+(R<<6&4294967295|R>>>26),R=D+(T^(E|~O))+P[15]+4264355552&4294967295,D=E+(R<<10&4294967295|R>>>22),R=O+(E^(D|~T))+P[6]+2734768916&4294967295,O=D+(R<<15&4294967295|R>>>17),R=T+(D^(O|~E))+P[13]+1309151649&4294967295,T=O+(R<<21&4294967295|R>>>11),R=E+(O^(T|~D))+P[4]+4149444226&4294967295,E=T+(R<<6&4294967295|R>>>26),R=D+(T^(E|~O))+P[11]+3174756917&4294967295,D=E+(R<<10&4294967295|R>>>22),R=O+(E^(D|~T))+P[2]+718787259&4294967295,O=D+(R<<15&4294967295|R>>>17),R=T+(D^(O|~E))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var T=E-this.blockSize,P=this.B,O=this.h,D=0;D<E;){if(O==0)for(;D<=T;)i(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<E;)if(P[O++]=C.charCodeAt(D++),O==this.blockSize){i(this,P),O=0;break}}else for(;D<E;)if(P[O++]=C[D++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var T=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=T&255,T/=256;for(this.u(C),C=Array(16),E=T=0;4>E;++E)for(var P=0;32>P;P+=8)C[T++]=this.g[E]>>>P&255;return C};function s(C,E){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=E(C)}function o(C,E){this.h=E;for(var T=[],P=!0,O=C.length-1;0<=O;O--){var D=C[O]|0;P&&D==E||(T[O]=D,P=!1)}this.g=T}var a={};function l(C){return-128<=C&&128>C?s(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return b(u(-C));for(var E=[],T=1,P=0;C>=T;P++)E[P]=C/T|0,T*=4294967296;return new o(E,0)}function c(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return b(c(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(E,8)),P=d,O=0;O<C.length;O+=8){var D=Math.min(8,C.length-O),R=parseInt(C.substring(O,O+D),E);8>D?(D=u(Math.pow(E,D)),P=P.j(D).add(u(R))):(P=P.j(T),P=P.add(u(R)))}return P}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var C=0,E=1,T=0;T<this.g.length;T++){var P=this.i(T);C+=(0<=P?P:4294967296+P)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(g(this))return"-"+b(this).toString(C);for(var E=u(Math.pow(C,6)),T=this,P="";;){var O=A(T,E).g;T=v(T,O.j(E));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=O,y(T))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function g(C){return C.h==-1}t.l=function(C){return C=v(this,C),g(C)?-1:y(C)?0:1};function b(C){for(var E=C.g.length,T=[],P=0;P<E;P++)T[P]=~C.g[P];return new o(T,~C.h).add(f)}t.abs=function(){return g(this)?b(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),T=[],P=0,O=0;O<=E;O++){var D=P+(this.i(O)&65535)+(C.i(O)&65535),R=(D>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=R>>>16,D&=65535,R&=65535,T[O]=R<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(C,E){return C.add(b(E))}t.j=function(C){if(y(this)||y(C))return d;if(g(this))return g(C)?b(this).j(b(C)):b(b(this).j(C));if(g(C))return b(this.j(b(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,T=[],P=0;P<2*E;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var D=this.i(P)>>>16,R=this.i(P)&65535,$=C.i(O)>>>16,Z=C.i(O)&65535;T[2*P+2*O]+=R*Z,_(T,2*P+2*O),T[2*P+2*O+1]+=D*Z,_(T,2*P+2*O+1),T[2*P+2*O+1]+=R*$,_(T,2*P+2*O+1),T[2*P+2*O+2]+=D*$,_(T,2*P+2*O+2)}for(P=0;P<E;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=E;P<2*E;P++)T[P]=0;return new o(T,0)};function _(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function S(C,E){this.g=C,this.h=E}function A(C,E){if(y(E))throw Error("division by zero");if(y(C))return new S(d,d);if(g(C))return E=A(b(C),E),new S(b(E.g),b(E.h));if(g(E))return E=A(C,b(E)),new S(b(E.g),E.h);if(30<C.g.length){if(g(C)||g(E))throw Error("slowDivide_ only works with positive integers.");for(var T=f,P=E;0>=P.l(C);)T=I(T),P=I(P);var O=M(T,1),D=M(P,1);for(P=M(P,2),T=M(T,2);!y(P);){var R=D.add(P);0>=R.l(C)&&(O=O.add(T),D=R),P=M(P,1),T=M(T,1)}return E=v(C,O.j(E)),new S(O,E)}for(O=d;0<=C.l(E);){for(T=Math.max(1,Math.floor(C.m()/E.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(T),R=D.j(E);g(R)||0<R.l(C);)T-=P,D=u(T),R=D.j(E);y(D)&&(D=f),O=O.add(D),C=v(C,R)}return new S(O,C)}t.A=function(C){return A(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)&C.i(P);return new o(T,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)|C.i(P);return new o(T,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)^C.i(P);return new o(T,this.h^C.h)};function I(C){for(var E=C.g.length+1,T=[],P=0;P<E;P++)T[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(T,C.h)}function M(C,E){var T=E>>5;E%=32;for(var P=C.g.length-T,O=[],D=0;D<P;D++)O[D]=0<E?C.i(D+T)>>>E|C.i(D+T+1)<<32-E:C.i(D+T);return new o(O,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ai=o}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bA,fl,SA,Wh,Fy,EA,TA,xA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,p,w){return h==Array.prototype||h==Object.prototype||(h[p]=w.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var p=0;p<h.length;++p){var w=h[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(h,p){if(p)e:{var w=r;h=h.split(".");for(var k=0;k<h.length-1;k++){var N=h[k];if(!(N in w))break e;w=w[N]}h=h[h.length-1],k=w[h],p=p(k),p!=k&&p!=null&&e(w,h,{configurable:!0,writable:!0,value:p})}}function s(h,p){h instanceof String&&(h+="");var w=0,k=!1,N={next:function(){if(!k&&w<h.length){var V=w++;return{value:p(V,h[V]),done:!1}}return k=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(h){return h||function(){return s(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var p=typeof h;return p=p!="object"?p:h?Array.isArray(h)?"array":p:"null",p=="array"||p=="object"&&typeof h.length=="number"}function u(h){var p=typeof h;return p=="object"&&h!=null||p=="function"}function c(h,p,w){return h.call.apply(h.bind,arguments)}function d(h,p,w){if(!h)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,k),h.apply(p,N)}}return function(){return h.apply(p,arguments)}}function f(h,p,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function m(h,p){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),h.apply(this,k)}}function y(h,p){function w(){}w.prototype=p.prototype,h.aa=p.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(k,N,V){for(var B=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)B[Pe-2]=arguments[Pe];return p.prototype[N].apply(k,B)}}function g(h){const p=h.length;if(0<p){const w=Array(p);for(let k=0;k<p;k++)w[k]=h[k];return w}return[]}function b(h,p){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(l(k)){const N=h.length||0,V=k.length||0;h.length=N+V;for(let B=0;B<V;B++)h[N+B]=k[B]}else h.push(k)}}class v{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function _(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function A(h){return A[" "](h),h}A[" "]=function(){};var I=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function M(h,p,w){for(const k in h)p.call(w,h[k],k,h)}function C(h,p){for(const w in h)p.call(void 0,h[w],w,h)}function E(h){const p={};for(const w in h)p[w]=h[w];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,p){let w,k;for(let N=1;N<arguments.length;N++){k=arguments[N];for(w in k)h[w]=k[w];for(let V=0;V<T.length;V++)w=T[V],Object.prototype.hasOwnProperty.call(k,w)&&(h[w]=k[w])}}function O(h){var p=1;h=h.split(":");const w=[];for(;0<p&&h.length;)w.push(h.shift()),p--;return h.length&&w.push(h.join(":")),w}function D(h){a.setTimeout(()=>{throw h},0)}function R(){var h=W;let p=null;return h.g&&(p=h.g,h.g=h.g.next,h.g||(h.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,w){const k=Z.get();k.set(p,w),this.h?this.h.next=k:this.g=k,this.h=k}}var Z=new v(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let G,F=!1,W=new $,Y=()=>{const h=a.Promise.resolve(void 0);G=()=>{h.then(pe)}};var pe=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(w){D(w)}var p=Z;p.j(h),100>p.h&&(p.h++,h.next=p.g,p.g=h)}F=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,p){this.type=h,this.g=this.target=p,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,p=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};a.addEventListener("test",w,p),a.removeEventListener("test",w,p)}catch{}return h}();function Je(h,p){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,k=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=p,p=h.relatedTarget){if(I){e:{try{A(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else w=="mouseover"?p=h.fromElement:w=="mouseout"&&(p=h.toElement);this.relatedTarget=p,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:_t[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Je.aa.h.call(this)}}y(Je,me);var _t={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gr="closure_listenable_"+(1e6*Math.random()|0),z2=0;function B2(h,p,w,k,N){this.listener=h,this.proxy=null,this.src=p,this.type=w,this.capture=!!k,this.ha=N,this.key=++z2,this.da=this.fa=!1}function pc(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function mc(h){this.src=h,this.g={},this.h=0}mc.prototype.add=function(h,p,w,k,N){var V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);var B=Bp(h,p,k,N);return-1<B?(p=h[B],w||(p.fa=!1)):(p=new B2(p,this.src,V,!!k,N),p.fa=w,h.push(p)),p};function zp(h,p){var w=p.type;if(w in h.g){var k=h.g[w],N=Array.prototype.indexOf.call(k,p,void 0),V;(V=0<=N)&&Array.prototype.splice.call(k,N,1),V&&(pc(p),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Bp(h,p,w,k){for(var N=0;N<h.length;++N){var V=h[N];if(!V.da&&V.listener==p&&V.capture==!!w&&V.ha==k)return N}return-1}var $p="closure_lm_"+(1e6*Math.random()|0),Hp={};function Hw(h,p,w,k,N){if(Array.isArray(p)){for(var V=0;V<p.length;V++)Hw(h,p[V],w,k,N);return null}return w=Kw(w),h&&h[gr]?h.K(p,w,u(k)?!!k.capture:!1,N):$2(h,p,w,!1,k,N)}function $2(h,p,w,k,N,V){if(!p)throw Error("Invalid event type");var B=u(N)?!!N.capture:!!N,Pe=qp(h);if(Pe||(h[$p]=Pe=new mc(h)),w=Pe.add(p,w,k,B,V),w.proxy)return w;if(k=H2(),w.proxy=k,k.src=h,k.listener=w,h.addEventListener)at||(N=B),N===void 0&&(N=!1),h.addEventListener(p.toString(),k,N);else if(h.attachEvent)h.attachEvent(qw(p.toString()),k);else if(h.addListener&&h.removeListener)h.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function H2(){function h(w){return p.call(h.src,h.listener,w)}const p=W2;return h}function Ww(h,p,w,k,N){if(Array.isArray(p))for(var V=0;V<p.length;V++)Ww(h,p[V],w,k,N);else k=u(k)?!!k.capture:!!k,w=Kw(w),h&&h[gr]?(h=h.i,p=String(p).toString(),p in h.g&&(V=h.g[p],w=Bp(V,w,k,N),-1<w&&(pc(V[w]),Array.prototype.splice.call(V,w,1),V.length==0&&(delete h.g[p],h.h--)))):h&&(h=qp(h))&&(p=h.g[p.toString()],h=-1,p&&(h=Bp(p,w,k,N)),(w=-1<h?p[h]:null)&&Wp(w))}function Wp(h){if(typeof h!="number"&&h&&!h.da){var p=h.src;if(p&&p[gr])zp(p.i,h);else{var w=h.type,k=h.proxy;p.removeEventListener?p.removeEventListener(w,k,h.capture):p.detachEvent?p.detachEvent(qw(w),k):p.addListener&&p.removeListener&&p.removeListener(k),(w=qp(p))?(zp(w,h),w.h==0&&(w.src=null,p[$p]=null)):pc(h)}}}function qw(h){return h in Hp?Hp[h]:Hp[h]="on"+h}function W2(h,p){if(h.da)h=!0;else{p=new Je(p,this);var w=h.listener,k=h.ha||h.src;h.fa&&Wp(h),h=w.call(k,p)}return h}function qp(h){return h=h[$p],h instanceof mc?h:null}var Kp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kw(h){return typeof h=="function"?h:(h[Kp]||(h[Kp]=function(p){return h.handleEvent(p)}),h[Kp])}function It(){le.call(this),this.i=new mc(this),this.M=this,this.F=null}y(It,le),It.prototype[gr]=!0,It.prototype.removeEventListener=function(h,p,w,k){Ww(this,h,p,w,k)};function Ht(h,p){var w,k=h.F;if(k)for(w=[];k;k=k.F)w.push(k);if(h=h.M,k=p.type||p,typeof p=="string")p=new me(p,h);else if(p instanceof me)p.target=p.target||h;else{var N=p;p=new me(k,h),P(p,N)}if(N=!0,w)for(var V=w.length-1;0<=V;V--){var B=p.g=w[V];N=gc(B,k,!0,p)&&N}if(B=p.g=h,N=gc(B,k,!0,p)&&N,N=gc(B,k,!1,p)&&N,w)for(V=0;V<w.length;V++)B=p.g=w[V],N=gc(B,k,!1,p)&&N}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,p;for(p in h.g){for(var w=h.g[p],k=0;k<w.length;k++)pc(w[k]);delete h.g[p],h.h--}}this.F=null},It.prototype.K=function(h,p,w,k){return this.i.add(String(h),p,!1,w,k)},It.prototype.L=function(h,p,w,k){return this.i.add(String(h),p,!0,w,k)};function gc(h,p,w,k){if(p=h.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,V=0;V<p.length;++V){var B=p[V];if(B&&!B.da&&B.capture==w){var Pe=B.listener,wt=B.ha||B.src;B.fa&&zp(h.i,B),N=Pe.call(wt,k)!==!1&&N}}return N&&!k.defaultPrevented}function Gw(h,p,w){if(typeof h=="function")w&&(h=f(h,w));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(h,p||0)}function Yw(h){h.g=Gw(()=>{h.g=null,h.i&&(h.i=!1,Yw(h))},h.l);const p=h.h;h.h=null,h.m.apply(null,p)}class q2 extends le{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Yw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(h){le.call(this),this.h=h,this.g={}}y(Aa,le);var Qw=[];function Xw(h){M(h.g,function(p,w){this.g.hasOwnProperty(w)&&Wp(p)},h),h.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),Xw(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gp=a.JSON.stringify,K2=a.JSON.parse,G2=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Yp(){}Yp.prototype.h=null;function Jw(h){return h.h||(h.h=h.i())}function Zw(){}var Ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qp(){me.call(this,"d")}y(Qp,me);function Xp(){me.call(this,"c")}y(Xp,me);var ns={},eb=null;function yc(){return eb=eb||new It}ns.La="serverreachability";function tb(h){me.call(this,ns.La,h)}y(tb,me);function Oa(h){const p=yc();Ht(p,new tb(p))}ns.STAT_EVENT="statevent";function nb(h,p){me.call(this,ns.STAT_EVENT,h),this.stat=p}y(nb,me);function Wt(h){const p=yc();Ht(p,new nb(p,h))}ns.Ma="timingevent";function rb(h,p){me.call(this,ns.Ma,h),this.size=p}y(rb,me);function Ma(h,p){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},p)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function Y2(h,p,w,k,N,V){h.info(function(){if(h.g)if(V)for(var B="",Pe=V.split("&"),wt=0;wt<Pe.length;wt++){var _e=Pe[wt].split("=");if(1<_e.length){var At=_e[0];_e=_e[1];var Rt=At.split("_");B=2<=Rt.length&&Rt[1]=="type"?B+(At+"="+_e+"&"):B+(At+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+k+") [attempt "+N+"]: "+p+`
`+w+`
`+B})}function Q2(h,p,w,k,N,V,B){h.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+N+"]: "+p+`
`+w+`
`+V+" "+B})}function Qs(h,p,w,k){h.info(function(){return"XMLHTTP TEXT ("+p+"): "+J2(h,w)+(k?" "+k:"")})}function X2(h,p){h.info(function(){return"TIMEOUT: "+p})}Da.prototype.info=function(){};function J2(h,p){if(!h.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var k=w[h];if(!(2>k.length)){var N=k[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<N.length;B++)N[B]=""}}}}return Gp(w)}catch{return p}}var vc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ib={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jp;function _c(){}y(_c,Yp),_c.prototype.g=function(){return new XMLHttpRequest},_c.prototype.i=function(){return{}},Jp=new _c;function Kr(h,p,w,k){this.j=h,this.i=p,this.l=w,this.R=k||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sb}function sb(){this.i=null,this.g="",this.h=!1}var ob={},Zp={};function em(h,p,w){h.L=1,h.v=Ec(yr(p)),h.m=w,h.P=!0,ab(h,null)}function ab(h,p){h.F=Date.now(),wc(h),h.A=yr(h.v);var w=h.A,k=h.R;Array.isArray(k)||(k=[String(k)]),bb(w.i,"t",k),h.C=0,w=h.j.J,h.h=new sb,h.g=Fb(h.j,w?p:null,!h.m),0<h.O&&(h.M=new q2(f(h.Y,h,h.g),h.O)),p=h.U,w=h.g,k=h.ca;var N="readystatechange";Array.isArray(N)||(N&&(Qw[0]=N.toString()),N=Qw);for(var V=0;V<N.length;V++){var B=Hw(w,N[V],k||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,p)):(h.u="GET",h.g.ea(h.A,h.u,null,p)),Oa(),Y2(h.i,h.u,h.A,h.l,h.R,h.m)}Kr.prototype.ca=function(h){h=h.target;const p=this.M;p&&vr(h)==3?p.j():this.Y(h)},Kr.prototype.Y=function(h){try{if(h==this.g)e:{const Rt=vr(this.g);var p=this.g.Ba();const Zs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||kb(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=Zs?Oa(3):Oa(2)),tm(this);var w=this.g.Z();this.X=w;t:if(lb(this)){var k=kb(this.g);h="";var N=k.length,V=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),La(this);var B="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,h+=this.h.i.decode(k[p],{stream:!(V&&p==N-1)});k.length=0,this.h.g+=h,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=w==200,Q2(this.i,this.u,this.A,this.l,this.R,Rt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,wt=this.g;if((Pe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Pe)){var _e=Pe;break t}}_e=null}if(w=_e)Qs(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nm(this,w);else{this.o=!1,this.s=3,Wt(12),rs(this),La(this);break e}}if(this.P){w=!0;let Nn;for(;!this.J&&this.C<B.length;)if(Nn=Z2(this,B),Nn==Zp){Rt==4&&(this.s=4,Wt(14),w=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==ob){this.s=4,Wt(15),Qs(this.i,this.l,B,"[Invalid Chunk]"),w=!1;break}else Qs(this.i,this.l,Nn,null),nm(this,Nn);if(lb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||B.length!=0||this.h.h||(this.s=1,Wt(16),w=!1),this.o=this.o&&w,!w)Qs(this.i,this.l,B,"[Invalid Chunked Response]"),rs(this),La(this);else if(0<B.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),lm(At),At.M=!0,Wt(11))}}else Qs(this.i,this.l,B,null),nm(this,B);Rt==4&&rs(this),this.o&&!this.J&&(Rt==4?Lb(this.j,this):(this.o=!1,wc(this)))}else gL(this.g),w==400&&0<B.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),rs(this),La(this)}}}catch{}finally{}};function lb(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Z2(h,p){var w=h.C,k=p.indexOf(`
`,w);return k==-1?Zp:(w=Number(p.substring(w,k)),isNaN(w)?ob:(k+=1,k+w>p.length?Zp:(p=p.slice(k,k+w),h.C=k+w,p)))}Kr.prototype.cancel=function(){this.J=!0,rs(this)};function wc(h){h.S=Date.now()+h.I,ub(h,h.I)}function ub(h,p){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ma(f(h.ba,h),p)}function tm(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Kr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(X2(this.i,this.A),this.L!=2&&(Oa(),Wt(17)),rs(this),this.s=2,La(this)):ub(this,this.S-h)};function La(h){h.j.G==0||h.J||Lb(h.j,h)}function rs(h){tm(h);var p=h.M;p&&typeof p.ma=="function"&&p.ma(),h.M=null,Xw(h.U),h.g&&(p=h.g,h.g=null,p.abort(),p.ma())}function nm(h,p){try{var w=h.j;if(w.G!=0&&(w.g==h||rm(w.h,h))){if(!h.K&&rm(w.h,h)&&w.G==3){try{var k=w.Da.g.parse(p)}catch{k=null}if(Array.isArray(k)&&k.length==3){var N=k;if(N[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Ic(w),Cc(w);else break e;am(w),Wt(18)}}else w.za=N[1],0<w.za-w.T&&37500>N[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ma(f(w.Za,w),6e3));if(1>=db(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else ss(w,11)}else if((h.K||w.g==h)&&Ic(w),!_(p))for(N=w.Da.g.parse(p),p=0;p<N.length;p++){let _e=N[p];if(w.T=_e[0],_e=_e[1],w.G==2)if(_e[0]=="c"){w.K=_e[1],w.ia=_e[2];const At=_e[3];At!=null&&(w.la=At,w.j.info("VER="+w.la));const Rt=_e[4];Rt!=null&&(w.Aa=Rt,w.j.info("SVER="+w.Aa));const Zs=_e[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(k=1.5*Zs,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const Nn=h.g;if(Nn){const Rc=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rc){var V=k.h;V.g||Rc.indexOf("spdy")==-1&&Rc.indexOf("quic")==-1&&Rc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(im(V,V.h),V.h=null))}if(k.D){const um=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(k.ya=um,Ae(k.I,k.D,um))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var B=h;if(k.qa=jb(k,k.J?k.ia:null,k.W),B.K){fb(k.h,B);var Pe=B,wt=k.L;wt&&(Pe.I=wt),Pe.B&&(tm(Pe),wc(Pe)),k.g=B}else Mb(k);0<w.i.length&&kc(w)}else _e[0]!="stop"&&_e[0]!="close"||ss(w,7);else w.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ss(w,7):om(w):_e[0]!="noop"&&w.l&&w.l.ta(_e),w.v=0)}}Oa(4)}catch{}}var eL=class{constructor(h,p){this.g=h,this.map=p}};function cb(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hb(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function db(h){return h.h?1:h.g?h.g.size:0}function rm(h,p){return h.h?h.h==p:h.g?h.g.has(p):!1}function im(h,p){h.g?h.g.add(p):h.h=p}function fb(h,p){h.h&&h.h==p?h.h=null:h.g&&h.g.has(p)&&h.g.delete(p)}cb.prototype.cancel=function(){if(this.i=pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pb(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let p=h.i;for(const w of h.g.values())p=p.concat(w.D);return p}return g(h.i)}function tL(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var p=[],w=h.length,k=0;k<w;k++)p.push(h[k]);return p}p=[],w=0;for(k in h)p[w++]=h[k];return p}function nL(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var p=[];h=h.length;for(var w=0;w<h;w++)p.push(w);return p}p=[],w=0;for(const k in h)p[w++]=k;return p}}}function mb(h,p){if(h.forEach&&typeof h.forEach=="function")h.forEach(p,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,p,void 0);else for(var w=nL(h),k=tL(h),N=k.length,V=0;V<N;V++)p.call(void 0,k[V],w&&w[V],h)}var gb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rL(h,p){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var k=h[w].indexOf("="),N=null;if(0<=k){var V=h[w].substring(0,k);N=h[w].substring(k+1)}else V=h[w];p(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function is(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof is){this.h=h.h,bc(this,h.j),this.o=h.o,this.g=h.g,Sc(this,h.s),this.l=h.l;var p=h.i,w=new ja;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),yb(this,w),this.m=h.m}else h&&(p=String(h).match(gb))?(this.h=!1,bc(this,p[1]||"",!0),this.o=Na(p[2]||""),this.g=Na(p[3]||"",!0),Sc(this,p[4]),this.l=Na(p[5]||"",!0),yb(this,p[6]||"",!0),this.m=Na(p[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}is.prototype.toString=function(){var h=[],p=this.j;p&&h.push(Va(p,vb,!0),":");var w=this.g;return(w||p=="file")&&(h.push("//"),(p=this.o)&&h.push(Va(p,vb,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Va(w,w.charAt(0)=="/"?oL:sL,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Va(w,lL)),h.join("")};function yr(h){return new is(h)}function bc(h,p,w){h.j=w?Na(p,!0):p,h.j&&(h.j=h.j.replace(/:$/,""))}function Sc(h,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);h.s=p}else h.s=null}function yb(h,p,w){p instanceof ja?(h.i=p,uL(h.i,h.h)):(w||(p=Va(p,aL)),h.i=new ja(p,h.h))}function Ae(h,p,w){h.i.set(p,w)}function Ec(h){return Ae(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Na(h,p){return h?p?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Va(h,p,w){return typeof h=="string"?(h=encodeURI(h).replace(p,iL),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function iL(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var vb=/[#\/\?@]/g,sL=/[#\?:]/g,oL=/[#\?]/g,aL=/[#\?@]/g,lL=/#/g;function ja(h,p){this.h=this.g=null,this.i=h||null,this.j=!!p}function Gr(h){h.g||(h.g=new Map,h.h=0,h.i&&rL(h.i,function(p,w){h.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=ja.prototype,t.add=function(h,p){Gr(this),this.i=null,h=Xs(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(p),this.h+=1,this};function _b(h,p){Gr(h),p=Xs(h,p),h.g.has(p)&&(h.i=null,h.h-=h.g.get(p).length,h.g.delete(p))}function wb(h,p){return Gr(h),p=Xs(h,p),h.g.has(p)}t.forEach=function(h,p){Gr(this),this.g.forEach(function(w,k){w.forEach(function(N){h.call(p,N,k,this)},this)},this)},t.na=function(){Gr(this);const h=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let k=0;k<p.length;k++){const N=h[k];for(let V=0;V<N.length;V++)w.push(p[k])}return w},t.V=function(h){Gr(this);let p=[];if(typeof h=="string")wb(this,h)&&(p=p.concat(this.g.get(Xs(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)p=p.concat(h[w])}return p},t.set=function(h,p){return Gr(this),this.i=null,h=Xs(this,h),wb(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[p]),this.h+=1,this},t.get=function(h,p){return h?(h=this.V(h),0<h.length?String(h[0]):p):p};function bb(h,p,w){_b(h,p),0<w.length&&(h.i=null,h.g.set(Xs(h,p),g(w)),h.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var k=p[w];const V=encodeURIComponent(String(k)),B=this.V(k);for(k=0;k<B.length;k++){var N=V;B[k]!==""&&(N+="="+encodeURIComponent(String(B[k]))),h.push(N)}}return this.i=h.join("&")};function Xs(h,p){return p=String(p),h.j&&(p=p.toLowerCase()),p}function uL(h,p){p&&!h.j&&(Gr(h),h.i=null,h.g.forEach(function(w,k){var N=k.toLowerCase();k!=N&&(_b(this,k),bb(this,N,w))},h)),h.j=p}function cL(h,p){const w=new Da;if(a.Image){const k=new Image;k.onload=m(Yr,w,"TestLoadImage: loaded",!0,p,k),k.onerror=m(Yr,w,"TestLoadImage: error",!1,p,k),k.onabort=m(Yr,w,"TestLoadImage: abort",!1,p,k),k.ontimeout=m(Yr,w,"TestLoadImage: timeout",!1,p,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=h}else p(!1)}function hL(h,p){const w=new Da,k=new AbortController,N=setTimeout(()=>{k.abort(),Yr(w,"TestPingServer: timeout",!1,p)},1e4);fetch(h,{signal:k.signal}).then(V=>{clearTimeout(N),V.ok?Yr(w,"TestPingServer: ok",!0,p):Yr(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),Yr(w,"TestPingServer: error",!1,p)})}function Yr(h,p,w,k,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),k(w)}catch{}}function dL(){this.g=new G2}function fL(h,p,w){const k=w||"";try{mb(h,function(N,V){let B=N;u(N)&&(B=Gp(N)),p.push(k+V+"="+encodeURIComponent(B))})}catch(N){throw p.push(k+"type="+encodeURIComponent("_badmap")),N}}function Tc(h){this.l=h.Ub||null,this.j=h.eb||!1}y(Tc,Yp),Tc.prototype.g=function(){return new xc(this.l,this.j)},Tc.prototype.i=function(h){return function(){return h}}({});function xc(h,p){It.call(this),this.D=h,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(xc,It),t=xc.prototype,t.open=function(h,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=p,this.readyState=1,Ua(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(p.body=h),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ua(this)),this.g&&(this.readyState=3,Ua(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sb(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sb(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var p=h.value?h.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!h.done}))&&(this.response=this.responseText+=p)}h.done?Fa(this):Ua(this),this.readyState==3&&Sb(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Fa(this))},t.Qa=function(h){this.g&&(this.response=h,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ua(h)}t.setRequestHeader=function(h,p){this.u.append(h,p)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=p.next();return h.join(`\r
`)};function Ua(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Eb(h){let p="";return M(h,function(w,k){p+=k,p+=":",p+=w,p+=`\r
`}),p}function sm(h,p,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Eb(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):Ae(h,p,w))}function qe(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(qe,It);var pL=/^https?$/i,mL=["POST","PUT"];t=qe.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,p,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);p=p?p.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jp.g(),this.v=this.o?Jw(this.o):Jw(Jp),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(h),!0),this.B=!1}catch(V){Tb(this,V);return}if(h=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var N in k)w.set(N,k[N]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const V of k.keys())w.set(V,k.get(V));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),N=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mL,p,void 0))||k||N||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of w)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cb(this),this.u=!0,this.g.send(h),this.u=!1}catch(V){Tb(this,V)}};function Tb(h,p){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=p,h.m=5,xb(h),Pc(h)}function xb(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ht(this,"complete"),Ht(this,"abort"),Pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pc(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pb(this):this.bb())},t.bb=function(){Pb(this)};function Pb(h){if(h.h&&typeof o<"u"&&(!h.v[1]||vr(h)!=4||h.Z()!=2)){if(h.u&&vr(h)==4)Gw(h.Ea,0,h);else if(Ht(h,"readystatechange"),vr(h)==4){h.h=!1;try{const B=h.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var k;if(k=B===0){var N=String(h.D).match(gb)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),k=!pL.test(N?N.toLowerCase():"")}w=k}if(w)Ht(h,"complete"),Ht(h,"success");else{h.m=6;try{var V=2<vr(h)?h.g.statusText:""}catch{V=""}h.l=V+" ["+h.Z()+"]",xb(h)}}finally{Pc(h)}}}}function Pc(h,p){if(h.g){Cb(h);const w=h.g,k=h.v[0]?()=>{}:null;h.g=null,h.v=null,p||Ht(h,"ready");try{w.onreadystatechange=k}catch{}}}function Cb(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function vr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var p=this.g.responseText;return h&&p.indexOf(h)==0&&(p=p.substring(h.length)),K2(p)}};function kb(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gL(h){const p={};h=(h.g&&2<=vr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<h.length;k++){if(_(h[k]))continue;var w=O(h[k]);const N=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=p[N]||[];p[N]=V,V.push(w)}C(p,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(h,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||p}function Ib(h){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,h),this.cb=za("retryDelaySeedMs",1e4,h),this.Wa=za("forwardChannelMaxRetries",2,h),this.wa=za("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new cb(h&&h.concurrentRequestLimit),this.Da=new dL,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ib.prototype,t.la=8,t.G=1,t.connect=function(h,p,w,k){Wt(0),this.W=h,this.H=p||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=jb(this,null,this.W),kc(this)};function om(h){if(Ab(h),h.G==3){var p=h.U++,w=yr(h.I);if(Ae(w,"SID",h.K),Ae(w,"RID",p),Ae(w,"TYPE","terminate"),Ba(h,w),p=new Kr(h,h.j,p),p.L=2,p.v=Ec(yr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=p.v,w=!0),w||(p.g=Fb(p.j,null),p.g.ea(p.v)),p.F=Date.now(),wc(p)}Vb(h)}function Cc(h){h.g&&(lm(h),h.g.cancel(),h.g=null)}function Ab(h){Cc(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ic(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function kc(h){if(!hb(h.h)&&!h.s){h.s=!0;var p=h.Ga;G||Y(),F||(G(),F=!0),W.add(p,h),h.B=0}}function yL(h,p){return db(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=p.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ma(f(h.Ga,h,p),Nb(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const N=new Kr(this,this.j,h);let V=this.o;if(this.S&&(V?(V=E(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(p+=k,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=Ob(this,N,p),w=yr(this.I),Ae(w,"RID",h),Ae(w,"CVER",22),this.D&&Ae(w,"X-HTTP-Session-Id",this.D),Ba(this,w),V&&(this.O?p="headers="+encodeURIComponent(String(Eb(V)))+"&"+p:this.m&&sm(w,this.m,V)),im(this.h,N),this.Ua&&Ae(w,"TYPE","init"),this.P?(Ae(w,"$req",p),Ae(w,"SID","null"),N.T=!0,em(N,w,null)):em(N,w,p),this.G=2}}else this.G==3&&(h?Rb(this,h):this.i.length==0||hb(this.h)||Rb(this))};function Rb(h,p){var w;p?w=p.l:w=h.U++;const k=yr(h.I);Ae(k,"SID",h.K),Ae(k,"RID",w),Ae(k,"AID",h.T),Ba(h,k),h.m&&h.o&&sm(k,h.m,h.o),w=new Kr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),p&&(h.i=p.D.concat(h.i)),p=Ob(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),im(h.h,w),em(w,k,p)}function Ba(h,p){h.H&&M(h.H,function(w,k){Ae(p,k,w)}),h.l&&mb({},function(w,k){Ae(p,k,w)})}function Ob(h,p,w){w=Math.min(h.i.length,w);var k=h.l?f(h.l.Na,h.l,h):null;e:{var N=h.i;let V=-1;for(;;){const B=["count="+w];V==-1?0<w?(V=N[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let Pe=!0;for(let wt=0;wt<w;wt++){let _e=N[wt].g;const At=N[wt].map;if(_e-=V,0>_e)V=Math.max(0,N[wt].g-100),Pe=!1;else try{fL(At,B,"req"+_e+"_")}catch{k&&k(At)}}if(Pe){k=B.join("&");break e}}}return h=h.i.splice(0,w),p.D=h,k}function Mb(h){if(!h.g&&!h.u){h.Y=1;var p=h.Fa;G||Y(),F||(G(),F=!0),W.add(p,h),h.v=0}}function am(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ma(f(h.Fa,h),Nb(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Db(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ma(f(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Cc(this),Db(this))};function lm(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function Db(h){h.g=new Kr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var p=yr(h.qa);Ae(p,"RID","rpc"),Ae(p,"SID",h.K),Ae(p,"AID",h.T),Ae(p,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ae(p,"TO",h.ja),Ae(p,"TYPE","xmlhttp"),Ba(h,p),h.m&&h.o&&sm(p,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Ec(yr(p)),w.m=null,w.P=!0,ab(w,h)}t.Za=function(){this.C!=null&&(this.C=null,Cc(this),am(this),Wt(19))};function Ic(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function Lb(h,p){var w=null;if(h.g==p){Ic(h),lm(h),h.g=null;var k=2}else if(rm(h.h,p))w=p.D,fb(h.h,p),k=1;else return;if(h.G!=0){if(p.o)if(k==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var N=h.B;k=yc(),Ht(k,new rb(k,w)),kc(h)}else Mb(h);else if(N=p.s,N==3||N==0&&0<p.X||!(k==1&&yL(h,p)||k==2&&am(h)))switch(w&&0<w.length&&(p=h.h,p.i=p.i.concat(w)),N){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function Nb(h,p){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*p}function ss(h,p){if(h.j.info("Error code "+p),p==2){var w=f(h.fb,h),k=h.Xa;const N=!k;k=new is(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bc(k,"https"),Ec(k),N?cL(k.toString(),w):hL(k.toString(),w)}else Wt(2);h.G=0,h.l&&h.l.sa(p),Vb(h),Ab(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Vb(h){if(h.G=0,h.ka=[],h.l){const p=pb(h.h);(p.length!=0||h.i.length!=0)&&(b(h.ka,p),b(h.ka,h.i),h.h.i.length=0,g(h.i),h.i.length=0),h.l.ra()}}function jb(h,p,w){var k=w instanceof is?yr(w):new is(w);if(k.g!="")p&&(k.g=p+"."+k.g),Sc(k,k.s);else{var N=a.location;k=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var V=new is(null);k&&bc(V,k),p&&(V.g=p),N&&Sc(V,N),w&&(V.l=w),k=V}return w=h.D,p=h.ya,w&&p&&Ae(k,w,p),Ae(k,"VER",h.la),Ba(h,k),k}function Fb(h,p,w){if(p&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=h.Ca&&!h.pa?new qe(new Tc({eb:w})):new qe(h.pa),p.Ha(h.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ub(){}t=Ub.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ac(){}Ac.prototype.g=function(h,p){return new dn(h,p)};function dn(h,p){It.call(this),this.g=new Ib(p),this.l=h,this.h=p&&p.messageUrlParams||null,h=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(h?h["X-WebChannel-Content-Type"]=p.messageContentType:h={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(h?h["X-WebChannel-Client-Profile"]=p.va:h={"X-WebChannel-Client-Profile":p.va}),this.g.S=h,(h=p&&p.Sb)&&!_(h)&&(this.g.m=h),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!_(p)&&(this.g.D=p,h=this.h,h!==null&&p in h&&(h=this.h,p in h&&delete h[p])),this.j=new Js(this)}y(dn,It),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){om(this.g)},dn.prototype.o=function(h){var p=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Gp(h),h=w);p.i.push(new eL(p.Ya++,h)),p.G==3&&kc(p)},dn.prototype.N=function(){this.g.l=null,delete this.j,om(this.g),delete this.g,dn.aa.N.call(this)};function zb(h){Qp.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var p=h.__sm__;if(p){e:{for(const w in p){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,p=p!==null&&h in p?p[h]:void 0),this.data=p}else this.data=h}y(zb,Qp);function Bb(){Xp.call(this),this.status=1}y(Bb,Xp);function Js(h){this.g=h}y(Js,Ub),Js.prototype.ua=function(){Ht(this.g,"a")},Js.prototype.ta=function(h){Ht(this.g,new zb(h))},Js.prototype.sa=function(h){Ht(this.g,new Bb)},Js.prototype.ra=function(){Ht(this.g,"b")},Ac.prototype.createWebChannel=Ac.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,xA=function(){return new Ac},TA=function(){return yc()},EA=ns,Fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vc.NO_ERROR=0,vc.TIMEOUT=8,vc.HTTP_ERROR=6,Wh=vc,ib.COMPLETE="complete",SA=ib,Zw.EventType=Ra,Ra.OPEN="a",Ra.CLOSE="b",Ra.ERROR="c",Ra.MESSAGE="d",It.prototype.listen=It.prototype.K,fl=Zw,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,bA=qe}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const VE="@firebase/firestore",jE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new B_("@firebase/firestore");function io(){return Fs.logLevel}function q(t,...e){if(Fs.logLevel<=de.DEBUG){const n=e.map(t0);Fs.debug(`Firestore (${wa}): ${t}`,...n)}}function Br(t,...e){if(Fs.logLevel<=de.ERROR){const n=e.map(t0);Fs.error(`Firestore (${wa}): ${t}`,...n)}}function Yo(t,...e){if(Fs.logLevel<=de.WARN){const n=e.map(t0);Fs.warn(`Firestore (${wa}): ${t}`,...n)}}function t0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: `+t;throw Br(e),new Error(e)}function Se(t,e){t||ie()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class qz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kz{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ri,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ri)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new PA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new Vt(e)}}class Gz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Yz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qz{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new FE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new FE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Xz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Uy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=CA(),o=Jz(s.encode(UE(t,n)),s.encode(UE(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function UE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Jz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Qo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=-62135596800,BE=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new ft(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zE)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new ft(0,0))}static max(){return new se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__name__";class Zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=Zn.isNumericId(e),i=Zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zn.extractNumericId(e).compare(Zn.extractNumericId(n)):Uy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ai.fromString(e.substring(4,e.length-2))}}class Qe extends Zn{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const Zz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends Zn{construct(e,n,r){return new Tt(e,n,r)}static isValidIdentifier(e){return Zz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$E}static keyField(){return new Tt([$E])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Qe.fromString(e))}static fromName(e){return new J(Qe.fromString(e).popFirst(5))}static empty(){return new J(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function e3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Li(i,J.empty(),e)}function t3(t){return new Li(t.readTime,t.key,pu)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(se.min(),J.empty(),pu)}static max(){return new Li(se.max(),J.empty(),pu)}}function n3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==r3)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function s3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-1;function np(t){return t==null}function Fd(t){return t===0&&1/t==-1/0}function o3(t){return typeof t=="number"&&Number.isInteger(t)&&!Fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="";function a3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HE(e)),e=l3(t.get(n),e);return HE(e)}function l3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case IA:n+="";break;default:n+=s}}return n}function HE(t){return t+IA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=s??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qE(this.data.getIterator())}getIteratorFrom(e){return new qE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class qE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new pt(Tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RA("Invalid base64 string: "+s):s}}(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const u3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(t){if(Se(!!t),typeof t=="string"){let e=0;const n=u3.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",MA="__type__",DA="__previous_value__",LA="__local_write_time__";function r0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[MA])===null||n===void 0?void 0:n.stringValue)===OA}function rp(t){const e=t.mapValue.fields[DA];return r0(e)?rp(e):e}function mu(t){const e=Ni(t.mapValue.fields[LA].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}const Ud="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Ud}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Ud}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="__type__",h3="__max__",Jc={mapValue:{}},VA="__vector__",zd="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r0(t)?4:f3(t)?9007199254740991:d3(t)?10:11:ie()}function hr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ni(i.timestampValue),a=Ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vi(i.bytesValue).isEqual(Vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return et(i.geoPointValue.latitude)===et(s.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return et(i.integerValue)===et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=et(i.doubleValue),a=et(s.doubleValue);return o===a?Fd(o)===Fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qo(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(WE(o)!==WE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function yu(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function Xo(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=et(s.integerValue||s.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return KE(t.timestampValue,e.timestampValue);case 4:return KE(mu(t),mu(e));case 5:return Uy(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vi(s),l=Vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ae(a[u],l[u]);if(c!==0)return c}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(et(s.latitude),et(o.latitude));return a!==0?a:ae(et(s.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return GE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},f=o.fields||{},m=(a=d[zd])===null||a===void 0?void 0:a.arrayValue,y=(l=f[zd])===null||l===void 0?void 0:l.arrayValue,g=ae(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:GE(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Jc.mapValue&&o===Jc.mapValue)return 0;if(s===Jc.mapValue)return 1;if(o===Jc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Uy(l[d],c[d]);if(f!==0)return f;const m=Xo(a[l[d]],u[c[d]]);if(m!==0)return m}return ae(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ie()}}function KE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ni(t),r=Ni(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function GE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Xo(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function Jo(t){return zy(t)}function zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=zy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${zy(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function qh(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rp(t);return e?16+qh(e):16;case 5:return 2*t.stringValue.length;case 6:return Vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+qh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ji(r.fields,(s,o)=>{i+=s.length+qh(o)}),i}(t.mapValue);default:throw ie()}}function By(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function YE(t){return!!t&&"nullValue"in t}function QE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function d3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NA])===null||n===void 0?void 0:n.stringValue)===VA}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function f3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new sn(Ol(this.value))}}function jA(t){const e=[];return Ji(t.fields,(n,r)=>{const i=new Tt([n]);if(Kh(r)){const s=jA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,se.min(),se.min(),se.min(),sn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,se.min(),se.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,se.min(),se.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.position=e,this.inclusive=n}}function XE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n="asc"){this.field=e,this.dir=n}}function p3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class ut extends FA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g3(e,n,r):n==="array-contains"?new _3(e,r):n==="in"?new w3(e,r):n==="not-in"?new b3(e,r):n==="array-contains-any"?new S3(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y3(e,r):new v3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xo(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends FA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new dr(e,n)}matches(e){return UA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function UA(t){return t.op==="and"}function zA(t){return m3(t)&&UA(t)}function m3(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function $y(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Jo(t.value);if(zA(t))return t.filters.map(e=>$y(e)).join(",");{const e=t.filters.map(n=>$y(n)).join(",");return`${t.op}(${e})`}}function BA(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BA(o,i.filters[a]),!0):!1}(t,e):void ie()}function $A(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map($A).join(" ,")+"}"}(t):"Filter"}class g3 extends ut{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class y3 extends ut{constructor(e,n){super(e,"in",n),this.keys=HA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v3 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=HA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class _3 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&yu(n.arrayValue,this.value)}}class w3 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class b3 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yu(this.value.arrayValue,n)}}class S3 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function ZE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new E3(t,e,n,r,i,s,o)}function s0(t){const e=oe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$y(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jo(r)).join(",")),e.le=n}return e.le}function o0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JE(t.startAt,e.startAt)&&JE(t.endAt,e.endAt)}function Hy(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function T3(t,e,n,r,i,s,o,a){return new ip(t,e,n,r,i,s,o,a)}function a0(t){return new ip(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x3(t){return t.collectionGroup!==null}function Ml(t){const e=oe(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Tt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new $d(s,r))}),n.has(Tt.keyField().canonicalString())||e.he.push(new $d(Tt.keyField(),r))}return e.he}function or(t){const e=oe(t);return e.Pe||(e.Pe=P3(e,Ml(t))),e.Pe}function P3(t,e){if(t.limitType==="F")return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $d(i.field,s)});const n=t.endAt?new Bd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,t.startAt.inclusive):null;return ZE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wy(t,e,n){return new ip(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sp(t,e){return o0(or(t),or(e))&&t.limitType===e.limitType}function WA(t){return`${s0(or(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$A(i)).join(", ")}]`),np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jo(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function op(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=XE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ml(r),i)||r.endAt&&!function(o,a,l){const u=XE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ml(r),i))}(t,e)}function C3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qA(t){return(e,n)=>{let r=!1;for(const i of Ml(t)){const s=k3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function k3(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Xo(l,u):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new We(J.comparator);function $r(){return I3}const KA=new We(J.comparator);function pl(...t){let e=KA;for(const n of t)e=e.insert(n.key,n);return e}function GA(t){let e=KA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return Dl()}function YA(){return Dl()}function Dl(){return new Ks(t=>t.toString(),(t,e)=>t.isEqual(e))}const A3=new We(J.comparator),R3=new pt(J.comparator);function fe(...t){let e=R3;for(const n of t)e=e.add(n);return e}const O3=new pt(ae);function M3(){return O3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fd(e)?"-0":e}}function QA(t){return{integerValue:""+t}}function D3(t,e){return o3(e)?QA(e):l0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this._=void 0}}function L3(t,e,n){return t instanceof Hd?function(i,s){const o={fields:{[MA]:{stringValue:OA},[LA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&r0(s)&&(s=rp(s)),s&&(o.fields[DA]=s),{mapValue:o}}(n,e):t instanceof vu?JA(t,e):t instanceof _u?ZA(t,e):function(i,s){const o=XA(i,s),a=tT(o)+tT(i.Ie);return By(o)&&By(i.Ie)?QA(a):l0(i.serializer,a)}(t,e)}function N3(t,e,n){return t instanceof vu?JA(t,e):t instanceof _u?ZA(t,e):n}function XA(t,e){return t instanceof Wd?function(r){return By(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hd extends ap{}class vu extends ap{constructor(e){super(),this.elements=e}}function JA(t,e){const n=eR(e);for(const r of t.elements)n.some(i=>hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _u extends ap{constructor(e){super(),this.elements=e}}function ZA(t,e){let n=eR(e);for(const r of t.elements)n=n.filter(i=>!hr(i,r));return{arrayValue:{values:n}}}class Wd extends ap{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function tT(t){return et(t.integerValue||t.doubleValue)}function eR(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vu&&i instanceof vu||r instanceof _u&&i instanceof _u?Qo(r.elements,i.elements,hr):r instanceof Wd&&i instanceof Wd?hr(r.Ie,i.Ie):r instanceof Hd&&i instanceof Hd}(t.transform,e.transform)}class j3{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lp{}function tR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rR(t.key,ar.none()):new Ku(t.key,t.data,ar.none());{const n=t.data,r=sn.empty();let i=new pt(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new mn(i.toArray()),ar.none())}}function F3(t,e,n){t instanceof Ku?function(i,s,o){const a=i.value.clone(),l=rT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!Gh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=rT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(nR(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ll(t,e,n,r){return t instanceof Ku?function(s,o,a,l){if(!Gh(s.precondition,o))return a;const u=s.value.clone(),c=iT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!Gh(s.precondition,o))return a;const u=iT(s.fieldTransforms,l,o),c=o.data;return c.setAll(nR(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Gh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function U3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=XA(r.transform,i||null);s!=null&&(n===null&&(n=sn.empty()),n.set(r.field,s))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qo(r,i,(s,o)=>V3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ku extends lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends lp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,N3(o,a,n[i]))}return r}function iT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,L3(s,o,e))}return r}class rR extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z3 extends lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=tR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(n,r)=>nT(n,r))&&Qo(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class u0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return A3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new u0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,ge;function W3(t){switch(t){case U.OK:return ie();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ie()}}function iR(t){if(t===void 0)return Br("GRPC error has no .code"),U.UNKNOWN;switch(t){case rt.OK:return U.OK;case rt.CANCELLED:return U.CANCELLED;case rt.UNKNOWN:return U.UNKNOWN;case rt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case rt.INTERNAL:return U.INTERNAL;case rt.UNAVAILABLE:return U.UNAVAILABLE;case rt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case rt.NOT_FOUND:return U.NOT_FOUND;case rt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case rt.ABORTED:return U.ABORTED;case rt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case rt.DATA_LOSS:return U.DATA_LOSS;default:return ie()}}(ge=rt||(rt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Ai([4294967295,4294967295],0);function sT(t){const e=CA().encode(t),n=new wA;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ai([n,r],0),new Ai([i,s],0)]}class c0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ai.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Ai.fromNumber(r)));return i.compare(q3)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=sT(e),[r,i]=oT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new c0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=sT(e),[r,i]=oT(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new up(se.min(),i,new We(ae),$r(),fe())}}class Gu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gu(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class sR{constructor(e,n){this.targetId=e,this.ge=n}}class oR{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aT{constructor(){this.pe=0,this.ye=lT(),this.we=kt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=fe(),n=fe(),r=fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Gu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=lT()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class K3{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$r(),this.$e=Zc(),this.Ue=Zc(),this.Ke=new We(ae)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Hy(s))if(r===0){const o=new J(s.path);this.ze(n,o,Ft.newNoDocument(o,se.min()))}else Se(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vi(r).toUint8Array()}catch(l){if(l instanceof RA)return Yo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new c0(o,i,s)}catch(l){return Yo(l instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Hy(a.target)){const l=new J(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Ft.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=fe();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new up(e,n,this.Ke,this.Qe,r);return this.Qe=$r(),this.$e=Zc(),this.Ue=Zc(),this.Ke=new We(ae),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new aT,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new pt(ae),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new pt(ae),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aT),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new We(J.comparator)}function lT(){return new We(J.comparator)}const G3={asc:"ASCENDING",desc:"DESCENDING"},Y3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q3={and:"AND",or:"OR"};class X3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qy(t,e){return t.useProto3Json||np(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J3(t,e){return qd(t,e.toTimestamp())}function lr(t){return Se(!!t),se.fromTimestamp(function(n){const r=Ni(n);return new ft(r.seconds,r.nanos)}(t))}function h0(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lR(t){const e=Qe.fromString(t);return Se(fR(e)),e}function Gy(t,e){return h0(t.databaseId,e.path)}function Hm(t,e){const n=lR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(cR(n))}function uR(t,e){return h0(t.databaseId,e)}function Z3(t){const e=lR(t);return e.length===4?Qe.emptyPath():cR(e)}function Yy(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cR(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uT(t,e,n){return{name:Gy(t,e),fields:n.value.mapValue.fields}}function e5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Se(c===void 0||typeof c=="string"),kt.fromBase64String(c||"")):(Se(c===void 0||c instanceof Buffer||c instanceof Uint8Array),kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?U.UNKNOWN:iR(u.code);return new Q(c,u.message||"")}(o);n=new oR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hm(t,r.document.name),s=lr(r.document.updateTime),o=r.document.createTime?lr(r.document.createTime):se.min(),a=new sn({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Yh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hm(t,r.document),s=r.readTime?lr(r.readTime):se.min(),o=Ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hm(t,r.document),s=r.removedTargetIds||[];n=new Yh([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new H3(i,s),a=r.targetId;n=new sR(a,o)}}return n}function t5(t,e){let n;if(e instanceof Ku)n={update:uT(t,e.key,e.value)};else if(e instanceof rR)n={delete:Gy(t,e.key)};else if(e instanceof Zi)n={update:uT(t,e.key,e.data),updateMask:c5(e.fieldMask)};else{if(!(e instanceof z3))return ie();n={verify:Gy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _u)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:J3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function n5(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?lr(i.updateTime):lr(s);return o.isEqual(se.min())&&(o=lr(s)),new j3(o,i.transformResults||[])}(n,e))):[]}function r5(t,e){return{documents:[uR(t,e.path)]}}function i5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uR(t,i);const s=function(u){if(u.length!==0)return dR(dr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:oo(f.field),direction:a5(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function s5(t){let e=Z3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Se(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=hR(d);return f instanceof dr&&zA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new $d(ao(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,np(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new Bd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new Bd(m,f)}(n.endAt)),T3(e,i,o,s,a,"F",l,u)}function o5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ao(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ao(n.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ao(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>hR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function a5(t){return G3[t]}function l5(t){return Y3[t]}function u5(t){return Q3[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return Tt.fromServerFormat(t.fieldPath)}function dR(t){return t instanceof ut?function(n){if(n.op==="=="){if(QE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:l5(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>dR(i));return r.length===1?r[0]:{compositeFilter:{op:u5(n.op),filters:r}}}(t):ie()}function c5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r,i,s=se.min(),o=se.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.Tt=e}}function d5(t){const e=s5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.Tn=new p5}addToCollectionParentIndex(e,n){return this.Tn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Li.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class p5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(pR,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Zo(0)}static Kn(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="LruGarbageCollector",m5=1048576;function dT([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class g5{constructor(e){this.Hn=e,this.buffer=new pt(dT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(hT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sa(n)?q(hT,"Ignoring IndexedDB error during garbage collection: ",n):await ba(n)}await this.er(3e5)})}}class v5{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(tp.ae);const r=new g5(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(cT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),io()<=de.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function _5(t,e){return new v5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ll(r.mutation,i,mn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r();const o=Dl(),a=function(){return Dl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ll(c.mutation,u,c.mutation.getFieldMask(),ft.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new b5(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let i=new We((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||mn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=YA();c.forEach(f=>{if(!s.has(f)){const m=tR(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(bs());let a=pu,l=s;return o.next(u=>j.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?j.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,fe())).next(c=>({batchId:a,changes:GA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const u=function(d,f){return new ip(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ft.newInvalidDocument(c)))});let a=pl();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ll(c.mutation,u,mn.empty(),ft.now()),op(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return j.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:d5(i.bundledQuery),readTime:lr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.overlays=new We(J.comparator),this.Rr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=bs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return j.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $3(n,r));let s=this.Rr.get(n);s===void 0&&(s=fe(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.Vr=new pt(mt.mr),this.gr=new pt(mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new mt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new J(new Qe([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new J(new Qe([])),r=new mt(n,e),i=new mt(n,e+1);let s=fe();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return J.comparator(e.key,n.key)||ae(e.Cr,n.Cr)}static pr(e,n){return ae(e.Cr,n.Cr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new pt(mt.mr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new B3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?n0:this.Fr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(ae);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),j.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new mt(new J(s),0);let a=new pt(ae);return this.Mr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},o),j.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return j.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new mt(n,0),i=this.Mr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.kr=e,this.docs=function(){return new We(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||n3(t3(c),r)<=0||(i.has(c.key)||op(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}qr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k5(this)}getSize(e){return j.resolve(this.size)}}class k5 extends w5{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.persistence=e,this.Qr=new Ks(n=>s0(n),o0),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new d0,this.targetCount=0,this.Kr=Zo.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),j.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.zn(n),j.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new tp(0),this.zr=!1,this.zr=!0,this.jr=new x5,this.referenceDelegate=e(this),this.Hr=new I5(this),this.indexManager=new f5,this.remoteDocumentCache=function(i){return new C5(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new h5(n),this.Yr=new E5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new P5(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new A5(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return j.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class A5 extends i3{constructor(e){super(),this.currentSequenceNumber=e}}class f0{constructor(e){this.persistence=e,this.ti=new d0,this.ni=null}static ri(e){return new f0(e)}get ii(){if(this.ni)return this.ni;throw ie()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),j.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.ii,r=>{const i=J.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return j.or([()=>j.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.oi=new Ks(r=>a3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_5(this,n)}static ri(e,n){return new Kd(e,n)}Zr(){}Xr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return j.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),j.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}ar(e,n,r){return j.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new p0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fF()?8:s3(Bt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new R5;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(io()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),j.resolve()):(io()<=de.DEBUG&&q("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(io()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):j.resolve())}rs(e,n){if(eT(n))return j.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Wy(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,Wy(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return eT(n)||i.isEqual(se.min())?j.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?j.resolve(null):(io()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.hs(e,o,n,e3(i,pu)).next(a=>a))})}cs(e,n){let r=new pt(qA(e));return n.forEach((i,s)=>{op(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return io()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",so(n)),this.ns.getDocumentsMatchingQuery(e,n,Li.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="LocalStore",M5=3e8;class D5{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new We(ae),this.Is=new Ks(s=>s0(s),o0),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function L5(t,e,n,r){return new D5(t,e,n,r)}async function gR(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function N5(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let m=j.resolve();return f.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(g=>{const b=u.docVersions.get(y);Se(b!==null),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yR(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function V5(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Hr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Hr.addMatchingKeys(s,c.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(kt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(g,b,v){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=M5?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,m,c)&&a.push(n.Hr.updateTargetData(s,m))});let l=$r(),u=fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(j5(s,o,e.documentUpdates).next(c=>{l=c.Vs,u=c.fs})),!r.isEqual(se.min())){const c=n.Hr.getLastRemoteSnapshotVersion(s).next(d=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function j5(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(m0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function F5(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=n0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U5(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Qy(t,e,n){const r=oe(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sa(o))throw o;q(m0,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function fT(t,e,n){const r=oe(t);let i=se.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=oe(l),f=d.Is.get(c);return f!==void 0?j.resolve(d.Ts.get(f)):d.Hr.getTargetData(u,c)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:fe())).next(a=>(z5(r,C3(e),a),{documents:a,gs:s})))}function z5(t,e,n){let r=t.Es.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class pT{constructor(){this.activeTargetIds=M3()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B5{constructor(){this.ho=new pT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new pT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class gT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(mT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Xy(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",H5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ud?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=Xy(),a=this.bo(e,n.toUriEncodedString());q(Wm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(u=>(q(Wm,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Yo(Wm,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=H5[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class K5 extends W5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=Xy();return new Promise((o,a)=>{const l=new bA;l.setWithCredentials(!0),l.listenOnce(SA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wh.NO_ERROR:const c=l.getResponseJson();q(Dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Wh.TIMEOUT:q(Dt,`RPC '${e}' ${s} timed out`),a(new Q(U.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const d=l.getStatus();if(q(Dt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const y=function(b){const v=b.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(m.status);a(new Q(y,m.message))}else a(new Q(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Q(U.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{q(Dt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);q(Dt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){const i=Xy(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xA(),a=TA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");q(Dt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,m=!1;const y=new q5({Fo:b=>{m?q(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(q(Dt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),q(Dt,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Mo:()=>d.close()}),g=(b,v,_)=>{b.listen(v,S=>{try{_(S)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,fl.EventType.OPEN,()=>{m||(q(Dt,`RPC '${e}' stream ${i} transport opened.`),y.Qo())}),g(d,fl.EventType.CLOSE,()=>{m||(m=!0,q(Dt,`RPC '${e}' stream ${i} transport closed`),y.Uo())}),g(d,fl.EventType.ERROR,b=>{m||(m=!0,Yo(Dt,`RPC '${e}' stream ${i} transport errored:`,b),y.Uo(new Q(U.UNAVAILABLE,"The operation could not be completed")))}),g(d,fl.EventType.MESSAGE,b=>{var v;if(!m){const _=b.data[0];Se(!!_);const S=_,A=(S==null?void 0:S.error)||((v=S[0])===null||v===void 0?void 0:v.error);if(A){q(Dt,`RPC '${e}' stream ${i} received error:`,A);const I=A.status;let M=function(T){const P=rt[T];if(P!==void 0)return iR(P)}(I),C=A.message;M===void 0&&(M=U.INTERNAL,C="Unknown error status: "+I+" with message "+A.message),m=!0,y.Uo(new Q(M,C)),d.close()}else q(Dt,`RPC '${e}' stream ${i} received:`,_),y.Ko(_)}}),g(a,EA.STAT_EVENT,b=>{b.stat===Fy.PROXY?q(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Fy.NOPROXY&&q(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(t){return new X3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class _R{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vR(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Q(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(yT,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G5 extends _R{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=e5(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?lr(o.readTime):se.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Yy(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Hy(l)?{documents:r5(s,l)}:{query:i5(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aR(s,o.resumeToken);const u=qy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=qd(s,o.snapshotVersion.toTimestamp());const u=qy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=o5(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Yy(this.serializer),n.removeTarget=e,this.I_(n)}}class Y5 extends _R{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=n5(e.writeResults,e.commitTime),r=lr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Yy(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t5(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{}class X5 extends Q5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Ky(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(U.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Ky(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(U.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class J5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Br(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class Z5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{Gs(this)&&(q(Us,"Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.W_.add(4),await Yu(u),u.j_.set("Unknown"),u.W_.delete(4),await hp(u)}(this))})}),this.j_=new J5(r,i)}}async function hp(t){if(Gs(t))for(const e of t.G_)await e(!0)}async function Yu(t){for(const e of t.G_)await e(!1)}function wR(t,e){const n=oe(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),_0(n)?v0(n):Ea(n).c_()&&y0(n,e))}function g0(t,e){const n=oe(t),r=Ea(n);n.K_.delete(e),r.c_()&&bR(n,e),n.K_.size===0&&(r.c_()?r.P_():Gs(n)&&n.j_.set("Unknown"))}function y0(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ea(t).y_(e)}function bR(t,e){t.H_.Ne(e),Ea(t).w_(e)}function v0(t){t.H_=new K3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ea(t).start(),t.j_.B_()}function _0(t){return Gs(t)&&!Ea(t).u_()&&t.K_.size>0}function Gs(t){return oe(t).W_.size===0}function SR(t){t.H_=void 0}async function eB(t){t.j_.set("Online")}async function tB(t){t.K_.forEach((e,n)=>{y0(t,e)})}async function nB(t,e){SR(t),_0(t)?(t.j_.q_(e),v0(t)):t.j_.set("Unknown")}async function rB(t,e,n){if(t.j_.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.K_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.K_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){q(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof Yh?t.H_.We(e):e instanceof sR?t.H_.Ze(e):t.H_.je(e),!n.isEqual(se.min()))try{const r=await yR(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.K_.get(u);c&&s.K_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.K_.get(l);if(!c)return;s.K_.set(l,c.withResumeToken(kt.EMPTY_BYTE_STRING,c.snapshotVersion)),bR(s,l);const d=new mi(c.target,l,u,c.sequenceNumber);y0(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(Us,"Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!Sa(e))throw e;t.W_.add(1),await Yu(t),t.j_.set("Offline"),n||(n=()=>yR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Us,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await hp(t)})}function ER(t,e){return e().catch(n=>Gd(t,n,e))}async function dp(t){const e=oe(t),n=Fi(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:n0;for(;iB(e);)try{const i=await F5(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,sB(e,i)}catch(i){await Gd(e,i)}TR(e)&&xR(e)}function iB(t){return Gs(t)&&t.U_.length<10}function sB(t,e){t.U_.push(e);const n=Fi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function TR(t){return Gs(t)&&!Fi(t).u_()&&t.U_.length>0}function xR(t){Fi(t).start()}async function oB(t){Fi(t).C_()}async function aB(t){const e=Fi(t);for(const n of t.U_)e.b_(n.mutations)}async function lB(t,e,n){const r=t.U_.shift(),i=u0.from(r,e,n);await ER(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await dp(t)}async function uB(t,e){e&&Fi(t).S_&&await async function(r,i){if(function(o){return W3(o)&&o!==U.ABORTED}(i.code)){const s=r.U_.shift();Fi(r).h_(),await ER(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dp(r)}}(t,e),TR(t)&&xR(t)}async function vT(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),q(Us,"RemoteStore received new credentials");const r=Gs(n);n.W_.add(3),await Yu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await hp(n)}async function cB(t,e){const n=oe(t);e?(n.W_.delete(2),await hp(n)):e||(n.W_.add(2),await Yu(n),n.j_.set("Unknown"))}function Ea(t){return t.J_||(t.J_=function(n,r,i){const s=oe(n);return s.M_(),new G5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:eB.bind(null,t),No:tB.bind(null,t),Lo:nB.bind(null,t),p_:rB.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),_0(t)?v0(t):t.j_.set("Unknown")):(await t.J_.stop(),SR(t))})),t.J_}function Fi(t){return t.Y_||(t.Y_=function(n,r,i){const s=oe(n);return s.M_(),new Y5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:oB.bind(null,t),Lo:uB.bind(null,t),D_:aB.bind(null,t),v_:lB.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await dp(t)):(await t.Y_.stop(),t.U_.length>0&&(q(Us,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new w0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Sa(t))return new Q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.Z_=new We(J.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ie():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ea{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ea(e,n,No.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class dB{constructor(){this.queries=wT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=wT(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Q(U.ABORTED,"Firestore shutting down"))}}function wT(){return new Ks(t=>WA(t),sp)}async function fB(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new hB,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=b0(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&S0(n)}async function pB(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mB(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&S0(n)}function gB(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function S0(t){t.ia.forEach(e=>{e.next()})}var Jy,bT;(bT=Jy||(Jy={}))._a="default",bT.Cache="cache";class yB{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.key=e}}class CR{constructor(e){this.key=e}}class vB{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=fe(),this.mutatedKeys=fe(),this.ya=qA(e),this.wa=new No(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new _T,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=op(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?y!==g&&(r.track({type:3,doc:m}),b=!0):this.va(f,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.ya(m,l)>0||u&&this.ya(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(l||u)&&(a=!0)),b&&(m?(o=o.add(m),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((c,d)=>function(m,y){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return g(m)-g(y)}(c.type,d.type)||this.ya(c.doc,d.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new ea(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _T,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new CR(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new PR(r))}),n}Oa(e){this.fa=e.gs,this.pa=fe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ea.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const E0="SyncEngine";class _B{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wB{constructor(e){this.key=e,this.Ba=!1}}class bB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ks(a=>WA(a),sp),this.qa=new Map,this.Qa=new Set,this.$a=new We(J.comparator),this.Ua=new Map,this.Ka=new d0,this.Wa={},this.Ga=new Map,this.za=Zo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function SB(t,e,n=!0){const r=MR(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await kR(r,e,n,!0),i}async function EB(t,e){const n=MR(t);await kR(n,e,!0,!1)}async function kR(t,e,n,r){const i=await U5(t.localStore,or(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await TB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&wR(t.remoteStore,i),a}async function TB(t,e,n,r,i){t.Ha=(d,f,m)=>async function(g,b,v,_){let S=b.view.ba(v);S.ls&&(S=await fT(g.localStore,b.query,!1).then(({documents:C})=>b.view.ba(C,S)));const A=_&&_.targetChanges.get(b.targetId),I=_&&_.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(S,g.isPrimaryClient,A,I);return ET(g,b.targetId,M.Ma),M.snapshot}(t,d,f,m);const s=await fT(t.localStore,e,!0),o=new vB(e,s.gs),a=o.ba(s.documents),l=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);ET(t,n,u.Ma);const c=new _B(e,n,o);return t.ka.set(e,c),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function xB(t,e,n){const r=oe(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!sp(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&g0(r.remoteStore,i.targetId),Zy(r,i.targetId)}).catch(ba)):(Zy(r,i.targetId),await Qy(r.localStore,i.targetId,!0))}async function PB(t,e){const n=oe(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),g0(n.remoteStore,r.targetId))}async function CB(t,e,n){const r=DB(t);try{const i=await function(o,a){const l=oe(o),u=ft.now(),c=a.reduce((m,y)=>m.add(y.key),fe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=$r(),g=fe();return l.ds.getEntries(m,c).next(b=>{y=b,y.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(b=>{d=b;const v=[];for(const _ of a){const S=U3(_,d.get(_.key).overlayedDocument);S!=null&&v.push(new Zi(_.key,S,jA(S.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,a)}).next(b=>{f=b;const v=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,v)})}).then(()=>({batchId:f.batchId,changes:GA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new We(ae)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Qu(r,i.changes),await dp(r.remoteStore)}catch(i){const s=b0(i,"Failed to persist write");n.reject(s)}}async function IR(t,e){const n=oe(t);try{const r=await V5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ua.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Se(o.Ba):i.removedDocuments.size>0&&(Se(o.Ba),o.Ba=!1))}),await Qu(n,r,e)}catch(r){await ba(r)}}function ST(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.ta)f.sa(a)&&(u=!0)}),u&&S0(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kB(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),s=i&&i.key;if(s){let o=new We(J.comparator);o=o.insert(s,Ft.newNoDocument(s,se.min()));const a=fe().add(s),l=new up(se.min(),new Map,new We(ae),o,a);await IR(r,l),r.$a=r.$a.remove(s),r.Ua.delete(e),T0(r)}else await Qy(r.localStore,e,!1).then(()=>Zy(r,e,n)).catch(ba)}async function IB(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await N5(n.localStore,e);RR(n,r,null),AR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,i)}catch(i){await ba(i)}}async function AB(t,e,n){const r=oe(t);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Se(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);RR(r,e,n),AR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,i)}catch(i){await ba(i)}}function AR(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function RR(t,e,n){const r=oe(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||OR(t,r)})}function OR(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(g0(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),T0(t))}function ET(t,e,n){for(const r of n)r instanceof PR?(t.Ka.addReference(r.key,e),RB(t,r)):r instanceof CR?(q(E0,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||OR(t,r.key)):ie()}function RB(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(q(E0,"New document in limbo: "+n),t.Qa.add(r),T0(t))}function T0(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new J(Qe.fromString(e)),r=t.za.next();t.Ua.set(r,new wB(n)),t.$a=t.$a.insert(n,r),wR(t.remoteStore,new mi(or(a0(n.path)),r,"TargetPurposeLimboResolution",tp.ae))}}async function Qu(t,e,n){const r=oe(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=p0.Yi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,u){const c=oe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(u,f=>j.forEach(f.Hi,m=>c.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>j.forEach(f.Ji,m=>c.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!Sa(d))throw d;q(m0,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=c.Ts.get(f),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);c.Ts=c.Ts.insert(f,g)}}}(r.localStore,s))}async function OB(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){q(E0,"User change. New user:",e.toKey());const r=await gR(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Q(U.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.Rs)}}function MB(t,e){const n=oe(t),r=n.Ua.get(e);if(r&&r.Ba)return fe().add(r.key);{let i=fe();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function MR(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kB.bind(null,e),e.La.p_=mB.bind(null,e.eventManager),e.La.Ja=gB.bind(null,e.eventManager),e}function DB(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AB.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return L5(this.persistence,new O5,e.initialUser,this.serializer)}Xa(e){return new mR(f0.ri,this.serializer)}Za(e){return new B5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class LB extends Yd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof Kd);const r=this.persistence.referenceDelegate.garbageCollector;return new y5(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new mR(r=>Kd.ri(r,n),this.serializer)}}class ev{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ST(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OB.bind(null,this.syncEngine),await cB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dB}()}createDatastore(e){const n=cp(e.databaseInfo.databaseId),r=function(s){return new K5(s)}(e.databaseInfo);return function(s,o,a,l){return new X5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Z5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ST(this.syncEngine,n,0),function(){return gT.D()?new gT:new $5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new bB(i,s,o,a,l,u);return c&&(d.ja=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);q(Us,"RemoteStore shutting down."),s.W_.add(5),await Yu(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ev.provider={build:()=>new ev};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class VB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=kA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(Ui,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),q(Ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jB(t);q(Ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vT(e.remoteStore,i)),t._onlineComponents=e}async function jB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Ui,"Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Yo("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new Yd)}}else q(Ui,"Using default OfflineComponentProvider"),await Km(t,new LB(void 0));return t._offlineComponents}async function DR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Ui,"Using user provided OnlineComponentProvider"),await TT(t,t._uninitializedComponentsProvider._online)):(q(Ui,"Using default OnlineComponentProvider"),await TT(t,new ev))),t._onlineComponents}function FB(t){return DR(t).then(e=>e.syncEngine)}async function UB(t){const e=await DR(t),n=e.eventManager;return n.onListen=SB.bind(null,e.syncEngine),n.onUnlisten=xB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PB.bind(null,e.syncEngine),n}function zB(t,e,n={}){const r=new Ri;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new NB({next:f=>{c.su(),o.enqueueAndForget(()=>pB(s,d));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new Q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new Q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new yB(a0(a.path),c,{includeMetadataChanges:!0,Ta:!0});return fB(s,d)}(await UB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(t,e,n){if(!n)throw new Q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $B(t,e,n,r){if(e===!0&&r===!0)throw new Q(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PT(t){if(!J.isDocumentKey(t))throw new Q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=x0(t);throw new Q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firestore.googleapis.com",CT=!0;class kT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NR,this.ssl=CT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m5)throw new Q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$B("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class P0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Wz;switch(r.type){case"firstParty":return new Yz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xT.get(n);r&&(q("ComponentProvider","Removing Datastore"),xT.delete(n),r.terminate())}(this),Promise.resolve()}}function HB(t,e,n,r={}){var i;const s=(t=zs(t,P0))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==NR&&s.host!==a&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!Ls(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=Vt.MOCK_USER;else{u=oF(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Vt(d)}t._authCredentials=new qz(new PA(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new C0(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class wu extends C0{constructor(e,n,r){super(e,n,a0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new J(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function fr(t,e,...n){if(t=$t(t),arguments.length===1&&(e=kA.newId()),BB("doc","path",e),t instanceof P0){const r=Qe.fromString(e,...n);return PT(r),new yn(t,null,new J(r))}{if(!(t instanceof yn||t instanceof wu))throw new Q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return PT(r),new yn(t.firestore,t instanceof wu?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class AT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vR(this,"async_queue_retry"),this.Su=()=>{const r=qm();r&&q(IT,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ri;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Sa(e))throw e;q(IT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=w0.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class fp extends P0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new AT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AT(e),this._firestoreClient=void 0,await e}}}function k0(t,e){const n=typeof t=="object"?t:NI(),r=typeof t=="string"?t:Ud,i=H_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=iF("firestore");s&&HB(i,...s)}return i}function VR(t){if(t._terminated)throw new Q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WB(t),t._firestoreClient}function WB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new c3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LR(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new VB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ta(kt.fromBase64String(e))}catch(n){throw new Q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ta(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=/^__.*__$/;class KB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class jR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class O0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new O0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FR(this.Lu)&&qB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class GB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cp(e)}ju(e,n,r,i=!1){return new O0({Lu:e,methodName:n,zu:r,path:Tt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UR(t){const e=t._freezeSettings(),n=cp(t._databaseId);return new GB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YB(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);M0("Data must be an object, but it was:",o,r);const a=zR(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=tv(e,d,n);if(!o.contains(f))throw new Q(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$R(c,f)||c.push(f)}l=new mn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new KB(new sn(a),l,u)}class mp extends I0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}function QB(t,e,n,r){const i=t.ju(1,e,n);M0("Data must be an object, but it was:",i,r);const s=[],o=sn.empty();Ji(r,(l,u)=>{const c=D0(e,l,n);u=$t(u);const d=i.Uu(c);if(u instanceof mp)s.push(c);else{const f=gp(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new mn(s);return new jR(o,a,i.fieldTransforms)}function XB(t,e,n,r,i,s){const o=t.ju(1,e,n),a=[tv(e,r,n)],l=[i];if(s.length%2!=0)throw new Q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(tv(e,s[f])),l.push(s[f+1]);const u=[],c=sn.empty();for(let f=a.length-1;f>=0;--f)if(!$R(u,a[f])){const m=a[f];let y=l[f];y=$t(y);const g=o.Uu(m);if(y instanceof mp)u.push(m);else{const b=gp(y,g);b!=null&&(u.push(m),c.set(m,b))}}const d=new mn(u);return new jR(c,d,o.fieldTransforms)}function gp(t,e){if(BR(t=$t(t)))return M0("Unsupported field value:",e,t),zR(t,e);if(t instanceof I0)return function(r,i){if(!FR(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=gp(a,i.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:qd(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(i.serializer,s)}}if(r instanceof A0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ta)return{bytesValue:aR(i.serializer,r._byteString)};if(r instanceof yn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof R0)return function(o,a){return{mapValue:{fields:{[NA]:{stringValue:VA},[zd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return l0(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${x0(r)}`)}(t,e)}function zR(t,e){const n={};return AA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,i)=>{const s=gp(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof A0||t instanceof ta||t instanceof yn||t instanceof I0||t instanceof R0)}function M0(t,e,n){if(!BR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=x0(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function tv(t,e,n){if((e=$t(e))instanceof pp)return e._internalPath;if(typeof e=="string")return D0(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const JB=new RegExp("[~\\*/\\[\\]]");function D0(t,e,n){if(e.search(JB)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pp(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(U.INVALID_ARGUMENT,a+t+l)}function $R(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZB extends HR{data(){return super.data()}}function WR(t,e){return typeof e=="string"?D0(t,e):e instanceof pp?e._internalPath:e._delegate._internalPath}class e${convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>et(o.doubleValue));return new R0(s)}convertGeoPoint(e){return new A0(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Ni(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Se(fR(r));const i=new gu(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qR extends HR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new r$(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(WR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class r$ extends qR{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){t=zs(t,yn);const e=zs(t.firestore,fp);return zB(VR(e),t._key).then(n=>o$(e,t,n))}class i$ extends e${constructor(e){super(),this.firestore=e}convertBytes(e){return new ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function s$(t,e,n){t=zs(t,yn);const r=zs(t.firestore,fp),i=t$(t.converter,e);return KR(r,[YB(UR(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ar.none())])}function yp(t,e,n,...r){t=zs(t,yn);const i=zs(t.firestore,fp),s=UR(i);let o;return o=typeof(e=$t(e))=="string"||e instanceof pp?XB(s,"updateDoc",t._key,e,n,r):QB(s,"updateDoc",t._key,e),KR(i,[o.toMutation(t._key,ar.exists(!0))])}function KR(t,e){return function(r,i){const s=new Ri;return r.asyncQueue.enqueueAndForget(async()=>CB(await FB(r),i,s)),s.promise}(VR(t),e)}function o$(t,e,n){const r=n.docs.get(e._key),i=new i$(t);return new qR(t,i,e._key,r,new n$(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wa=i})(va),Go(new Ns("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fp(new Kz(r.getProvider("auth-internal")),new Qz(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ii(VE,jE,e),Ii(VE,jE,"esm2017")})();const a$={apiKey:"AIzaSyAhHLUDv5esIzKzBsW1OQ_c7qv7X3I9fpc",authDomain:"caloriepro-8ff9c.firebaseapp.com",projectId:"caloriepro-8ff9c",storageBucket:"caloriepro-8ff9c.appspot.com",messagingSenderId:"93092884347",appId:"1:93092884347:web:f46f69900c3b594a8f17de",measurementId:"G-QFXSDCZM19"},GR=LI(a$),An=e0(GR),na=k0(GR),YR=async()=>{var e;const t=(e=An.currentUser)==null?void 0:e.uid;if(t)try{const n=fr(na,"users",t),r=await Xu(n);if(r.exists())return r.data();console.warn("El perfil no existe.")}catch(n){console.error("Error al obtener los datos del perfil:",n)}return{}},l$=async t=>{if(!t)return console.error("User ID no proporcionado"),[];try{const e=fr(na,"users",t),n=await Xu(e);return n.exists()?n.data().foodHistory||[]:(console.error("No se encontr el documento del usuario"),[])}catch(e){return console.error("Error al obtener el historial de alimentos:",e),[]}},u$=async(t,e,n)=>{try{const r=fr(na,"users",t);await yp(r,{foodHistory:e,caloriesConsumed:n}),console.log("Historial de alimentos guardado correctamente.")}catch(r){console.error("Error al guardar el historial de alimentos:",r)}},QR=async t=>{var e;try{const n=(e=An.currentUser)==null?void 0:e.uid;if(!n){console.error("No se pudo obtener el usuario autenticado.");return}const r=fr(na,"users",n);t&&typeof t=="object"&&Object.keys(t).length>0?await yp(r,t):console.error("Datos del perfil no vlidos:",t)}catch(n){console.error("Error al guardar el perfil del usuario:",n)}},RT=k0(),XR=L.createContext(),vp=()=>L.useContext(XR),c$=({children:t})=>{const[e,n]=L.useState(!1),[r,i]=L.useState(null),[s,o]=L.useState(null),[a,l]=L.useState(null),u=Uu(),c=async(y,g)=>{try{const b=await kU(An,y,g);n(!0),i(b.user),o(null),await f(b.user.uid),u("/dashboard")}catch{o("Error al iniciar sesin: contrasea o correo electrnico incorrecto "),n(!1)}},d=async(y,g,b)=>{try{const v=await CU(An,y,g);n(!0),i(v.user),o(null),await s$(fr(RT,"users",v.user.uid),{userName:b,email:v.user.email}),await f(v.user.uid),u("/dashboard")}catch(v){o("Error al registrarse: "+v.message),n(!1)}},f=async y=>{try{const g=fr(RT,"users",y),b=await Xu(g);b.exists()&&l(b.data().userName)}catch(g){console.error("Error al obtener el nombre del usuario:",g)}},m=async()=>{try{await An.signOut(),n(!1),i(null),l(null)}catch(y){o("Error al cerrar sesin: "+y.message)}};return L.useEffect(()=>{const y=Jf(An,g=>{g?(n(!0),i(g),f(g.uid)):(n(!1),i(null),l(null))});return()=>y()},[]),x.jsx(XR.Provider,{value:{isAuthenticated:e,user:r,userName:a,login:c,signUp:d,logout:m,error:s,setError:o,setIsAuthenticated:n},children:t})},L0=L.createContext({});function N0(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const V0=typeof window<"u",JR=V0?L.useLayoutEffect:L.useEffect,_p=L.createContext(null),j0=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class h$ extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d$({children:t,isPresent:e,anchorX:n}){const r=L.useId(),i=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=L.useContext(j0);return L.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:c,right:d}=s.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${c}`:`right: ${d}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),x.jsx(h$,{isPresent:e,childRef:i,sizeRef:s,children:L.cloneElement(t,{ref:i})})}const f$=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=N0(p$),u=L.useId(),c=L.useCallback(f=>{l.set(f,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),d=L.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:c,register:f=>(l.set(f,!1),()=>l.delete(f))}),s?[Math.random(),c]:[n,c]);return L.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),L.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=x.jsx(d$,{isPresent:n,anchorX:a,children:t})),x.jsx(_p.Provider,{value:d,children:t})};function p$(){return new Map}function ZR(t=!0){const e=L.useContext(_p);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=L.useId();L.useEffect(()=>{if(t)return i(s)},[t]);const o=L.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const th=t=>t.key||"";function OT(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const m$=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,u]=ZR(o),c=L.useMemo(()=>OT(t),[t]),d=o&&!l?[]:c.map(th),f=L.useRef(!0),m=L.useRef(c),y=N0(()=>new Map),[g,b]=L.useState(c),[v,_]=L.useState(c);JR(()=>{f.current=!1,m.current=c;for(let I=0;I<v.length;I++){const M=th(v[I]);d.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[v,d.length,d.join("-")]);const S=[];if(c!==g){let I=[...c];for(let M=0;M<v.length;M++){const C=v[M],E=th(C);d.includes(E)||(I.splice(M,0,C),S.push(C))}return s==="wait"&&S.length&&(I=S),_(OT(I)),b(c),null}const{forceRender:A}=L.useContext(L0);return x.jsx(x.Fragment,{children:v.map(I=>{const M=th(I),C=o&&!l?!1:c===v||d.includes(M),E=()=>{if(y.has(M))y.set(M,!0);else return;let T=!0;y.forEach(P=>{P||(T=!1)}),T&&(A==null||A(),_(m.current),o&&(u==null||u()),r&&r())};return x.jsx(f$,{isPresent:C,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:C?void 0:E,anchorX:a,children:I},M)})})};function F0(t,e){t.indexOf(e)===-1&&t.push(e)}function U0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vn=t=>t;let eO=vn;const g$={useManualTiming:!1};function z0(t){let e;return()=>(e===void 0&&(e=t()),e)}const ra=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class B0{constructor(){this.subscriptions=[]}add(e){return F0(this.subscriptions,e),()=>U0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Dr=t=>t*1e3,Lr=t=>t/1e3;function tO(t,e){return e?t*(1e3/e):0}const y$=z0(()=>window.ScrollTimeline!==void 0);class v${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(y$()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _$ extends v${then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function $0(t,e){return t?t[e]||t.default||t:void 0}const nv=2e4;function nO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<nv;)e+=n,r=t.next(e);return e>=nv?1/0:e}function H0(t){return typeof t=="function"}function MT(t,e){t.timeline=e,t.onfinish=null}const W0=t=>Array.isArray(t)&&typeof t[0]=="number",w$={linearEasing:void 0};function b$(t,e){const n=z0(t);return()=>{var r;return(r=w$[e])!==null&&r!==void 0?r:n()}}const Xd=b$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rO=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(ra(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function iO(t){return!!(typeof t=="function"&&Xd()||!t||typeof t=="string"&&(t in rv||Xd())||W0(t)||Array.isArray(t)&&t.every(iO))}const gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,rv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function sO(t,e){if(t)return typeof t=="function"&&Xd()?rO(t,e):W0(t)?gl(t):Array.isArray(t)?t.map(n=>sO(n,e)||rv.easeOut):rv[t]}const nh=["read","resolveKeyframes","update","preRender","render","postRender"],DT={value:null};function S$(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,m=!1)=>{const g=m&&i?n:r;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),e&&DT.value&&DT.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const E$=40;function oO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=nh.reduce((v,_)=>(v[_]=S$(s,e?_:void 0),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:c,render:d,postRender:f}=o,m=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,E$),1),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},y=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:nh.reduce((v,_)=>{const S=o[_];return v[_]=(A,I=!1,M=!1)=>(n||y(),S.schedule(A,I,M)),v},{}),cancel:v=>{for(let _=0;_<nh.length;_++)o[nh[_]].cancel(v)},state:i,steps:o}}const{schedule:Ie,cancel:zi,state:St,steps:Gm}=oO(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0),{schedule:q0}=oO(queueMicrotask,!1);let Qh;function T$(){Qh=void 0}const ur={now:()=>(Qh===void 0&&ur.set(St.isProcessing||g$.useManualTiming?St.timestamp:performance.now()),Qh),set:t=>{Qh=t,queueMicrotask(T$)}},jn={x:!1,y:!1};function aO(){return jn.x||jn.y}function x$(t){return t==="x"||t==="y"?jn[t]?null:(jn[t]=!0,()=>{jn[t]=!1}):jn.x||jn.y?null:(jn.x=jn.y=!0,()=>{jn.x=jn.y=!1})}function P$(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function lO(t,e){const n=P$(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function LT(t){return!(t.pointerType==="touch"||aO())}function C$(t,e,n={}){const[r,i,s]=lO(t,n),o=a=>{if(!LT(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{LT(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function NT(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const uO=(t,e)=>e?t===e?!0:uO(t,e.parentElement):!1,K0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,k$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I$(t){return k$.has(t.tagName)||t.tabIndex!==-1}const yl=new WeakSet;function VT(t){return e=>{e.key==="Enter"&&t(e)}}function Ym(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const A$=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=VT(()=>{if(yl.has(n))return;Ym(n,"down");const i=VT(()=>{Ym(n,"up")}),s=()=>Ym(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jT(t){return K0(t)&&!aO()}function R$(t,e,n={}){const[r,i,s]=lO(t,n),o=a=>{const l=a.currentTarget;if(!l||!jT(a)||yl.has(l))return;yl.add(l),NT(a,"set");const u=e(l,a),c=(m,y)=>{l.removeEventListener("pointerup",d),l.removeEventListener("pointercancel",f),NT(m,"release"),!(!jT(m)||!yl.has(l))&&(yl.delete(l),typeof u=="function"&&u(m,{success:y}))},d=m=>{(m.isTrusted?O$(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?c(m,!1):c(m,!(l instanceof Element)||uO(l,m.target))},f=m=>{c(m,!1)};l.addEventListener("pointerup",d,i),l.addEventListener("pointercancel",f,i),l.addEventListener("lostpointercapture",f,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!I$(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",u=>A$(u,i),i)}),s}function O$(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const FT=30,M$=t=>!isNaN(parseFloat(t));class D${constructor(e,n={}){this.version="12.6.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ur.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new B0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FT);return tO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bu(t,e){return new D$(t,e)}const cO=L.createContext({strict:!1}),UT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const t in UT)ia[t]={isEnabled:e=>UT[t].some(n=>!!e[n])};function L$(t){for(const e in t)ia[e]={...ia[e],...t[e]}}const N$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N$.has(t)}let hO=t=>!Jd(t);function V$(t){t&&(hO=e=>e.startsWith("on")?!Jd(e):t(e))}try{V$(require("@emotion/is-prop-valid").default)}catch{}function j$(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(hO(i)||n===!0&&Jd(i)||!e&&!Jd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function F$(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const wp=L.createContext({});function bp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Su(t){return typeof t=="string"||Array.isArray(t)}const G0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y0=["initial",...G0];function Sp(t){return bp(t.animate)||Y0.some(e=>Su(t[e]))}function dO(t){return!!(Sp(t)||t.variants)}function U$(t,e){if(Sp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Su(n)?n:void 0,animate:Su(r)?r:void 0}}return t.inherit!==!1?e:{}}function z$(t){const{initial:e,animate:n}=U$(t,L.useContext(wp));return L.useMemo(()=>({initial:e,animate:n}),[zT(e),zT(n)])}function zT(t){return Array.isArray(t)?t.join(" "):t}const B$=Symbol.for("motionComponentSymbol");function So(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $$(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):So(n)&&(n.current=r))},[e])}const Q0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H$="framerAppearId",fO="data-"+Q0(H$),pO=L.createContext({});function W$(t,e,n,r,i){var s,o;const{visualElement:a}=L.useContext(wp),l=L.useContext(cO),u=L.useContext(_p),c=L.useContext(j0).reducedMotion,d=L.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=L.useContext(pO);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&q$(d.current,n,i,m);const y=L.useRef(!1);L.useInsertionEffect(()=>{f&&y.current&&f.update(n,u)});const g=n[fO],b=L.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return JR(()=>{f&&(y.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),q0.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),L.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,g)}),b.current=!1))}),f}function q$(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:mO(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&So(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function mO(t){if(t)return t.options.allowProjection!==!1?t.projection:mO(t.parent)}function K$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&L$(t);function a(u,c){let d;const f={...L.useContext(j0),...u,layoutId:G$(u)},{isStatic:m}=f,y=z$(u),g=r(u,m);if(!m&&V0){Y$();const b=Q$(f);d=b.MeasureLayout,y.visualElement=W$(i,g,f,e,b.ProjectionNode)}return x.jsxs(wp.Provider,{value:y,children:[d&&y.visualElement?x.jsx(d,{visualElement:y.visualElement,...f}):null,n(i,u,$$(g,y.visualElement,c),g,m,y.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=L.forwardRef(a);return l[B$]=i,l}function G$({layoutId:t}){const e=L.useContext(L0).id;return e&&t!==void 0?e+"-"+t:t}function Y$(t,e){L.useContext(cO).strict}function Q$(t){const{drag:e,layout:n}=ia;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const gO=t=>e=>typeof e=="string"&&e.startsWith(t),X0=gO("--"),X$=gO("var(--"),J0=t=>X$(t)?J$.test(t.split("/*")[0].trim()):!1,J$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Eu={};function Z$(t){for(const e in t)Eu[e]=t[e],X0(e)&&(Eu[e].isCSSVariable=!0)}const Ta=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ys=new Set(Ta);function yO(t,{layout:e,layoutId:n}){return Ys.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Eu[t]||t==="opacity")}const Ut=t=>!!(t&&t.getVelocity),vO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hr=(t,e,n)=>n>e?e:n<t?t:n,xa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...xa,transform:t=>Hr(0,1,t)},rh={...xa,default:1},Ju=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ni=Ju("deg"),cr=Ju("%"),ne=Ju("px"),e6=Ju("vh"),t6=Ju("vw"),BT={...cr,parse:t=>cr.parse(t)/100,transform:t=>cr.transform(t*100)},n6={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,backgroundPositionX:ne,backgroundPositionY:ne},r6={rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scale:rh,scaleX:rh,scaleY:rh,scaleZ:rh,skew:ni,skewX:ni,skewY:ni,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Tu,originX:BT,originY:BT,originZ:ne},$T={...xa,transform:Math.round},Z0={...n6,...r6,zIndex:$T,size:ne,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:$T},i6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},s6=Ta.length;function o6(t,e,n){let r="",i=!0;for(let s=0;s<s6;s++){const o=Ta[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=vO(a,Z0[o]);if(!l){i=!1;const c=i6[o]||o;r+=`${c}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function ew(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Ys.has(l)){o=!0;continue}else if(X0(l)){i[l]=u;continue}else{const c=vO(u,Z0[l]);l.startsWith("origin")?(a=!0,s[l]=c):r[l]=c}}if(e.transform||(o||n?r.transform=o6(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;r.transformOrigin=`${l} ${u} ${c}`}}const tw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _O(t,e,n){for(const r in e)!Ut(e[r])&&!yO(r,n)&&(t[r]=e[r])}function a6({transformTemplate:t},e){return L.useMemo(()=>{const n=tw();return ew(n,e,t),Object.assign({},n.vars,n.style)},[e])}function l6(t,e){const n=t.style||{},r={};return _O(r,n,t),Object.assign(r,a6(t,e)),r}function u6(t,e){const n={},r=l6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const c6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nw(t){return typeof t!="string"||t.includes("-")?!1:!!(c6.indexOf(t)>-1||/[A-Z]/u.test(t))}const h6={offset:"stroke-dashoffset",array:"stroke-dasharray"},d6={offset:"strokeDashoffset",array:"strokeDasharray"};function f6(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?h6:d6;t[s.offset]=ne.transform(-r);const o=ne.transform(e),a=ne.transform(n);t[s.array]=`${o} ${a}`}function HT(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function p6(t,e,n){const r=HT(e,t.x,t.width),i=HT(n,t.y,t.height);return`${r} ${i}`}function rw(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d){if(ew(t,u,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:y}=t;f.transform&&(y&&(m.transform=f.transform),delete f.transform),y&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=p6(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&f6(f,o,a,l,!1)}const wO=()=>({...tw(),attrs:{}}),iw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function m6(t,e,n,r){const i=L.useMemo(()=>{const s=wO();return rw(s,e,iw(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};_O(s,t.style,t),i.style={...s,...i.style}}return i}function g6(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(nw(n)?m6:u6)(r,s,o,n),u=j$(r,typeof n=="string",t),c=n!==L.Fragment?{...u,...l,ref:i}:{},{children:d}=r,f=L.useMemo(()=>Ut(d)?d.get():d,[d]);return L.createElement(n,{...c,children:f})}}function WT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sw(t,e,n,r){if(typeof e=="function"){const[i,s]=WT(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=WT(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const iv=t=>Array.isArray(t),y6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),v6=t=>iv(t)?t[t.length-1]||0:t;function Xh(t){const e=Ut(t)?t.get():t;return y6(e)?e.toValue():e}function _6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:w6(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const bO=t=>(e,n)=>{const r=L.useContext(wp),i=L.useContext(_p),s=()=>_6(t,e,r,i);return n?s():N0(s)};function w6(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Xh(s[f]);let{initial:o,animate:a}=t;const l=Sp(t),u=dO(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!bp(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const y=sw(t,f[m]);if(y){const{transitionEnd:g,transition:b,...v}=y;for(const _ in v){let S=v[_];if(Array.isArray(S)){const A=c?S.length-1:0;S=S[A]}S!==null&&(i[_]=S)}for(const _ in g)i[_]=g[_]}}}return i}function ow(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Ut(i[o])||e.style&&Ut(e.style[o])||yO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const b6={useVisualState:bO({scrapeMotionValuesFromProps:ow,createRenderState:tw})};function SO(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function EO(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const TO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xO(t,e,n,r){EO(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(TO.has(i)?i:Q0(i),e.attrs[i])}function PO(t,e,n){const r=ow(t,e,n);for(const i in t)if(Ut(t[i])||Ut(e[i])){const s=Ta.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const qT=["x","y","width","height","cx","cy","r"],S6={useVisualState:bO({scrapeMotionValuesFromProps:PO,createRenderState:wO,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ys.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<qT.length;a++){const l=qT[a];t[l]!==e[l]&&(o=!0)}o&&Ie.read(()=>{SO(n,r),Ie.render(()=>{rw(r,i,iw(n.tagName),t.transformTemplate),xO(n,r)})})}})};function E6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...nw(r)?S6:b6,preloadedFeatures:t,useRender:g6(i),createVisualElement:e,Component:r};return K$(o)}}function xu(t,e,n){const r=t.getProps();return sw(r,e,n!==void 0?n:r.custom,t)}const CO=new Set(["width","height","top","left","right","bottom",...Ta]);function T6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bu(n))}function x6(t,e){const n=xu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=v6(s[o]);T6(t,o,a)}}function P6(t){return!!(Ut(t)&&t.add)}function sv(t,e){const n=t.getValue("willChange");if(P6(n))return n.add(e)}function kO(t){return t.props[fO]}const IO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C6=1e-7,k6=12;function I6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=IO(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>C6&&++a<k6);return o}function Zu(t,e,n,r){if(t===e&&n===r)return vn;const i=s=>I6(s,0,1,t,n);return s=>s===0||s===1?s:IO(i(s),e,r)}const AO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RO=t=>e=>1-t(1-e),OO=Zu(.33,1.53,.69,.99),aw=RO(OO),MO=AO(aw),DO=t=>(t*=2)<1?.5*aw(t):.5*(2-Math.pow(2,-10*(t-1))),lw=t=>1-Math.sin(Math.acos(t)),LO=RO(lw),NO=AO(lw),VO=t=>/^0[^.\s]+$/u.test(t);function A6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VO(t):!0}const Nl=t=>Math.round(t*1e5)/1e5,uw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R6(t){return t==null}const O6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cw=(t,e)=>n=>!!(typeof n=="string"&&O6.test(n)&&n.startsWith(t)||e&&!R6(n)&&Object.prototype.hasOwnProperty.call(n,e)),jO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(uw);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},M6=t=>Hr(0,255,t),Qm={...xa,transform:t=>Math.round(M6(t))},Ss={test:cw("rgb","red"),parse:jO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Qm.transform(t)+", "+Qm.transform(e)+", "+Qm.transform(n)+", "+Nl(Tu.transform(r))+")"};function D6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ov={test:cw("#"),parse:D6,transform:Ss.transform},Eo={test:cw("hsl","hue"),parse:jO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cr.transform(Nl(e))+", "+cr.transform(Nl(n))+", "+Nl(Tu.transform(r))+")"},Nt={test:t=>Ss.test(t)||ov.test(t)||Eo.test(t),parse:t=>Ss.test(t)?Ss.parse(t):Eo.test(t)?Eo.parse(t):ov.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ss.transform(t):Eo.transform(t)},L6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uw))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L6))===null||n===void 0?void 0:n.length)||0)>0}const FO="number",UO="color",V6="var",j6="var(",KT="${}",F6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(F6,l=>(Nt.test(l)?(r.color.push(s),i.push(UO),n.push(Nt.parse(l))):l.startsWith(j6)?(r.var.push(s),i.push(V6),n.push(l)):(r.number.push(s),i.push(FO),n.push(parseFloat(l))),++s,KT)).split(KT);return{values:n,split:a,indexes:r,types:i}}function zO(t){return Pu(t).values}function BO(t){const{split:e,types:n}=Pu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===FO?s+=Nl(i[o]):a===UO?s+=Nt.transform(i[o]):s+=i[o]}return s}}const U6=t=>typeof t=="number"?0:t;function z6(t){const e=zO(t);return BO(t)(e.map(U6))}const Bi={test:N6,parse:zO,createTransformer:BO,getAnimatableNone:z6},B6=new Set(["brightness","contrast","saturate","opacity"]);function $6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uw)||[];if(!r)return t;const i=n.replace(r,"");let s=B6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const H6=/\b([a-z-]*)\(.*?\)/gu,av={...Bi,getAnimatableNone:t=>{const e=t.match(H6);return e?e.map($6).join(" "):t}},W6={...Z0,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:av,WebkitFilter:av},$O=t=>W6[t];function HO(t,e){let n=$O(t);return n!==av&&(n=Bi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q6=new Set(["auto","none","0"]);function K6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!q6.has(s)&&Pu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=HO(n,i)}const Es=t=>t*180/Math.PI,lv=t=>{const e=Es(Math.atan2(t[1],t[0]));return uv(e)},G6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lv,rotateZ:lv,skewX:t=>Es(Math.atan(t[1])),skewY:t=>Es(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uv=t=>(t=t%360,t<0&&(t+=360),t),GT=lv,YT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),QT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Y6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YT,scaleY:QT,scale:t=>(YT(t)+QT(t))/2,rotateX:t=>uv(Es(Math.atan2(t[6],t[5]))),rotateY:t=>uv(Es(Math.atan2(-t[2],t[0]))),rotateZ:GT,rotate:GT,skewX:t=>Es(Math.atan(t[4])),skewY:t=>Es(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function XT(t){return t.includes("scale")?1:0}function cv(t,e){if(!t||t==="none")return XT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Y6,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G6,i=a}if(!i)return XT(e);const s=r[e],o=i[1].split(",").map(X6);return typeof s=="function"?s(o):o[s]}const Q6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return cv(n,e)};function X6(t){return parseFloat(t.trim())}const JT=t=>t===xa||t===ne,J6=new Set(["x","y","z"]),Z6=Ta.filter(t=>!J6.has(t));function e9(t){const e=[];return Z6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cv(e,"x"),y:(t,{transform:e})=>cv(e,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const ks=new Set;let hv=!1,dv=!1;function WO(){if(dv){const t=Array.from(ks).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=e9(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dv=!1,hv=!1,ks.forEach(t=>t.complete()),ks.clear()}function qO(){ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dv=!0)})}function t9(){qO(),WO()}class hw{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ks.add(this),hv||(hv=!0,Ie.read(qO),Ie.resolveKeyframes(WO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ks.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ks.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),n9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r9(t){const e=n9.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function GO(t,e,n=1){const[r,i]=r9(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return KO(o)?parseFloat(o):o}return J0(i)?GO(i,e,n+1):i}const YO=t=>e=>e.test(t),i9={test:t=>t==="auto",parse:t=>t},QO=[xa,ne,cr,ni,t6,e6,i9],ZT=t=>QO.find(YO(t));class XO extends hw{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),J0(u))){const c=GO(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!CO.has(r)||e.length!==2)return;const[i,s]=e,o=ZT(i),a=ZT(s);if(o!==a)if(JT(o)&&JT(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)A6(e[i])&&r.push(i);r.length&&K6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=sa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const ex=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bi.test(t)||t==="0")&&!t.startsWith("url("));function s9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o9(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ex(i,e),a=ex(s,e);return!o||!a?!1:s9(t)||(n==="spring"||H0(n))&&r}const a9=t=>t!==null;function Ep(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(a9),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const l9=40;class JO{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ur.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>l9?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&t9(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ur.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!o9(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Ep(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Be=(t,e,n)=>t+(e-t)*n;function Xm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Xm(l,a,t+1/3),s=Xm(l,a,t),o=Xm(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Zd(t,e){return n=>n>0?e:t}const Jm=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},c9=[ov,Ss,Eo],h9=t=>c9.find(e=>e.test(t));function tx(t){const e=h9(t);if(!e)return!1;let n=e.parse(t);return e===Eo&&(n=u9(n)),n}const nx=(t,e)=>{const n=tx(t),r=tx(e);if(!n||!r)return Zd(t,e);const i={...n};return s=>(i.red=Jm(n.red,r.red,s),i.green=Jm(n.green,r.green,s),i.blue=Jm(n.blue,r.blue,s),i.alpha=Be(n.alpha,r.alpha,s),Ss.transform(i))},d9=(t,e)=>n=>e(t(n)),ec=(...t)=>t.reduce(d9),fv=new Set(["none","hidden"]);function f9(t,e){return fv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p9(t,e){return n=>Be(t,e,n)}function dw(t){return typeof t=="number"?p9:typeof t=="string"?J0(t)?Zd:Nt.test(t)?nx:y9:Array.isArray(t)?ZO:typeof t=="object"?Nt.test(t)?nx:m9:Zd}function ZO(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>dw(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function m9(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=dw(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function g9(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const y9=(t,e)=>{const n=Bi.createTransformer(e),r=Pu(t),i=Pu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?fv.has(t)&&!i.values.length||fv.has(e)&&!r.values.length?f9(t,e):ec(ZO(g9(r,i),i.values),n):Zd(t,e)};function eM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Be(t,e,n):dw(t)(t,e)}const v9=5;function tM(t,e,n){const r=Math.max(e-v9,0);return tO(n-t(r),e-r)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rx=.001;function _9({duration:t=Ke.duration,bounce:e=Ke.bounce,velocity:n=Ke.velocity,mass:r=Ke.mass}){let i,s,o=1-e;o=Hr(Ke.minDamping,Ke.maxDamping,o),t=Hr(Ke.minDuration,Ke.maxDuration,Lr(t)),o<1?(i=u=>{const c=u*o,d=c*t,f=c-n,m=pv(u,o),y=Math.exp(-d);return rx-f/m*y},s=u=>{const d=u*o*t,f=d*n+n,m=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),g=pv(Math.pow(u,2),o);return(-i(u)+rx>0?-1:1)*((f-m)*y)/g}):(i=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-.001+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=b9(i,s,a);if(t=Dr(t),isNaN(l))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const w9=12;function b9(t,e,n){let r=n;for(let i=1;i<w9;i++)r=r-t(r)/e(r);return r}function pv(t,e){return t*Math.sqrt(1-e*e)}const S9=["duration","bounce"],E9=["stiffness","damping","mass"];function ix(t,e){return e.some(n=>t[n]!==void 0)}function T9(t){let e={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...t};if(!ix(t,E9)&&ix(t,S9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Hr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ke.mass,stiffness:i,damping:s}}else{const n=_9(t);e={...e,...n,mass:Ke.mass},e.isResolvedFromDuration=!0}return e}function nM(t=Ke.visualDuration,e=Ke.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=T9({...n,velocity:-Lr(n.velocity||0)}),y=f||0,g=u/(2*Math.sqrt(l*c)),b=o-s,v=Lr(Math.sqrt(l/c)),_=Math.abs(b)<5;r||(r=_?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=_?Ke.restDelta.granular:Ke.restDelta.default);let S;if(g<1){const I=pv(v,g);S=M=>{const C=Math.exp(-g*v*M);return o-C*((y+g*v*b)/I*Math.sin(I*M)+b*Math.cos(I*M))}}else if(g===1)S=I=>o-Math.exp(-v*I)*(b+(y+v*b)*I);else{const I=v*Math.sqrt(g*g-1);S=M=>{const C=Math.exp(-g*v*M),E=Math.min(I*M,300);return o-C*((y+g*v*b)*Math.sinh(E)+I*b*Math.cosh(E))/I}}const A={calculatedDuration:m&&d||null,next:I=>{const M=S(I);if(m)a.done=I>=d;else{let C=0;g<1&&(C=I===0?Dr(y):tM(S,I,M));const E=Math.abs(C)<=r,T=Math.abs(o-M)<=i;a.done=E&&T}return a.value=a.done?o:M,a},toString:()=>{const I=Math.min(nO(A),nv),M=rO(C=>A.next(I*C).value,I,30);return I+"ms "+M}};return A}function sx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,y=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=n*e;const b=d+g,v=o===void 0?b:o(b);v!==b&&(g=v-d);const _=E=>-g*Math.exp(-E/r),S=E=>v+_(E),A=E=>{const T=_(E),P=S(E);f.done=Math.abs(T)<=u,f.value=f.done?v:P};let I,M;const C=E=>{m(f.value)&&(I=E,M=nM({keyframes:[f.value,y(f.value)],velocity:tM(S,E,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return C(0),{calculatedDuration:null,next:E=>{let T=!1;return!M&&I===void 0&&(T=!0,A(E),C(E)),I!==void 0&&E>=I?M.next(E-I):(!T&&A(E),f)}}}const x9=Zu(.42,0,1,1),P9=Zu(0,0,.58,1),rM=Zu(.42,0,.58,1),C9=t=>Array.isArray(t)&&typeof t[0]!="number",k9={linear:vn,easeIn:x9,easeInOut:rM,easeOut:P9,circIn:lw,circInOut:NO,circOut:LO,backIn:aw,backInOut:MO,backOut:OO,anticipate:DO},ox=t=>{if(W0(t)){eO(t.length===4);const[e,n,r,i]=t;return Zu(e,n,r,i)}else if(typeof t=="string")return k9[t];return t};function I9(t,e,n){const r=[],i=n||eM,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||vn:e;a=ec(l,a)}r.push(a)}return r}function A9(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(eO(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=I9(e,r,i),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=ra(t[d],t[d+1],c);return a[d](f)};return n?c=>u(Hr(t[0],t[s-1],c)):u}function R9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ra(0,e,r);t.push(Be(n,1,i))}}function O9(t){const e=[0];return R9(e,t.length-1),e}function M9(t,e){return t.map(n=>n*e)}function D9(t,e){return t.map(()=>e||rM).splice(0,t.length-1)}function ef({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=C9(r)?r.map(ox):ox(r),s={done:!1,value:e[0]},o=M9(n&&n.length===e.length?n:O9(e),t),a=A9(o,e,{ease:Array.isArray(i)?i:D9(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const L9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>zi(e),now:()=>St.isProcessing?St.timestamp:ur.now()}},N9={decay:sx,inertia:sx,tween:ef,keyframes:ef,spring:nM},V9=t=>t/100;class fw extends JO{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||hw,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=H0(n)?n:N9[n]||ef;let l,u;a!==ef&&typeof e[0]!="number"&&(l=ec(V9,eM(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=nO(c));const{calculatedDuration:d}=c,f=d+i,m=f*(r+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:m,repeatType:y,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),_=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let S=this.currentTime,A=s;if(m){const E=Math.min(this.currentTime,c)/d;let T=Math.floor(E),P=E%1;!P&&E>=1&&(P=1),P===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(y==="reverse"?(P=1-P,g&&(P-=g/d)):y==="mirror"&&(A=o)),S=Hr(0,1,P)*d}const I=_?{done:!1,value:l[0]}:A.next(S);a&&(I.value=a(I.value));let{done:M}=I;!_&&u!==null&&(M=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(I.value=Ep(l,this.options,i)),b&&b(I.value),C&&this.finish(),I}get duration(){const{resolved:e}=this;return e?Lr(e.calculatedDuration):0}get time(){return Lr(this.currentTime)}set time(e){e=Dr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Lr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=L9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const j9=new Set(["opacity","clipPath","filter","transform"]);function F9(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=sO(a,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const U9=z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tf=10,z9=2e4;function B9(t){return H0(t.type)||t.type==="spring"||!iO(t.ease)}function $9(t,e){const n=new fw({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<z9;)r=n.sample(s),i.push(r.value),s+=tf;return{times:void 0,keyframes:i,duration:s-tf,ease:"linear"}}const iM={anticipate:DO,backInOut:MO,circInOut:NO};function H9(t){return t in iM}class ax extends JO{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new XO(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Xd()&&H9(s)&&(s=iM[s]),B9(this.options)){const{onComplete:d,onUpdate:f,motionValue:m,element:y,...g}=this.options,b=$9(e,g);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,s=b.ease,o="keyframes"}const c=F9(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(MT(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:d}=this.options;a.set(Ep(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Lr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Lr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Dr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return vn;const{animation:r}=n;MT(r,e)}return vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:d,element:f,...m}=this.options,y=new fw({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=Dr(this.time);u.setWithVelocity(y.sample(g-tf).value,y.sample(g).value,tf)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return U9()&&r&&j9.has(r)&&!l&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const W9={type:"spring",stiffness:500,damping:25,restSpeed:10},q9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K9={type:"keyframes",duration:.8},G9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y9=(t,{keyframes:e})=>e.length>2?K9:Ys.has(t)?t.startsWith("scale")?q9(e[1]):W9:G9;function Q9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const pw=(t,e,n,r={},i,s)=>o=>{const a=$0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Dr(l);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};Q9(a)||(c={...c,...Y9(t,c)}),c.duration&&(c.duration=Dr(c.duration)),c.repeatDelay&&(c.repeatDelay=Dr(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(d=!0)),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=Ep(c.keyframes,a);if(f!==void 0)return Ie.update(()=>{c.onUpdate(f),c.onComplete()}),new _$([])}return!s&&ax.supports(c)?new ax(c):new fw(c)};function X9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sM(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const f=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),m=l[d];if(m===void 0||c&&X9(c,d))continue;const y={delay:n,...$0(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const v=kO(t);if(v){const _=window.MotionHandoffAnimation(v,d,Ie);_!==null&&(y.startTime=_,g=!0)}}sv(t,d),f.start(pw(d,f,m,t.shouldReduceMotion&&CO.has(d)?{type:!1}:y,t,g));const b=f.animation;b&&u.push(b)}return a&&Promise.all(u).then(()=>{Ie.update(()=>{a&&x6(t,a)})}),u}function mv(t,e,n={}){var r;const i=xu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(sM(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return J9(t,e,c+u,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>c())}else return Promise.all([o(),a(n.delay)])}function J9(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Z9).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(mv(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Z9(t,e){return t.sortNodePosition(e)}function eH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>mv(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=mv(t,e,n);else{const i=typeof e=="function"?xu(t,e,n.custom):e;r=Promise.all(sM(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function oM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tH=Y0.length;function aM(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aM(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tH;n++){const r=Y0[n],i=t.props[r];(Su(i)||i===!1)&&(e[r]=i)}return e}const nH=[...G0].reverse(),rH=G0.length;function iH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eH(t,n,r)))}function sH(t){let e=iH(t),n=lx(),r=!0;const i=l=>(u,c)=>{var d;const f=xu(t,c,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:y,...g}=f;u={...u,...g,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=aM(t.parent)||{},d=[],f=new Set;let m={},y=1/0;for(let b=0;b<rH;b++){const v=nH[b],_=n[v],S=u[v]!==void 0?u[v]:c[v],A=Su(S),I=v===l?_.isActive:null;I===!1&&(y=b);let M=S===c[v]&&S!==u[v]&&A;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),_.protectedKeys={...m},!_.isActive&&I===null||!S&&!_.prevProp||bp(S)||typeof S=="boolean")continue;const C=oH(_.prevProp,S);let E=C||v===l&&_.isActive&&!M&&A||b>y&&A,T=!1;const P=Array.isArray(S)?S:[S];let O=P.reduce(i(v),{});I===!1&&(O={});const{prevResolvedValues:D={}}=_,R={...D,...O},$=G=>{E=!0,f.has(G)&&(T=!0,f.delete(G)),_.needsAnimating[G]=!0;const F=t.getValue(G);F&&(F.liveStyle=!1)};for(const G in R){const F=O[G],W=D[G];if(m.hasOwnProperty(G))continue;let Y=!1;iv(F)&&iv(W)?Y=!oM(F,W):Y=F!==W,Y?F!=null?$(G):f.add(G):F!==void 0&&f.has(G)?$(G):_.protectedKeys[G]=!0}_.prevProp=S,_.prevResolvedValues=O,_.isActive&&(m={...m,...O}),r&&t.blockInitialAnimation&&(E=!1),E&&(!(M&&C)||T)&&d.push(...P.map(G=>({animation:G,options:{type:v}})))}if(f.size){const b={};if(typeof u.initial!="boolean"){const v=xu(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(b.transition=v.transition)}f.forEach(v=>{const _=t.getBaseTarget(v),S=t.getValue(v);S&&(S.liveStyle=!0),b[v]=_??null}),d.push({animation:b})}let g=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(l,u){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=lx(),r=!0}}}function oH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oM(e,t):!1}function os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lx(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class es{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aH extends es{constructor(e){super(e),e.animationState||(e.animationState=sH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lH=0;class uH extends es{constructor(){super(...arguments),this.id=lH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cH={animation:{Feature:aH},exit:{Feature:uH}};function Cu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tc(t){return{point:{x:t.pageX,y:t.pageY}}}const hH=t=>e=>K0(e)&&t(e,tc(e));function Vl(t,e,n,r){return Cu(t,e,hH(n),r)}function lM({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const uM=1e-4,pH=1-uM,mH=1+uM,cM=.01,gH=0-cM,yH=0+cM;function Gt(t){return t.max-t.min}function vH(t,e,n){return Math.abs(t-e)<=n}function ux(t,e,n,r=.5){t.origin=r,t.originPoint=Be(e.min,e.max,t.origin),t.scale=Gt(n)/Gt(e),t.translate=Be(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pH&&t.scale<=mH||isNaN(t.scale))&&(t.scale=1),(t.translate>=gH&&t.translate<=yH||isNaN(t.translate))&&(t.translate=0)}function jl(t,e,n,r){ux(t.x,e.x,n.x,r?r.originX:void 0),ux(t.y,e.y,n.y,r?r.originY:void 0)}function cx(t,e,n){t.min=n.min+e.min,t.max=t.min+Gt(e)}function _H(t,e,n){cx(t.x,e.x,n.x),cx(t.y,e.y,n.y)}function hx(t,e,n){t.min=e.min-n.min,t.max=t.min+Gt(e)}function Fl(t,e,n){hx(t.x,e.x,n.x),hx(t.y,e.y,n.y)}const dx=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:dx(),y:dx()}),fx=()=>({min:0,max:0}),Ze=()=>({x:fx(),y:fx()});function xn(t){return[t("x"),t("y")]}function Zm(t){return t===void 0||t===1}function gv({scale:t,scaleX:e,scaleY:n}){return!Zm(t)||!Zm(e)||!Zm(n)}function ms(t){return gv(t)||hM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hM(t){return px(t.x)||px(t.y)}function px(t){return t&&t!=="0%"}function nf(t,e,n){const r=t-n,i=e*r;return n+i}function mx(t,e,n,r,i){return i!==void 0&&(t=nf(t,i,r)),nf(t,n,r)+e}function yv(t,e=0,n=1,r,i){t.min=mx(t.min,e,n,r,i),t.max=mx(t.max,e,n,r,i)}function dM(t,{x:e,y:n}){yv(t.x,e.translate,e.scale,e.originPoint),yv(t.y,n.translate,n.scale,n.originPoint)}const gx=.999999999999,yx=1.0000000000001;function wH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Po(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,dM(t,o)),r&&ms(s.latestValues)&&Po(t,s.latestValues))}e.x<yx&&e.x>gx&&(e.x=1),e.y<yx&&e.y>gx&&(e.y=1)}function xo(t,e){t.min=t.min+e,t.max=t.max+e}function vx(t,e,n,r,i=.5){const s=Be(t.min,t.max,i);yv(t,e,n,s,r)}function Po(t,e){vx(t.x,e.x,e.scaleX,e.scale,e.originX),vx(t.y,e.y,e.scaleY,e.scale,e.originY)}function fM(t,e){return lM(fH(t.getBoundingClientRect(),e))}function bH(t,e,n){const r=fM(t,n),{scroll:i}=e;return i&&(xo(r.x,i.offset.x),xo(r.y,i.offset.y)),r}const pM=({current:t})=>t?t.ownerDocument.defaultView:null,_x=(t,e)=>Math.abs(t-e);function SH(t,e){const n=_x(t.x,e.x),r=_x(t.y,e.y);return Math.sqrt(n**2+r**2)}class mM{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=tg(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=SH(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:y}=d,{timestamp:g}=St;this.history.push({...y,timestamp:g});const{onStart:b,onMove:v}=this.handlers;f||(b&&b(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=eg(f,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=tg(d.type==="pointercancel"?this.lastMoveEventInfo:eg(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,b),y&&y(d,b)},!K0(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=tc(e),a=eg(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=St;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=n;c&&c(e,tg(a,this.history)),this.removeListeners=ec(Vl(this.contextWindow,"pointermove",this.handlePointerMove),Vl(this.contextWindow,"pointerup",this.handlePointerUp),Vl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function eg(t,e){return e?{point:e(t.point)}:t}function wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function tg({point:t},e){return{point:t,delta:wx(t,gM(e)),offset:wx(t,EH(e)),velocity:TH(e,.1)}}function EH(t){return t[0]}function gM(t){return t[t.length-1]}function TH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=gM(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Dr(e)));)n--;if(!r)return{x:0,y:0};const s=Lr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Be(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Be(n,t,r.max):Math.min(t,n)),t}function bx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PH(t,{top:e,left:n,bottom:r,right:i}){return{x:bx(t.x,n,i),y:bx(t.y,e,r)}}function Sx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CH(t,e){return{x:Sx(t.x,e.x),y:Sx(t.y,e.y)}}function kH(t,e){let n=.5;const r=Gt(t),i=Gt(e);return i>r?n=ra(e.min,e.max-r,t.min):r>i&&(n=ra(t.min,t.max-i,e.min)),Hr(0,1,n)}function IH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vv=.35;function AH(t=vv){return t===!1?t=0:t===!0&&(t=vv),{x:Ex(t,"left","right"),y:Ex(t,"top","bottom")}}function Ex(t,e,n){return{min:Tx(t,e),max:Tx(t,n)}}function Tx(t,e){return typeof t=="number"?t:t[e]||0}const RH=new WeakMap;class OH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tc(c).point)},s=(c,d)=>{const{drag:f,dragPropagation:m,onDragStart:y}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=x$(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xn(b=>{let v=this.getAxisMotionValue(b).get()||0;if(cr.test(v)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[b];S&&(v=Gt(S)*(parseFloat(v)/100))}}this.originPoint[b]=v}),y&&Ie.postRender(()=>y(c,d)),sv(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(c,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:b}=d;if(m&&this.currentDirection===null){this.currentDirection=MH(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",d.point,b),this.updateAxis("y",d.point,b),this.visualElement.render(),g&&g(c,d)},a=(c,d)=>this.stop(c,d),l=()=>xn(c=>{var d;return this.getAnimationState(c)==="paused"&&((d=this.getAxisMotionValue(c).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mM(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:pM(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ie.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ih(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&So(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=PH(i.layoutBox,n):this.constraints=!1,this.elastic=AH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!So(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bH(r,i.root,this.visualElement.getTransformPagePoint());let o=CH(i.layout.layoutBox,s);if(n){const a=n(dH(o));this.hasMutatedConstraints=!!a,a&&(o=lM(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=xn(c=>{if(!ih(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sv(this.visualElement,e),r.start(pw(e,r,0,n,this.visualElement,!1))}stopAnimation(){xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xn(n=>{const{drag:r}=this.getProps();if(!ih(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Be(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!So(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=kH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xn(o=>{if(!ih(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Be(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;RH.set(this.visualElement,this);const e=this.visualElement.current,n=Vl(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();So(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ie.read(r);const o=Cu(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(xn(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=vv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ih(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function MH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class DH extends es{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new OH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xx=t=>(e,n)=>{t&&Ie.postRender(()=>t(e,n))};class LH extends es{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new mM(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pM(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xx(e),onStart:xx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ie.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Vl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Px(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=Px(t,e.target.x),r=Px(t,e.target.y);return`${n}% ${r}%`}},NH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Bi.parse(t);if(i.length>5)return r;const s=Bi.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Be(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class VH extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Z$(jH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ie.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yM(t){const[e,n]=ZR(),r=L.useContext(L0);return x.jsx(VH,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(pO),isPresent:e,safeToRemove:n})}const jH={borderRadius:{...Xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xa,borderTopRightRadius:Xa,borderBottomLeftRadius:Xa,borderBottomRightRadius:Xa,boxShadow:NH};function FH(t,e,n){const r=Ut(t)?t:bu(t);return r.start(pw("",r,e,n)),r.animation}function UH(t){return t instanceof SVGElement&&t.tagName!=="svg"}const zH=(t,e)=>t.depth-e.depth;class BH{constructor(){this.children=[],this.isDirty=!1}add(e){F0(this.children,e),this.isDirty=!0}remove(e){U0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zH),this.isDirty=!1,this.children.forEach(e)}}function $H(t,e){const n=ur.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zi(r),t(s-e))};return Ie.read(r,!0),()=>zi(r)}const vM=["TopLeft","TopRight","BottomLeft","BottomRight"],HH=vM.length,Cx=t=>typeof t=="string"?parseFloat(t):t,kx=t=>typeof t=="number"||ne.test(t);function WH(t,e,n,r,i,s){i?(t.opacity=Be(0,n.opacity!==void 0?n.opacity:1,qH(r)),t.opacityExit=Be(e.opacity!==void 0?e.opacity:1,0,KH(r))):s&&(t.opacity=Be(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HH;o++){const a=`border${vM[o]}Radius`;let l=Ix(e,a),u=Ix(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||kx(l)===kx(u)?(t[a]=Math.max(Be(Cx(l),Cx(u),r),0),(cr.test(u)||cr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Be(e.rotate||0,n.rotate||0,r))}function Ix(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qH=_M(0,.5,LO),KH=_M(.5,.95,vn);function _M(t,e,n){return r=>r<t?0:r>e?1:n(ra(t,e,r))}function Ax(t,e){t.min=e.min,t.max=e.max}function En(t,e){Ax(t.x,e.x),Ax(t.y,e.y)}function Rx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ox(t,e,n,r,i){return t-=e,t=nf(t,1/n,r),i!==void 0&&(t=nf(t,1/i,r)),t}function GH(t,e=0,n=1,r=.5,i,s=t,o=t){if(cr.test(e)&&(e=parseFloat(e),e=Be(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Be(s.min,s.max,r);t===s&&(a-=e),t.min=Ox(t.min,e,n,a,i),t.max=Ox(t.max,e,n,a,i)}function Mx(t,e,[n,r,i],s,o){GH(t,e[n],e[r],e[i],e.scale,s,o)}const YH=["x","scaleX","originX"],QH=["y","scaleY","originY"];function Dx(t,e,n,r){Mx(t.x,e,YH,n?n.x:void 0,r?r.x:void 0),Mx(t.y,e,QH,n?n.y:void 0,r?r.y:void 0)}function Lx(t){return t.translate===0&&t.scale===1}function wM(t){return Lx(t.x)&&Lx(t.y)}function Nx(t,e){return t.min===e.min&&t.max===e.max}function XH(t,e){return Nx(t.x,e.x)&&Nx(t.y,e.y)}function Vx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bM(t,e){return Vx(t.x,e.x)&&Vx(t.y,e.y)}function jx(t){return Gt(t.x)/Gt(t.y)}function Fx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JH{constructor(){this.members=[]}add(e){F0(this.members,e),e.scheduleRender()}remove(e){if(U0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZH(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:y}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const ng=["","X","Y","Z"],eW={visibility:"hidden"},Ux=1e3;let tW=0;function rg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=kO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SM(r)}function EM({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=tW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iW),this.nodes.forEach(uW),this.nodes.forEach(cW),this.nodes.forEach(sW)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BH)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new B0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UH(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=$H(f,250),Jh.hasAnimatedSinceResize&&(Jh.hasAnimatedSinceResize=!1,this.nodes.forEach(Bx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||mW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=c.getProps(),_=!this.targetLayout||!bM(this.targetLayout,y),S=!f&&m;if(this.options.layoutRoot||this.resumeFrom||S||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,S);const A={...$0(g,"layout"),onPlay:b,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||Bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zx);return}this.isUpdating||this.nodes.forEach(aW),this.isUpdating=!1,this.nodes.forEach(lW),this.nodes.forEach(nW),this.nodes.forEach(rW),this.clearAllSnapshots();const a=ur.now();St.delta=Hr(0,1e3/60,a-St.timestamp),St.timestamp=a,St.isProcessing=!0,Gm.update.process(St),Gm.preRender.process(St),Gm.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oW),this.sharedNodes.forEach(dW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Gt(this.snapshot.measuredBox.x)&&!Gt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!wM(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||ms(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),gW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ze();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(yW))){const{scroll:c}=this.root;c&&(xo(l.x,c.offset.x),xo(l.y,c.offset.y))}return l}removeElementScroll(o){var a;const l=Ze();if(En(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&En(l,o),xo(l.x,d.offset.x),xo(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Ze();En(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Po(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ms(c.latestValues)&&Po(l,c.latestValues)}return ms(this.latestValues)&&Po(l,this.latestValues),l}removeTransform(o){const a=Ze();En(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ms(u.latestValues))continue;gv(u.latestValues)&&u.updateSnapshot();const c=Ze(),d=u.measurePageBox();En(c,d),Dx(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ms(this.latestValues)&&Dx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Fl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_H(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),dM(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),Fl(this.relativeTargetOrigin,this.target,m.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gv(this.parent.latestValues)||hM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===St.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;En(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;wH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ze());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Rx(this.prevProjectionDelta.x,this.projectionDelta.x),Rx(this.prevProjectionDelta.y,this.projectionDelta.y)),jl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Fx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ze(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,b=this.getStack(),v=!b||b.members.length<=1,_=!!(g&&!v&&this.options.crossfade===!0&&!this.path.some(pW));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const I=A/1e3;$x(d.x,o.x,I),$x(d.y,o.y,I),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fW(this.relativeTarget,this.relativeTargetOrigin,f,I),S&&XH(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ze()),En(S,this.relativeTarget)),g&&(this.animationValues=c,WH(c,u,this.latestValues,I,_,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Jh.hasAnimatedSinceResize=!0,this.currentAnimation=FH(0,Ux,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ux),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&TM(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ze();const d=Gt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Gt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}En(a,l),Po(a,c),jl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&rg("z",o,u,this.animationValues);for(let c=0;c<ng.length;c++)rg(`rotate${ng[c]}`,o,u,this.animationValues),rg(`skew${ng[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eW;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xh(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Xh(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ms(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=ZH(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,d.animationValues?u.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Eu){if(f[g]===void 0)continue;const{correct:b,applyTo:v,isCSSVariable:_}=Eu[g],S=u.transform==="none"?f[g]:b(f[g],d);if(v){const A=v.length;for(let I=0;I<A;I++)u[v[I]]=S}else _?this.options.visualElement.renderState.vars[g]=S:u[g]=S}return this.options.layoutId&&(u.pointerEvents=d===this?Xh(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(zx),this.root.sharedNodes.clear()}}}function nW(t){t.updateLayout()}function rW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?xn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Gt(f);f.min=r[d].min,f.max=f.min+m}):TM(s,n.layoutBox,r)&&xn(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],m=Gt(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=To();jl(a,r,n.layoutBox);const l=To();o?jl(l,t.applyTransform(i,!0),n.measuredBox):jl(l,r,n.layoutBox);const u=!wM(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const y=Ze();Fl(y,n.layoutBox,f.layoutBox);const g=Ze();Fl(g,r,m.layoutBox),bM(y,g)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oW(t){t.clearSnapshot()}function zx(t){t.clearMeasurements()}function aW(t){t.isLayoutDirty=!1}function lW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Bx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uW(t){t.resolveTargetDelta()}function cW(t){t.calcProjection()}function hW(t){t.resetSkewAndRotation()}function dW(t){t.removeLeadSnapshot()}function $x(t,e,n){t.translate=Be(e.translate,0,n),t.scale=Be(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Hx(t,e,n,r){t.min=Be(e.min,n.min,r),t.max=Be(e.max,n.max,r)}function fW(t,e,n,r){Hx(t.x,e.x,n.x,r),Hx(t.y,e.y,n.y,r)}function pW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mW={duration:.45,ease:[.4,0,.1,1]},Wx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qx=Wx("applewebkit/")&&!Wx("chrome/")?Math.round:vn;function Kx(t){t.min=qx(t.min),t.max=qx(t.max)}function gW(t){Kx(t.x),Kx(t.y)}function TM(t,e,n){return t==="position"||t==="preserve-aspect"&&!vH(jx(e),jx(n),.2)}function yW(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const vW=EM({attachResizeListener:(t,e)=>Cu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ig={current:void 0},xM=EM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ig.current){const t=new vW({});t.mount(window),t.setOptions({layoutScroll:!0}),ig.current=t}return ig.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_W={pan:{Feature:LH},drag:{Feature:DH,ProjectionNode:xM,MeasureLayout:yM}};function Gx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ie.postRender(()=>s(e,tc(e)))}class wW extends es{mount(){const{current:e}=this.node;e&&(this.unmount=C$(e,(n,r)=>(Gx(this.node,r,"Start"),i=>Gx(this.node,i,"End"))))}unmount(){}}class bW extends es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Cu(this.node.current,"focus",()=>this.onFocus()),Cu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Yx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ie.postRender(()=>s(e,tc(e)))}class SW extends es{mount(){const{current:e}=this.node;e&&(this.unmount=R$(e,(n,r)=>(Yx(this.node,r,"Start"),(i,{success:s})=>Yx(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _v=new WeakMap,sg=new WeakMap,EW=t=>{const e=_v.get(t.target);e&&e(t)},TW=t=>{t.forEach(EW)};function xW({root:t,...e}){const n=t||document;sg.has(n)||sg.set(n,{});const r=sg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(TW,{root:t,...e})),r[i]}function PW(t,e,n){const r=xW(e);return _v.set(t,n),r.observe(t),()=>{_v.delete(t),r.unobserve(t)}}const CW={some:0,all:1};class kW extends es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:CW[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return PW(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(IW(e,n))&&this.startObserver()}unmount(){}}function IW({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const AW={inView:{Feature:kW},tap:{Feature:SW},focus:{Feature:bW},hover:{Feature:wW}},RW={layout:{ProjectionNode:xM,MeasureLayout:yM}},wv={current:null},PM={current:!1};function OW(){if(PM.current=!0,!!V0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wv.current=t.matches;t.addListener(e),e()}else wv.current=!1}const MW=[...QO,Nt,Bi],DW=t=>MW.find(YO(t)),LW=new WeakMap;function NW(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ut(i))t.addValue(r,i);else if(Ut(s))t.addValue(r,bu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,bu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Qx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VW{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ur.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ie.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=o;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Sp(n),this.isVariantNode=dO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const y=f[m];l[m]!==void 0&&Ut(y)&&y.set(l[m],!1)}}mount(e){this.current=e,LW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),PM.current||OW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ys.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ia){const n=ia[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Qx.length;r++){const i=Qx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=NW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KO(i)||VO(i))?i=parseFloat(i):!DW(i)&&Bi.test(n)&&(i=HO(e,n)),this.setBaseTarget(e,Ut(i)?i.get():i)),Ut(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=sw(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ut(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new B0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class CM extends VW{constructor(){super(...arguments),this.KeyframeResolver=XO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jW(t){return window.getComputedStyle(t)}class FW extends CM{constructor(){super(...arguments),this.type="html",this.renderInstance=EO}readValueFromInstance(e,n){if(Ys.has(n))return Q6(e,n);{const r=jW(e),i=(X0(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fM(e,n)}build(e,n,r){ew(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ow(e,n,r)}}class UW extends CM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&SO(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ys.has(n)){const r=$O(n);return r&&r.default||0}return n=TO.has(n)?n:Q0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PO(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ie.postRender(this.updateDimensions)}build(e,n,r){rw(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){xO(e,n,r,i)}mount(e){this.isSVGTag=iw(e.tagName),super.mount(e)}}const zW=(t,e)=>nw(t)?new UW(e):new FW(e,{allowProjection:t!==L.Fragment}),BW=E6({...cH,...AW,..._W,...RW},zW),Ja=F$(BW);var kM={exports:{}},$W="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HW=$W,WW=HW;function IM(){}function AM(){}AM.resetWarningCache=IM;var qW=function(){function t(r,i,s,o,a,l){if(l!==WW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:AM,resetWarningCache:IM};return n.PropTypes=n,n};kM.exports=qW();var nc=kM.exports;const Le=$v(nc);var RM={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.parseLengthAndUnit=OM;Tp.cssValue=GW;var KW={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function OM(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return KW[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function GW(t){var e=OM(t);return"".concat(e.value).concat(e.unit)}var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.createAnimation=void 0;var YW=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r};xp.createAnimation=YW;var rf=yt&&yt.__assign||function(){return rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rf.apply(this,arguments)},QW=yt&&yt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),XW=yt&&yt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JW=yt&&yt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&QW(e,t,n);return XW(e,t),e},ZW=yt&&yt.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(RM,"__esModule",{value:!0});var e8=JW(L),Xx=Tp,t8=xp,n8=(0,t8.createAnimation)("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function r8(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?35:u,d=ZW(t,["loading","color","speedMultiplier","cssOverride","size"]),f=rf({background:"transparent !important",width:(0,Xx.cssValue)(c),height:(0,Xx.cssValue)(c),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(n8," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?e8.createElement("span",rf({style:f},d)):null}var i8=RM.default=r8;function mw({closeModal:t,showModal:e}){const[n,r]=L.useState(""),[i,s]=L.useState(""),[o,a]=L.useState(!1),[l,u]=L.useState(""),[c,d]=L.useState(1),{login:f,signUp:m,error:y,setError:g}=vp(),b=Uu(),v=async I=>{if(I.preventDefault(),g(""),a(!0),i.length<6){g("La contrasea debe tener al menos 6 caracteres."),a(!1);return}try{await m(n,i,l)&&(a(!0),b("/dashboard"),t())}catch(M){console.error("Error en registro:",M),g(M.message)}finally{a(!1)}},_=async I=>{if(I.preventDefault(),a(!0),g(""),!n||!i){g("Por favor, ingrese su correo y contrasea");return}try{await f(n,i),y||(b("/dashboard"),t(!0))}catch(M){g("Error al iniciar sesin. Verifique sus credenciales."),console.error("Error en login:",M)}finally{a(!1)}},S={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.4}},exit:{opacity:0,scale:.8,transition:{duration:.3}}},A={hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}};return x.jsx(m$,{children:e&&x.jsxs(Ja.div,{className:`modal ${e?"modal-show":""}`,initial:"hidden",animate:"visible",exit:"exit",variants:S,children:[x.jsx(Ja.div,{className:"modal-overlay",onClick:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}}),x.jsxs(Ja.div,{className:"modal-content",id:"get-started",variants:A,children:[x.jsx("span",{className:"close",onClick:t,children:""}),o?x.jsxs("div",{className:"loading-overlay",children:[x.jsx(i8,{size:30,color:"#4fa94d",loading:o}),x.jsx("p",{children:"Cargando..."})]}):x.jsx(x.Fragment,{children:c===1?x.jsxs(Ja.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[x.jsx("h2",{className:"modal-title",children:"Welcome to CaloriePro"}),x.jsx("p",{className:"modal-description",children:"Create an account to access all features"}),x.jsxs("form",{className:"modal-form",onSubmit:v,children:[x.jsx("input",{type:"text",placeholder:"Username",value:l,onChange:I=>u(I.target.value),required:!0}),x.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:I=>r(I.target.value),required:!0}),x.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:I=>s(I.target.value),required:!0}),x.jsx("button",{type:"submit",className:"btn",disabled:o,children:o?"Cargando...":"Sign Up"})]}),x.jsxs("p",{className:"modal-login",children:["Already have an account?"," ",x.jsx("span",{className:"link-switch",onClick:()=>d(2),children:"Login"})]}),y&&x.jsx("p",{className:"error",children:y})]},"sign-up"):c===2?x.jsxs(Ja.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[x.jsx("h2",{className:"modal-title login",children:"Login to CaloriePro"}),x.jsxs("form",{className:"modal-form",onSubmit:_,children:[x.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:I=>r(I.target.value),required:!0}),x.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:I=>s(I.target.value),required:!0}),x.jsx("button",{type:"submit",className:"btn",disabled:o,children:o?"Cargando...":"Login"})]}),x.jsxs("p",{className:"modal-signup",children:["Don't have an account?"," ",x.jsx("span",{className:"link-switch",onClick:()=>d(1),children:"Sign Up"})]}),y&&x.jsx("p",{className:"error",children:y})]},"login"):null})]})]})})}mw.propTypes={closeModal:Le.func.isRequired,showModal:Le.bool.isRequired};var Ge={},gw={},rc={},ic={},MM="Expected a function",Jx=NaN,s8="[object Symbol]",o8=/^\s+|\s+$/g,a8=/^[-+]0x[0-9a-f]+$/i,l8=/^0b[01]+$/i,u8=/^0o[0-7]+$/i,c8=parseInt,h8=typeof yt=="object"&&yt&&yt.Object===Object&&yt,d8=typeof self=="object"&&self&&self.Object===Object&&self,f8=h8||d8||Function("return this")(),p8=Object.prototype,m8=p8.toString,g8=Math.max,y8=Math.min,og=function(){return f8.Date.now()};function v8(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(MM);e=Zx(e)||0,sf(n)&&(c=!!n.leading,d="maxWait"in n,s=d?g8(Zx(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(M){var C=r,E=i;return r=i=void 0,u=M,o=t.apply(E,C),o}function y(M){return u=M,a=setTimeout(v,e),c?m(M):o}function g(M){var C=M-l,E=M-u,T=e-C;return d?y8(T,s-E):T}function b(M){var C=M-l,E=M-u;return l===void 0||C>=e||C<0||d&&E>=s}function v(){var M=og();if(b(M))return _(M);a=setTimeout(v,g(M))}function _(M){return a=void 0,f&&r?m(M):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function A(){return a===void 0?o:_(og())}function I(){var M=og(),C=b(M);if(r=arguments,i=this,l=M,C){if(a===void 0)return y(l);if(d)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return I.cancel=S,I.flush=A,I}function _8(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(MM);return sf(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),v8(t,e,{leading:r,maxWait:e,trailing:i})}function sf(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function w8(t){return!!t&&typeof t=="object"}function b8(t){return typeof t=="symbol"||w8(t)&&m8.call(t)==s8}function Zx(t){if(typeof t=="number")return t;if(b8(t))return Jx;if(sf(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sf(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(o8,"");var n=l8.test(t);return n||u8.test(t)?c8(t.slice(2),n?2:8):a8.test(t)?Jx:+t}var S8=_8,sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.addPassiveEventListener=function(e,n,r){var i=r.name;i||(i=n,console.warn("Listener must be a named function.")),Zh.has(n)||Zh.set(n,new Set);var s=Zh.get(n);if(!s.has(i)){var o=function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l)}catch{}return a}();e.addEventListener(n,r,o?{passive:!0}:!1),s.add(i)}};sc.removePassiveEventListener=function(e,n,r){e.removeEventListener(n,r),Zh.get(n).delete(r.name||n)};var Zh=new Map;Object.defineProperty(ic,"__esModule",{value:!0});var E8=S8,T8=x8(E8),eP=sc;function x8(t){return t&&t.__esModule?t:{default:t}}var P8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,T8.default)(e,n)},Fe={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,n){if(e){var r=P8(function(i){Fe.scrollHandler(e)},n);return Fe.scrollSpyContainers.push(e),(0,eP.addPassiveEventListener)(e,"scroll",r),function(){(0,eP.removePassiveEventListener)(e,"scroll",r),Fe.scrollSpyContainers.splice(Fe.scrollSpyContainers.indexOf(e),1)}}return function(){}},isMounted:function(e){return Fe.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var n=window.scrollY!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollX:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var n=window.scrollX!==void 0,r=(document.compatMode||"")==="CSS1Compat";return n?window.scrollY:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var n=Fe.scrollSpyContainers[Fe.scrollSpyContainers.indexOf(e)].spyCallbacks||[];n.forEach(function(r){return r(Fe.currentPositionX(e),Fe.currentPositionY(e))})},addStateHandler:function(e){Fe.spySetState.push(e)},addSpyHandler:function(e,n){var r=Fe.scrollSpyContainers[Fe.scrollSpyContainers.indexOf(n)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e)},updateStates:function(){Fe.spySetState.forEach(function(e){return e()})},unmount:function(e,n){Fe.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.indexOf(n)>-1&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(n),1)}),Fe.spySetState&&Fe.spySetState.length&&Fe.spySetState.indexOf(e)>-1&&Fe.spySetState.splice(Fe.spySetState.indexOf(e),1),document.removeEventListener("scroll",Fe.scrollHandler)},update:function(){return Fe.scrollSpyContainers.forEach(function(e){return Fe.scrollHandler(e)})}};ic.default=Fe;var Pa={},oc={};Object.defineProperty(oc,"__esModule",{value:!0});var C8=function(e,n){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;n?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},k8=function(){return window.location.hash.replace(/^#/,"")},I8=function(e){return function(n){return e.contains?e!=n&&e.contains(n):!!(e.compareDocumentPosition(n)&16)}},A8=function(e){return getComputedStyle(e).position!=="static"},ag=function(e,n){for(var r=e.offsetTop,i=e.offsetParent;i&&!n(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},R8=function(e,n,r){if(r)return e===document?n.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?n.offsetLeft:n.offsetLeft-e.offsetLeft;if(e===document)return n.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(A8(e)){if(n.offsetParent!==e){var i=function(c){return c===e||c===document},s=ag(n,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return n.offsetTop}if(n.offsetParent===e.offsetParent)return n.offsetTop-e.offsetTop;var l=function(c){return c===document};return ag(n,l).offsetTop-ag(e,l).offsetTop};oc.default={updateHash:C8,getHash:k8,filterElementInContainer:I8,scrollOffset:R8};var Pp={},yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var vw={};Object.defineProperty(vw,"__esModule",{value:!0});var O8=sc,M8=["mousedown","wheel","touchmove","keydown"];vw.default={subscribe:function(e){return typeof document<"u"&&M8.forEach(function(n){return(0,O8.addPassiveEventListener)(document,n,e)})}};var ac={};Object.defineProperty(ac,"__esModule",{value:!0});var bv={registered:{},scrollEvent:{register:function(e,n){bv.registered[e]=n},remove:function(e){bv.registered[e]=null}}};ac.default=bv;Object.defineProperty(Pp,"__esModule",{value:!0});var D8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L8=oc;Cp(L8);var N8=yw,tP=Cp(N8),V8=vw,j8=Cp(V8),F8=ac,er=Cp(F8);function Cp(t){return t&&t.__esModule?t:{default:t}}var DM=function(e){return tP.default[e.smooth]||tP.default.defaultEasing},U8=function(e){return typeof e=="function"?e:function(){return e}},z8=function(){if(typeof window<"u")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Sv=function(){return z8()||function(t,e,n){window.setTimeout(t,n||1e3/60,new Date().getTime())}}(),LM=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},NM=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},VM=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},B8=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollWidth-n.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},$8=function(e){var n=e.data.containerElement;if(n&&n!==document&&n!==document.body)return n.scrollHeight-n.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},H8=function t(e,n,r){var i=n.data;if(!n.ignoreCancelEvents&&i.cancel){er.default.registered.end&&er.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=t.bind(null,e,n);Sv.call(window,s);return}er.default.registered.end&&er.default.registered.end(i.to,i.target,i.currentPosition)},_w=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},lc=function(e,n,r,i){n.data=n.data||LM(),window.clearTimeout(n.data.delayTimeout);var s=function(){n.data.cancel=!0};if(j8.default.subscribe(s),_w(n),n.data.start=null,n.data.cancel=!1,n.data.startPosition=n.horizontal?NM(n):VM(n),n.data.targetPosition=n.absolute?e:e+n.data.startPosition,n.data.startPosition===n.data.targetPosition){er.default.registered.end&&er.default.registered.end(n.data.to,n.data.target,n.data.currentPosition);return}n.data.delta=Math.round(n.data.targetPosition-n.data.startPosition),n.data.duration=U8(n.duration)(n.data.delta),n.data.duration=isNaN(parseFloat(n.data.duration))?1e3:parseFloat(n.data.duration),n.data.to=r,n.data.target=i;var o=DM(n),a=H8.bind(null,o,n);if(n&&n.delay>0){n.data.delayTimeout=window.setTimeout(function(){er.default.registered.begin&&er.default.registered.begin(n.data.to,n.data.target),Sv.call(window,a)},n.delay);return}er.default.registered.begin&&er.default.registered.begin(n.data.to,n.data.target),Sv.call(window,a)},kp=function(e){return e=D8({},e),e.data=e.data||LM(),e.absolute=!0,e},W8=function(e){lc(0,kp(e))},q8=function(e,n){lc(e,kp(n))},K8=function(e){e=kp(e),_w(e),lc(e.horizontal?B8(e):$8(e),e)},G8=function(e,n){n=kp(n),_w(n);var r=n.horizontal?NM(n):VM(n);lc(e+r,n)};Pp.default={animateTopScroll:lc,getAnimationType:DM,scrollToTop:W8,scrollToBottom:K8,scrollTo:q8,scrollMore:G8};Object.defineProperty(Pa,"__esModule",{value:!0});var Y8=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q8=oc,X8=ww(Q8),J8=Pp,Z8=ww(J8),e7=ac,sh=ww(e7);function ww(t){return t&&t.__esModule?t:{default:t}}var oh={},nP=void 0;Pa.default={unmount:function(){oh={}},register:function(e,n){oh[e]=n},unregister:function(e){delete oh[e]},get:function(e){return oh[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return nP=e},getActiveLink:function(){return nP},scrollTo:function(e,n){var r=this.get(e);if(!r){console.warn("target Element not found");return}n=Y8({},n,{absolute:!1});var i=n.containerId,s=n.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,n.absolute=!0;var a=n.horizontal,l=X8.default.scrollOffset(o,r,a)+(n.offset||0);if(!n.smooth){sh.default.registered.begin&&sh.default.registered.begin(e,r),o===document?n.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,sh.default.registered.end&&sh.default.registered.end(e,r);return}Z8.default.animateTopScroll(l,n,e,r)}};var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});var t7=oc,lg=n7(t7);function n7(t){return t&&t.__esModule?t:{default:t}}var r7={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,n){this.containers[e]=n},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,n=this.getHash();n?window.setTimeout(function(){e.scrollTo(n,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,n){var r=this.scroller,i=r.get(e);if(i&&(n||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return lg.default.getHash()},changeHash:function(e,n){this.isInitialized()&&lg.default.getHash()!==e&&lg.default.updateHash(e,n)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};Ip.default=r7;Object.defineProperty(rc,"__esModule",{value:!0});var ah=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s7=L,rP=uc(s7),o7=ic,lh=uc(o7),a7=Pa,l7=uc(a7),u7=nc,Me=uc(u7),c7=Ip,Jr=uc(c7);function uc(t){return t&&t.__esModule?t:{default:t}}function h7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function f7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iP={to:Me.default.string.isRequired,containerId:Me.default.string,container:Me.default.object,activeClass:Me.default.string,activeStyle:Me.default.object,spy:Me.default.bool,horizontal:Me.default.bool,smooth:Me.default.oneOfType([Me.default.bool,Me.default.string]),offset:Me.default.number,delay:Me.default.number,isDynamic:Me.default.bool,onClick:Me.default.func,duration:Me.default.oneOfType([Me.default.number,Me.default.func]),absolute:Me.default.bool,onSetActive:Me.default.func,onSetInactive:Me.default.func,ignoreCancelEvents:Me.default.bool,hashSpy:Me.default.bool,saveHashHistory:Me.default.bool,spyThrottle:Me.default.number};rc.default=function(t,e){var n=e||l7.default,r=function(s){f7(o,s);function o(a){h7(this,o);var l=d7(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l.beforeUnmountCallbacks=[],l}return i7(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();if(!lh.default.isMounted(l)){var u=lh.default.mount(l,this.props.spyThrottle);this.beforeUnmountCallbacks.push(u)}this.props.hashSpy&&(Jr.default.isMounted()||Jr.default.mount(n),Jr.default.mapContainer(this.props.to,l)),lh.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){lh.default.unmount(this.stateHandler,this.spyHandler),this.beforeUnmountCallbacks.forEach(function(l){return l()})}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u={};this.state&&this.state.active?u=ah({},this.props.style,this.props.activeStyle):u=ah({},this.props.style);var c=ah({},this.props);for(var d in iP)c.hasOwnProperty(d)&&delete c[d];return c.className=l,c.style=u,c.onClick=this.handleClick,rP.default.createElement(t,c)}}]),o}(rP.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){n.scrollTo(a,ah({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(Jr.default.isMounted()&&!Jr.default.isInitialized())){var c=o.props.horizontal,d=o.props.to,f=null,m=void 0,y=void 0;if(c){var g=0,b=0,v=0;if(u.getBoundingClientRect){var _=u.getBoundingClientRect();v=_.left}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var S=f.getBoundingClientRect();g=S.left-v+a,b=g+S.width}var A=a-o.props.offset;m=A>=Math.floor(g)&&A<Math.floor(b),y=A<Math.floor(g)||A>=Math.floor(b)}else{var I=0,M=0,C=0;if(u.getBoundingClientRect){var E=u.getBoundingClientRect();C=E.top}if(!f||o.props.isDynamic){if(f=n.get(d),!f)return;var T=f.getBoundingClientRect();I=T.top-C+l,M=I+T.height}var P=l-o.props.offset;m=P>=Math.floor(I)&&P<Math.floor(M),y=P<Math.floor(I)||P>=Math.floor(M)}var O=n.getActiveLink();if(y){if(d===O&&n.setActiveLink(void 0),o.props.hashSpy&&Jr.default.getHash()===d){var D=o.props.saveHashHistory,R=D===void 0?!1:D;Jr.default.changeHash("",R)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(d,f))}if(m&&(O!==d||o.state.active===!1)){n.setActiveLink(d);var $=o.props.saveHashHistory,Z=$===void 0?!1:$;o.props.hashSpy&&Jr.default.changeHash(d,Z),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(d,f))}}}};return r.propTypes=iP,r.defaultProps={offset:0},r};Object.defineProperty(gw,"__esModule",{value:!0});var p7=L,sP=jM(p7),m7=rc,g7=jM(m7);function jM(t){return t&&t.__esModule?t:{default:t}}function y7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function v7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _7=function(t){v7(e,t);function e(){var n,r,i,s;y7(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=oP(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.render=function(){return sP.default.createElement("a",i.props,i.props.children)},r),oP(i,s)}return e}(sP.default.Component);gw.default=(0,g7.default)(_7);var bw={};Object.defineProperty(bw,"__esModule",{value:!0});var w7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b7=L,aP=FM(b7),S7=rc,E7=FM(S7);function FM(t){return t&&t.__esModule?t:{default:t}}function T7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var C7=function(t){P7(e,t);function e(){return T7(this,e),x7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return w7(e,[{key:"render",value:function(){return aP.default.createElement("button",this.props,this.props.children)}}]),e}(aP.default.Component);bw.default=(0,E7.default)(C7);var Sw={},Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});var k7=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),A7=L,lP=Rp(A7),R7=gI;Rp(R7);var O7=Pa,uP=Rp(O7),M7=nc,cP=Rp(M7);function Rp(t){return t&&t.__esModule?t:{default:t}}function D7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function N7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Ap.default=function(t){var e=function(n){N7(r,n);function r(i){D7(this,r);var s=L7(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return I7(r,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;uP.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){uP.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return lP.default.createElement(t,k7({},this.props,{parentBindings:this.childBindings}))}}]),r}(lP.default.Component);return e.propTypes={name:cP.default.string,id:cP.default.string},e};Object.defineProperty(Sw,"__esModule",{value:!0});var hP=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),j7=L,dP=Ew(j7),F7=Ap,U7=Ew(F7),z7=nc,fP=Ew(z7);function Ew(t){return t&&t.__esModule?t:{default:t}}function B7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function H7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UM=function(t){H7(e,t);function e(){return B7(this,e),$7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return V7(e,[{key:"render",value:function(){var r=this,i=hP({},this.props);return delete i.name,i.parentBindings&&delete i.parentBindings,dP.default.createElement("div",hP({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(dP.default.Component);UM.propTypes={name:fP.default.string,id:fP.default.string};Sw.default=(0,U7.default)(UM);var ug=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pP=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function mP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uh=L,as=ic,cg=Pa,Ue=nc,Zr=Ip,vP={to:Ue.string.isRequired,containerId:Ue.string,container:Ue.object,activeClass:Ue.string,spy:Ue.bool,smooth:Ue.oneOfType([Ue.bool,Ue.string]),offset:Ue.number,delay:Ue.number,isDynamic:Ue.bool,onClick:Ue.func,duration:Ue.oneOfType([Ue.number,Ue.func]),absolute:Ue.bool,onSetActive:Ue.func,onSetInactive:Ue.func,ignoreCancelEvents:Ue.bool,hashSpy:Ue.bool,spyThrottle:Ue.number},W7={Scroll:function(e,n){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=n||cg,i=function(o){yP(a,o);function a(l){mP(this,a);var u=gP(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return pP(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,c=this.props.container;return u?document.getElementById(u):c&&c.nodeType?c:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();as.isMounted(u)||as.mount(u,this.props.spyThrottle),this.props.hashSpy&&(Zr.isMounted()||Zr.mount(r),Zr.mapContainer(this.props.to,u)),this.props.spy&&as.addStateHandler(this.stateHandler),as.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){as.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var c=ug({},this.props);for(var d in vP)c.hasOwnProperty(d)&&delete c[d];return c.className=u,c.onClick=this.handleClick,uh.createElement(e,c)}}]),a}(uh.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,ug({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(Zr.isMounted()&&!Zr.isInitialized())){var c=a.props.to,d=null,f=0,m=0,y=0;if(u.getBoundingClientRect){var g=u.getBoundingClientRect();y=g.top}if(!d||a.props.isDynamic){if(d=r.get(c),!d)return;var b=d.getBoundingClientRect();f=b.top-y+l,m=f+b.height}var v=l-a.props.offset,_=v>=Math.floor(f)&&v<Math.floor(m),S=v<Math.floor(f)||v>=Math.floor(m),A=r.getActiveLink();if(S)return c===A&&r.setActiveLink(void 0),a.props.hashSpy&&Zr.getHash()===c&&Zr.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),as.updateStates();if(_&&A!==c)return r.setActiveLink(c),a.props.hashSpy&&Zr.changeHash(c),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(c)),as.updateStates()}}};return i.propTypes=vP,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var n=function(r){yP(i,r);function i(s){mP(this,i);var o=gP(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return pP(i,[{key:"componentDidMount",value:function(){if(typeof window>"u")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window>"u")return!1;cg.unregister(this.props.name)}},{key:"registerElems",value:function(o){cg.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return uh.createElement(e,ug({},this.props,{parentBindings:this.childBindings}))}}]),i}(uh.Component);return n.propTypes={name:Ue.string,id:Ue.string},n}},q7=W7;Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Helpers=Ge.ScrollElement=Ge.ScrollLink=Ge.animateScroll=Ge.scrollSpy=Ge.Events=Ge.scroller=Ge.Element=Ge.Button=ed=Ge.Link=void 0;var K7=gw,zM=mr(K7),G7=bw,BM=mr(G7),Y7=Sw,$M=mr(Y7),Q7=Pa,HM=mr(Q7),X7=ac,WM=mr(X7),J7=ic,qM=mr(J7),Z7=Pp,KM=mr(Z7),eq=rc,GM=mr(eq),tq=Ap,YM=mr(tq),nq=q7,QM=mr(nq);function mr(t){return t&&t.__esModule?t:{default:t}}var ed=Ge.Link=zM.default;Ge.Button=BM.default;Ge.Element=$M.default;Ge.scroller=HM.default;Ge.Events=WM.default;Ge.scrollSpy=qM.default;Ge.animateScroll=KM.default;Ge.ScrollLink=GM.default;Ge.ScrollElement=YM.default;Ge.Helpers=QM.default;Ge.default={Link:zM.default,Button:BM.default,Element:$M.default,scroller:HM.default,Events:WM.default,scrollSpy:qM.default,animateScroll:KM.default,ScrollLink:GM.default,ScrollElement:YM.default,Helpers:QM.default};var XM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_P=Bn.createContext&&Bn.createContext(XM),rq=["attr","size","title"];function iq(t,e){if(t==null)return{};var n=sq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function of(){return of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},of.apply(this,arguments)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){oq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oq(t,e,n){return e=aq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aq(t){var e=lq(t,"string");return typeof e=="symbol"?e:e+""}function lq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JM(t){return t&&t.map((e,n)=>Bn.createElement(e.tag,af({key:n},e.attr),JM(e.child)))}function Ca(t){return e=>Bn.createElement(uq,of({attr:af({},t.attr)},e),JM(t.child))}function uq(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=iq(t,rq),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Bn.createElement("svg",of({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:af(af({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Bn.createElement("title",null,s),t.children)};return _P!==void 0?Bn.createElement(_P.Consumer,null,n=>e(n)):e(XM)}function cq(t){return Ca({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M134.924 42.201c-8.034.11-27.397 3.323-49.424 6.893l7.604 22.027c43.938-5.873 43.678-7.054 46.89-2.572 32.14 44.839 59.603 88.148 74.676 135.023 32.603 2.41 71.533 9.14 98.31 23.852 34.083-36.34 89.673-55.812 135.497-71.701 12.157-4.216 25.246 7.4 42.47 10.068l4.848-17.264c-4.872-6.815-27.807-16.587-37.338-16.718-4.035-.056-15.496 3.15-18.969 4.341-56.98 11.002-103.367 13.182-162.199 32.575-37.228-37.914-76.205-75.414-120.932-113.803-9.238-7.93-9.691-12.88-21.433-12.72zm83.87 179.617c-14.884 26.18-24.332 32.5-44.718 46.17-17.912-4.68-35.784-9.45-56.758-6.986-21.017-2.805-29.586 4.975-55.086 13.9-7.727-2.6-16.961.997-22.898 3.528-9.757 4.976-21.342 12.282-18.766 24.588 3.949 12.712 20.223 8.898 27.655 5.703 6.245-2.98 12.055-8.777 16.357-13.34 21.38.569 30.874-.128 52.988-9.912 16.743 6.801 37.917 9.505 56.895 9.972a57.14 57.14 0 0 1 3.607-2.476c10.976-6.9 24.287-9.537 36.313-4.77 12.025 4.768 19.744 15.743 22.773 28.196 1.789 7.352 2.081 15.356.856 23.539 4.75 13.328 8.36 25.571 16.906 41.912-5.193 22.78-3.544 45.283-2.262 68.342l-22.781 8.55-4.34 11.069h70.213l-8.137-11.903-16.369-8.257c3.504-23.007 9.628-45.75 6.246-69.446.55-17.704-5.289-35.407-8.748-53.111 21.304-26.239 10.374-44.741 25.3-73.287a112.733 112.733 0 0 1 7.216-11.918c-27.363-11.34-54.484-18.839-82.461-20.063zm-18.15 81.842c-4.054.12-8.442 1.56-12.992 4.42-7.278 4.576-14.383 12.805-18.76 23.463-4.376 10.658-5.073 21.43-3.064 29.687 2.009 8.258 6.29 13.613 12.037 15.891 5.747 2.278 12.612 1.343 19.89-3.232 7.28-4.576 14.386-12.807 18.763-23.465 4.376-10.658 5.071-21.428 3.062-29.686s-6.289-13.614-12.035-15.892c-2.155-.855-4.468-1.258-6.9-1.186z"},child:[]}]})(t)}function hq(){const{isAuthenticated:t,setIsAuthenticated:e}=vp(),[n,r]=L.useState(!1),[i,s]=L.useState(!1),o=ya(),a=Uu(),[l,u]=L.useState("hero");L.useEffect(()=>{u(t?"home":"hero")},[t]),L.useEffect(()=>{const g=o.pathname.split("/")[1];u(g)},[o]);const c=async()=>{try{await RU(An),e(!1),a("/")}catch(g){console.error("Error al cerrar sesin: ",g.message)}},d=()=>{r(!n)},f=()=>{r(!1)},m=g=>l===g?"link active":"link",y=()=>{const g=document.getElementById("hero");g&&g.scrollIntoView({behavior:"smooth"})};return x.jsxs("nav",{className:"navbar container",children:[x.jsxs("button",{className:"logo-name",onClick:y,children:["CaloriePro ",x.jsx(cq,{className:"logo-img"})]}),x.jsxs("div",{className:`navbar-menu ${n?"show":""}`,children:[x.jsxs("ul",{className:"navbar-list",children:[x.jsx("li",{children:t?x.jsx(iE,{className:m("home"),to:"/home",onClick:f,children:"Home"}):x.jsx(ed,{className:m("hero"),to:"hero",smooth:!0,duration:500,onClick:f,onSetActive:()=>u("hero"),children:"Home"})}),t?x.jsxs(x.Fragment,{children:[x.jsx("li",{children:x.jsx(iE,{className:m("dashboard"),to:"/dashboard",onClick:f,children:"Dashboard"})}),x.jsx("li",{children:x.jsx("button",{className:"btn-outline",onClick:c,children:"Logout"})})]}):x.jsxs(x.Fragment,{children:[x.jsx("li",{children:x.jsx(ed,{to:"testimonials",smooth:!0,offset:-70,duration:200,className:m("testimonials"),onSetActive:()=>u("testimonials"),children:"Testimonials"})}),x.jsx("li",{children:x.jsx(ed,{to:"howitworks",smooth:!0,offset:-70,duration:200,className:m("howitworks"),onSetActive:()=>u("howitworks"),children:"How it Works"})}),x.jsx("li",{children:x.jsx("button",{className:"btn-outline",onClick:()=>s(!0),children:"Sign Up"})})," "]})]}),x.jsx("span",{className:"nav-close",onClick:f,"aria-label":"Cerrar men",children:x.jsx("i",{className:"ri-close-line"})})]}),x.jsx("span",{className:"nav-toggle",onClick:d,"aria-label":"Abrir men",children:x.jsx("i",{className:"ri-menu-3-fill"})}),x.jsx(mw,{showModal:i,setShowModal:s,closeModal:()=>s(!1)})]})}function dq(){return x.jsx(x.Fragment,{children:x.jsxs("footer",{className:"footer container",children:[x.jsxs("div",{className:"footer-container",children:[x.jsxs("div",{className:"footer-section principal",children:[x.jsx("h3",{children:"CaloriePro"}),x.jsx("p",{children:"Your ideal tool to manage calories and achieve your health goals."})]}),x.jsxs("div",{className:"footer-section",children:[x.jsx("h4",{children:"Quick Links"}),x.jsxs("ul",{className:"footer-links",children:[x.jsx("li",{children:x.jsx("a",{href:"#hero",children:"Home"})}),x.jsx("li",{children:x.jsx("a",{href:"#howitworks",children:"How it Works"})}),x.jsx("li",{children:x.jsx("a",{href:"#benefits",children:"Benefits"})})]})]}),x.jsxs("div",{className:"footer-section contact",children:[x.jsx("h4",{children:"Contact Us"}),x.jsxs("div",{className:"social-icons",children:[x.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:x.jsx("i",{className:"ri-facebook-circle-line"})}),x.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:x.jsx("i",{className:"ri-twitter-line"})}),x.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:x.jsx("i",{className:"ri-instagram-line"})})]})]})]}),x.jsx("div",{className:"footer-bottom",children:x.jsxs("p",{children:[" ",new Date().getFullYear()," CaloriePro. All rights reserved."]})})]})})}const fq="493e8133",pq="579b301df60f5b1a2505123d5d5ac6fc";function mq(){const[t,e]=L.useState(null),[n,r]=L.useState(""),[i,s]=L.useState(new Set);return{nutritionData:t,error:n,analyzeNutrition:async a=>{const l=a.split(",").map(c=>c.trim()).filter(c=>c);if(l.length===0){r("Please enter at least one food.");return}const u=`https://api.edamam.com/api/nutrition-details?app_id=${fq}&app_key=${pq}`;try{const c=await fetch(u,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":"en"},body:JSON.stringify({ingr:l})}),d=await c.json();if(!c.ok)throw new Error(`Error ${c.status}: ${d.message||"Solicitud rechazada"}`);d.totalNutrients?(e({...d,ingredients:a}),s(f=>{const m=new Set(f);return m.add(a),m}),r("")):(r("Sorry, no nutritional information found."),e(null))}catch{r("Ocurri un error al conectar con la API."),e(null)}},searchedItems:i}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function cc(t){return t+.5|0}const gi=(t,e,n)=>Math.max(Math.min(t,n),e);function vl(t){return gi(cc(t*2.55),0,255)}function Oi(t){return gi(cc(t*255),0,255)}function Tr(t){return gi(cc(t/2.55)/100,0,1)}function bP(t){return gi(cc(t*100),0,100)}const Tn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ev=[..."0123456789ABCDEF"],gq=t=>Ev[t&15],yq=t=>Ev[(t&240)>>4]+Ev[t&15],ch=t=>(t&240)>>4===(t&15),vq=t=>ch(t.r)&&ch(t.g)&&ch(t.b)&&ch(t.a);function _q(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Tn[t[1]]*17,g:255&Tn[t[2]]*17,b:255&Tn[t[3]]*17,a:e===5?Tn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Tn[t[1]]<<4|Tn[t[2]],g:Tn[t[3]]<<4|Tn[t[4]],b:Tn[t[5]]<<4|Tn[t[6]],a:e===9?Tn[t[7]]<<4|Tn[t[8]]:255})),n}const wq=(t,e)=>t<255?e(t):"";function bq(t){var e=vq(t)?gq:yq;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wq(t.a,e):void 0}const Sq=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZM(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Eq(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Tq(t,e,n){const r=ZM(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function xq(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Tw(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=xq(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function xw(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Oi)}function Pw(t,e,n){return xw(ZM,t,e,n)}function Pq(t,e,n){return xw(Tq,t,e,n)}function Cq(t,e,n){return xw(Eq,t,e,n)}function eD(t){return(t%360+360)%360}function kq(t){const e=Sq.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?vl(+e[5]):Oi(+e[5]));const i=eD(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Pq(i,s,o):e[1]==="hsv"?r=Cq(i,s,o):r=Pw(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Iq(t,e){var n=Tw(t);n[0]=eD(n[0]+e),n=Pw(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Aq(t){if(!t)return;const e=Tw(t),n=e[0],r=bP(e[1]),i=bP(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Tr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const SP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},EP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rq(){const t={},e=Object.keys(EP),n=Object.keys(SP);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,SP[s]);s=parseInt(EP[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let hh;function Oq(t){hh||(hh=Rq(),hh.transparent=[0,0,0,0]);const e=hh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mq=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Dq(t){const e=Mq.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?vl(o):gi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?vl(r):gi(r,0,255)),i=255&(e[4]?vl(i):gi(i,0,255)),s=255&(e[6]?vl(s):gi(s,0,255)),{r,g:i,b:s,a:n}}}function Lq(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Tr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const hg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,to=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Nq(t,e,n){const r=to(Tr(t.r)),i=to(Tr(t.g)),s=to(Tr(t.b));return{r:Oi(hg(r+n*(to(Tr(e.r))-r))),g:Oi(hg(i+n*(to(Tr(e.g))-i))),b:Oi(hg(s+n*(to(Tr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function dh(t,e,n){if(t){let r=Tw(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Pw(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function tD(t,e){return t&&Object.assign(e||{},t)}function TP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Oi(t[3]))):(e=tD(t,{r:0,g:0,b:0,a:1}),e.a=Oi(e.a)),e}function Vq(t){return t.charAt(0)==="r"?Dq(t):kq(t)}class ku{constructor(e){if(e instanceof ku)return e;const n=typeof e;let r;n==="object"?r=TP(e):n==="string"&&(r=_q(e)||Oq(e)||Vq(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=tD(this._rgb);return e&&(e.a=Tr(e.a)),e}set rgb(e){this._rgb=TP(e)}rgbString(){return this._valid?Lq(this._rgb):void 0}hexString(){return this._valid?bq(this._rgb):void 0}hslString(){return this._valid?Aq(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Nq(this._rgb,e._rgb,n)),this}clone(){return new ku(this.rgb)}alpha(e){return this._rgb.a=Oi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=cc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return dh(this._rgb,2,e),this}darken(e){return dh(this._rgb,2,-e),this}saturate(e){return dh(this._rgb,1,e),this}desaturate(e){return dh(this._rgb,1,-e),this}rotate(e){return Iq(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function _r(){}const jq=(()=>{let t=0;return()=>t++})();function xe(t){return t==null}function ct(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ye(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ln(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Yn(t,e){return Ln(t)?t:e}function we(t,e){return typeof t>"u"?e:t}const Fq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,nD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function be(t,e,n,r){let i,s,o;if(ct(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(ye(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function lf(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function uf(t){if(ct(t))return t.map(uf);if(ye(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=uf(t[n[i]]);return e}return t}function rD(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Uq(t,e,n,r){if(!rD(t))return;const i=e[t],s=n[t];ye(i)&&ye(s)?pr(i,s,r):e[t]=uf(s)}function pr(t,e,n){const r=ct(e)?e:[e],i=r.length;if(!ye(t))return t;n=n||{};const s=n.merger||Uq;let o;for(let a=0;a<i;++a){if(o=r[a],!ye(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function Ul(t,e){return pr(t,e,{merger:zq})}function zq(t,e,n){if(!rD(t))return;const r=e[t],i=n[t];ye(r)&&ye(i)?Ul(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=uf(i))}const xP={"":t=>t,x:t=>t.x,y:t=>t.y};function Bq(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function $q(t){const e=Bq(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Iu(t,e){return(xP[e]||(xP[e]=$q(e)))(t)}function Cw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const cf=t=>typeof t<"u",$i=t=>typeof t=="function",PP=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Hq(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ot=Math.PI,st=2*ot,hf=Number.POSITIVE_INFINITY,Wq=ot/180,dt=ot/2,ls=ot/4,CP=ot*2/3,iD=Math.log10,df=Math.sign;function td(t,e,n){return Math.abs(t-e)<n}function kP(t){const e=Math.round(t);t=td(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(iD(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function qq(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Kq(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ff(t){return!Kq(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Gq(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Yq(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ar(t){return t*(ot/180)}function Qq(t){return t*(180/ot)}function IP(t){if(!Ln(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function sD(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*ot&&(s+=st),{angle:s,distance:i}}function Xq(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function us(t){return(t%st+st)%st}function pf(t,e,n,r){const i=us(t),s=us(e),o=us(n),a=us(s-i),l=us(o-i),u=us(i-s),c=us(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function ln(t,e,n){return Math.max(e,Math.min(n,t))}function Jq(t){return ln(t,-32768,32767)}function Ts(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function kw(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Tv=(t,e,n,r)=>kw(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Zq=(t,e,n)=>kw(t,n,r=>t[r][e]>=n);function eK(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const oD=["push","pop","shift","splice","unshift"];function tK(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),oD.forEach(n=>{const r="_onData"+Cw(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function AP(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(oD.forEach(s=>{delete t[s]}),delete t._chartjs)}function nK(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aD=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function lD(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,aD.call(window,()=>{r=!1,t.apply(e,n)}))}}function rK(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Iw=t=>t==="start"?"left":t==="end"?"right":"center",Lt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,iK=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,fh=t=>t===0||t===1,RP=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*st/n)),OP=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*st/n)+1,zl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*dt)+1,easeOutSine:t=>Math.sin(t*dt),easeInOutSine:t=>-.5*(Math.cos(ot*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>fh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>fh(t)?t:RP(t,.075,.3),easeOutElastic:t=>fh(t)?t:OP(t,.075,.3),easeInOutElastic(t){return fh(t)?t:t<.5?.5*RP(t*2,.1125,.45):.5+.5*OP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zl.easeInBounce(t*2)*.5:zl.easeOutBounce(t*2-1)*.5+.5};function uD(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function MP(t){return uD(t)?t:new ku(t)}function dg(t){return uD(t)?t:new ku(t).saturate(.5).darken(.1).hexString()}const sK=["x","y","borderWidth","radius","tension"],oK=["color","borderColor","backgroundColor"];function aK(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:oK},numbers:{type:"number",properties:sK}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function lK(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const DP=new Map;function uK(t,e){e=e||{};const n=t+JSON.stringify(e);let r=DP.get(n);return r||(r=new Intl.NumberFormat(t,e),DP.set(n,r)),r}function Aw(t,e,n){return uK(e,n).format(t)}const cK={values(t){return ct(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=hK(t,n)}const o=iD(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Aw(t,r,l)}};function hK(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var cD={formatters:cK};function dK(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:cD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Bs=Object.create(null),xv=Object.create(null);function Bl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function fg(t,e,n){return typeof e=="string"?pr(Bl(t,e),n):pr(Bl(t,""),e)}class fK{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>dg(i.backgroundColor),this.hoverBorderColor=(r,i)=>dg(i.borderColor),this.hoverColor=(r,i)=>dg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return fg(this,e,n)}get(e){return Bl(this,e)}describe(e,n){return fg(xv,e,n)}override(e,n){return fg(Bs,e,n)}route(e,n,r,i){const s=Bl(this,e),o=Bl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return ye(l)?Object.assign({},u,l):we(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Xe=new fK({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aK,lK,dK]);function pK(t){return!t||xe(t.size)||xe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function LP(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function cs(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function NP(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Pv(t,e,n,r){hD(t,e,n,r,null)}function hD(t,e,n,r,i){let s,o,a,l,u,c,d,f;const m=e.pointStyle,y=e.rotation,g=e.radius;let b=(y||0)*Wq;if(m&&typeof m=="object"&&(s=m.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(b),t.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),m){default:i?t.ellipse(n,r,i/2,g,0,0,st):t.arc(n,r,g,0,st),t.closePath();break;case"triangle":c=i?i/2:g,t.moveTo(n+Math.sin(b)*c,r-Math.cos(b)*g),b+=CP,t.lineTo(n+Math.sin(b)*c,r-Math.cos(b)*g),b+=CP,t.lineTo(n+Math.sin(b)*c,r-Math.cos(b)*g),t.closePath();break;case"rectRounded":u=g*.516,l=g-u,o=Math.cos(b+ls)*l,d=Math.cos(b+ls)*(i?i/2-u:l),a=Math.sin(b+ls)*l,f=Math.sin(b+ls)*(i?i/2-u:l),t.arc(n-d,r-a,u,b-ot,b-dt),t.arc(n+f,r-o,u,b-dt,b),t.arc(n+d,r+a,u,b,b+dt),t.arc(n-f,r+o,u,b+dt,b+ot),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*g,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}b+=ls;case"rectRot":d=Math.cos(b)*(i?i/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":b+=ls;case"cross":d=Math.cos(b)*(i?i/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(b)*(i?i/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),b+=ls,d=Math.cos(b)*(i?i/2:g),o=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(b)*g,a=Math.sin(b)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(b)*(i?i/2:g),r+Math.sin(b)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Rw(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ow(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Mw(t){t.restore()}function mK(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),xe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function gK(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function yK(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Au(t,e,n,r,i,s={}){const o=ct(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,mK(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&yK(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),xe(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),gK(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function mf(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*ot,ot,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,ot,dt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,dt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-dt,!0),t.lineTo(n+o.topLeft,r)}const vK=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,_K=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wK(t,e){const n=(""+t).match(vK);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bK=t=>+t||0;function Dw(t,e){const n={},r=ye(e),i=r?Object.keys(e):e,s=ye(t)?r?o=>we(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=bK(s(o));return n}function dD(t){return Dw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Vo(t){return Dw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function wn(t){const e=dD(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function xt(t,e){t=t||{},e=e||Xe.font;let n=we(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=we(t.style,e.style);r&&!(""+r).match(_K)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:we(t.family,e.family),lineHeight:wK(we(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:we(t.weight,e.weight),string:""};return i.string=pK(i),i}function De(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e)),n!==void 0&&ct(o)&&(o=o[n%o.length]),o!==void 0))return o}function SK(t,e,n){const{min:r,max:i}=t,s=nD(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ka(t,e){return Object.assign(Object.create(t),e)}function Lw(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=gD("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Lw([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return pD(a,l,()=>AK(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return jP(a).includes(l)},ownKeys(a){return jP(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function oa(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fD(t,r),setContext:s=>oa(t,s,n,r),override:s=>oa(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return pD(s,o,()=>TK(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function fD(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:$i(n)?n:()=>n,isIndexable:$i(r)?r:()=>r}}const EK=(t,e)=>t?t+Cw(e):e,Nw=(t,e)=>ye(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function pD(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function TK(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return $i(a)&&o.isScriptable(e)&&(a=xK(e,a,t,n)),ct(a)&&a.length&&(a=PK(e,a,t,o.isIndexable)),Nw(e,a)&&(a=oa(a,i,s&&s[e],o)),a}function xK(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),Nw(t,l)&&(l=Vw(i._scopes,i,t,l)),l}function PK(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(ye(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=Vw(u,i,t,c);e.push(oa(d,s,o&&o[t],a))}}return e}function mD(t,e,n){return $i(t)?t(e,n):t}const CK=(t,e)=>t===!0?e:typeof t=="string"?Iu(e,t):void 0;function kK(t,e,n,r,i){for(const s of e){const o=CK(n,s);if(o){t.add(o);const a=mD(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Vw(t,e,n,r){const i=e._rootScopes,s=mD(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=VP(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=VP(a,o,s,l,r),l===null)?!1:Lw(Array.from(a),[""],i,s,()=>IK(e,n,r))}function VP(t,e,n,r,i){for(;n;)n=kK(t,e,n,r,i);return n}function IK(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return ct(i)&&ye(n)?n:i||{}}function AK(t,e,n,r){let i;for(const s of e)if(i=gD(EK(s,t),n),typeof i<"u")return Nw(t,i)?Vw(n,r,t,i):i}function gD(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function jP(t){let e=t._keys;return e||(e=t._keys=RK(t._scopes)),e}function RK(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function jw(){return typeof window<"u"&&typeof document<"u"}function Fw(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Op=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function OK(t,e){return Op(t).getPropertyValue(e)}const MK=["top","right","bottom","left"];function Is(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=MK[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const DK=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function LK(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(DK(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function gs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Op(n),s=i.boxSizing==="border-box",o=Is(i,"padding"),a=Is(i,"border","width"),{x:l,y:u,box:c}=LK(t,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:m,height:y}=e;return s&&(m-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/m*n.width/r),y:Math.round((u-f)/y*n.height/r)}}function NK(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Fw(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Op(s),l=Is(a,"border","width"),u=Is(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=gf(a.maxWidth,s,"clientWidth"),i=gf(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||hf,maxHeight:i||hf}}const ph=t=>Math.round(t*10)/10;function VK(t,e,n,r){const i=Op(t),s=Is(i,"margin"),o=gf(i.maxWidth,t,"clientWidth")||hf,a=gf(i.maxHeight,t,"clientHeight")||hf,l=NK(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const f=Is(i,"border","width"),m=Is(i,"padding");u-=m.width+f.width,c-=m.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=ph(Math.min(u,o,l.maxWidth)),c=ph(Math.min(c,a,l.maxHeight)),u&&!c&&(c=ph(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=ph(Math.floor(c*r))),{width:u,height:c}}function FP(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const jK=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};jw()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function UP(t,e){const n=OK(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const FK=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},UK=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function jo(t,e,n){return t?FK(e,n):UK()}function yD(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function vD(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class zK{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var wr=new zK;const zP="transparent",BK={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=MP(t||zP),i=r.valid&&MP(e||zP);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class $K{constructor(e,n,r,i){const s=n[r];i=De([e.to,i,s,e.from]);const o=De([e.from,s,i]);this._active=!0,this._fn=e.fn||BK[e.type||typeof o],this._easing=zl[e.easing]||zl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=De([e.to,n,i,e.from]),this._from=De([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class _D{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ye(e))return;const n=Object.keys(Xe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ye(s))return;const o={};for(const a of n)o[a]=s[a];(ct(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=WK(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&HK(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let d=s[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}s[u]=d=new $K(f,e,u,c),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return wr.add(this._chart,r),!0}}function HK(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function WK(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function BP(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function qK(t,e,n){if(n===!1)return!1;const r=BP(t,n),i=BP(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function KK(t){let e,n,r,i;return ye(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function wD(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function $P(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],Ln(u)&&(s||e===0||df(e)===df(u))&&(e+=u)}return!c&&!r.all?0:e}function GK(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:t[c]};return a}function pg(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function YK(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function QK(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function XK(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function HP(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function WP(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=YK(s,o,r),d=e.length;let f;for(let m=0;m<d;++m){const y=e[m],{[l]:g,[u]:b}=y,v=y._stacks||(y._stacks={});f=v[u]=XK(i,c,g),f[a]=b,f._top=HP(f,o,!0,r.type),f._bottom=HP(f,o,!1,r.type);const _=f._visualValues||(f._visualValues={});_[a]=b}}function mg(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function JK(t,e){return ka(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function ZK(t,e,n){return ka(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Za(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const gg=t=>t==="reset"||t==="none",qP=(t,e)=>e?t:Object.assign({},t),eG=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:wD(n,!0),values:null};class $l{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=pg(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Za(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,m,y)=>d==="x"?f:d==="r"?y:m,s=n.xAxisID=we(r.xAxisID,mg(e,"x")),o=n.yAxisID=we(r.yAxisID,mg(e,"y")),a=n.rAxisID=we(r.rAxisID,mg(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&AP(this._data,this),e._stacked&&Za(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ye(n)){const i=this._cachedMeta;this._data=GK(n,i)}else if(r!==n){if(r){AP(r,this);const i=this._cachedMeta;Za(i),i._parsed=[]}n&&Object.isExtensible(n)&&tK(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=pg(n.vScale,n),n.stack!==r.stack&&(i=!0,Za(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(WP(this,n._parsed),n._stacked=pg(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{ct(i[e])?f=this.parseArrayData(r,i,e,n):ye(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const m=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=d=f[c],l&&(m()&&(l=!1),u=d);r._sorted=l}o&&WP(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(i);let f,m,y;for(f=0,m=i;f<m;++f)y=f+r,d[f]={[a]:c||s.parse(u[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+r,d=n[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,f,m;for(c=0,d=i;c<d;++c)f=c+r,m=n[f],u[c]={x:s.parse(Iu(m,a),f),y:o.parse(Iu(m,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:wD(i,!0),values:n._stacks[e.axis]._visualValues};return $P(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=$P(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=eG(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=QK(a);let f,m;function y(){m=i[f];const g=m[a.axis];return!Ln(m[e.axis])||c>g||d<g}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,m,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,m,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Ln(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=KK(we(this.options.clip,qK(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const d=i[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=ZK(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=JK(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&cf(r);if(a)return qP(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),m=Object.keys(Xe.elements[e]),y=()=>this.getContext(r,i,n),g=u.resolveNamedOptions(f,m,y,d);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(qP(g,l))),g}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,r,n))}const u=new _D(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||gg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){gg(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!gg(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Za(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X($l,"defaults",{}),X($l,"datasetElementType",null),X($l,"dataElementType",null);function tG(t,e,n){let r=1,i=1,s=0,o=0;if(e<st){const a=t,l=a+e,u=Math.cos(a),c=Math.sin(a),d=Math.cos(l),f=Math.sin(l),m=(S,A,I)=>pf(S,a,l,!0)?1:Math.max(A,A*n,I,I*n),y=(S,A,I)=>pf(S,a,l,!0)?-1:Math.min(A,A*n,I,I*n),g=m(0,u,d),b=m(dt,c,f),v=y(ot,u,d),_=y(ot+dt,c,f);r=(g-v)/2,i=(b-_)/2,s=-(g+v)/2,o=-(b+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class _l extends $l{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ye(r[e])){const{key:l="value"}=this._parsing;s=u=>+Iu(r[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Ar(this.options.rotation-90)}_getCircumference(){return Ar(this.options.circumference)}_getRotationExtents(){let e=st,n=-st;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Fq(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:y,offsetY:g}=tG(d,c,l),b=(r.width-o)/f,v=(r.height-o)/m,_=Math.max(Math.min(b,v)/2,0),S=nD(this.options.radius,_),A=Math.max(S*l,0),I=(S-A)/this._getVisibleDatasetWeightTotal();this.offsetX=y*S,this.offsetY=g*S,i.total=this.calculateTotal(),this.outerRadius=S-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/st)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,c=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&u.animateScale,m=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,i);let v=this._getRotation(),_;for(_=0;_<n;++_)v+=this._circumference(_,s);for(_=n;_<n+r;++_){const S=this._circumference(_,s),A=e[_],I={x:c+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+S,circumference:S,outerRadius:y,innerRadius:m};b&&(I.options=g||this.resolveDataElementOptions(_,A.active?"active":i)),v+=S,this.updateElement(A,_,I,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?st*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Aw(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(we(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(_l,"id","doughnut"),X(_l,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(_l,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),X(_l,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});function hs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Uw{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(Uw.prototype,e)}init(){}formats(){return hs()}parse(){return hs()}format(){return hs()}add(){return hs()}diff(){return hs()}startOf(){return hs()}endOf(){return hs()}}var nG={_date:Uw};function rG(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?Zq:Tv;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const f=u(s,e,n-d),m=u(s,e,n+d);return{lo:f.lo,hi:m.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,m=f.slice(0,c.lo+1).reverse().findIndex(g=>!xe(g[d.axis]));c.lo-=Math.max(0,m);const y=f.slice(c.hi).findIndex(g=>!xe(g[d.axis]));c.hi+=Math.max(0,y)}return c}}return{lo:0,hi:s.length-1}}function Mp(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:d,hi:f}=rG(s[a],e,o,i);for(let m=d;m<=f;++m){const y=c[m];y.skip||r(y,u,m)}}}function iG(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function yg(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Mp(t,n,e,function(a,l,u){!i&&!Rw(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function sG(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=sD(o,{x:e.x,y:e.y});pf(d,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return Mp(t,n,e,s),i}function oG(t,e,n,r,i,s){let o=[];const a=iG(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const m=c.inRange(e.x,e.y,i);if(r&&!m)return;const y=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(y))&&!m)return;const b=a(e,y);b<l?(o=[{element:c,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:c,datasetIndex:d,index:f})}return Mp(t,n,e,u),o}function vg(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?sG(t,e,n,i):oG(t,e,n,r,i,s)}function KP(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Mp(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var aG={modes:{index(t,e,n,r){const i=gs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?yg(t,i,s,r,o):vg(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?yg(t,i,s,r,o):vg(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return yg(t,i,s,r,o)},nearest(t,e,n,r){const i=gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return vg(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=gs(e,t);return KP(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=gs(e,t);return KP(t,i,"y",n.intersect,r)}}};const bD=["left","top","right","bottom"];function el(t,e){return t.filter(n=>n.pos===e)}function GP(t,e){return t.filter(n=>bD.indexOf(n.pos)===-1&&n.box.axis===e)}function tl(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function lG(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function uG(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!bD.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function cG(t,e){const n=uG(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function hG(t){const e=lG(t),n=tl(e.filter(u=>u.box.fullSize),!0),r=tl(el(e,"left"),!0),i=tl(el(e,"right")),s=tl(el(e,"top"),!0),o=tl(el(e,"bottom")),a=GP(e,"x"),l=GP(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:el(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function YP(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function SD(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function dG(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!ye(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&SD(o,s.getPadding());const a=Math.max(0,e.outerWidth-YP(o,t,"left","right")),l=Math.max(0,e.outerHeight-YP(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function fG(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function pG(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function wl(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,pG(a.horizontal,e));const{same:d,other:f}=dG(e,n,a,r);u|=d&&i.length,c=c||f,l.fullSize||i.push(a)}return u&&wl(i,e,n,r)||c}function mh(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function QP(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,f=u.size||l.height;cf(u.start)&&(o=u.start),l.fullSize?mh(l,i.left,o,n.outerWidth-i.right-i.left,f):mh(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,f=u.size||l.width;cf(u.start)&&(s=u.start),l.fullSize?mh(l,s,i.top,f,n.outerHeight-i.bottom-i.top):mh(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var Rn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=wn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=hG(t.boxes),l=a.vertical,u=a.horizontal;be(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},i);SD(f,wn(r));const m=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),y=cG(l.concat(u),d);wl(a.fullSize,m,d,y),wl(l,m,d,y),wl(u,m,d,y)&&wl(l,m,d,y),fG(m),QP(a.leftAndTop,m,d,y),m.x+=m.w,m.y+=m.h,QP(a.rightAndBottom,m,d,y),t.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},be(a.chartArea,g=>{const b=g.box;Object.assign(b,t.chartArea),b.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class ED{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class mG extends ED{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const nd="$chartjs",gG={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XP=t=>t===null||t==="";function yG(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[nd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",XP(i)){const s=UP(t,"width");s!==void 0&&(t.width=s)}if(XP(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=UP(t,"height");s!==void 0&&(t.height=s)}return t}const TD=jK?{passive:!0}:!1;function vG(t,e,n){t&&t.addEventListener(e,n,TD)}function _G(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TD)}function wG(t,e){const n=gG[t.type]||t.type,{x:r,y:i}=gs(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function yf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bG(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||yf(a.addedNodes,r),o=o&&!yf(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function SG(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||yf(a.removedNodes,r),o=o&&!yf(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ru=new Map;let JP=0;function xD(){const t=window.devicePixelRatio;t!==JP&&(JP=t,Ru.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function EG(t,e){Ru.size||window.addEventListener("resize",xD),Ru.set(t,e)}function TG(t){Ru.delete(t),Ru.size||window.removeEventListener("resize",xD)}function xG(t,e,n){const r=t.canvas,i=r&&Fw(r);if(!i)return;const s=lD((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),EG(t,s),o}function _g(t,e,n){n&&n.disconnect(),e==="resize"&&TG(t)}function PG(t,e,n){const r=t.canvas,i=lD(s=>{t.ctx!==null&&n(wG(s,t))},t);return vG(r,e,i),i}class CG extends ED{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(yG(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[nd])return!1;const r=n[nd].initial;["height","width"].forEach(s=>{const o=r[s];xe(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[nd],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:bG,detach:SG,resize:xG}[n]||PG;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:_g,detach:_g,resize:_g}[n]||_G)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return VK(e,n,r,i)}isAttached(e){const n=e&&Fw(e);return!!(n&&n.isConnected)}}function kG(t){return!jw()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?mG:CG}var Ch;let ts=(Ch=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ff(this.x)&&ff(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},X(Ch,"defaults",{}),X(Ch,"defaultRoutes"),Ch);function IG(t,e){const n=t.options.ticks,r=AG(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?OG(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return MG(e,u,s,o/i),u;const c=RG(s,e,i);if(o>0){let d,f;const m=o>1?Math.round((l-a)/(o-1)):null;for(gh(e,u,c,xe(m)?0:a-m,a),d=0,f=o-1;d<f;d++)gh(e,u,c,s[d],s[d+1]);return gh(e,u,c,l,xe(m)?e.length:l+m),u}return gh(e,u,c),u}function AG(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function RG(t,e,n){const r=DG(t),i=e.length/n;if(!r)return Math.max(i,1);const s=qq(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function OG(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function MG(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function gh(t,e,n,r,i){const s=we(r,0),o=Math.min(we(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function DG(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const LG=t=>t==="left"?"right":t==="right"?"left":t,ZP=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,e1=(t,e)=>Math.min(e||t,t);function t1(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function NG(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function VG(t,e){be(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function nl(t){return t.drawTicks?t.tickLength:0}function n1(t,e){if(!t.display)return 0;const n=xt(t.font,e),r=wn(t.padding);return(ct(t.text)?t.text.length:1)*n.lineHeight+r.height}function jG(t,e){return ka(t,{scale:e,type:"scale"})}function FG(t,e,n){return ka(t,{tick:n,index:e,type:"tick"})}function UG(t,e,n){let r=Iw(t);return(n&&e!=="right"||!n&&e==="right")&&(r=LG(r)),r}function zG(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,m,y;const g=o-i,b=a-s;if(t.isHorizontal()){if(m=Lt(r,s,a),ye(n)){const v=Object.keys(n)[0],_=n[v];y=c[v].getPixelForValue(_)+g-e}else n==="center"?y=(u.bottom+u.top)/2+g-e:y=ZP(t,n,e);f=a-s}else{if(ye(n)){const v=Object.keys(n)[0],_=n[v];m=c[v].getPixelForValue(_)-b+e}else n==="center"?m=(u.left+u.right)/2-b+e:m=ZP(t,n,e);y=Lt(r,o,i),d=n==="left"?-dt:dt}return{titleX:m,titleY:y,maxWidth:f,rotation:d}}class Ia extends ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Yn(e,Number.POSITIVE_INFINITY),n=Yn(n,Number.NEGATIVE_INFINITY),r=Yn(r,Number.POSITIVE_INFINITY),i=Yn(i,Number.NEGATIVE_INFINITY),{min:Yn(e,r),max:Yn(n,i),minDefined:Ln(e),maxDefined:Ln(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Yn(n,Yn(r,n)),max:Yn(r,Yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SK(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?t1(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=IG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ce(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=e1(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,m=ln(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:m/(r-1),d+6>a&&(a=m/(r-(e.offset?.5:1)),l=this.maxHeight-nl(e.grid)-n.padding-n1(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=Qq(Math.min(Math.asin(ln((c.highest.height+6)/a,-1,1)),Math.asin(ln(l/u,-1,1))-Math.asin(ln(f/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=n1(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=nl(s)+l):(e.height=this.maxHeight,e.width=nl(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),m=r.padding*2,y=Ar(this.labelRotation),g=Math.cos(y),b=Math.sin(y);if(a){const v=r.mirror?0:b*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+v+m)}else{const v=r.mirror?0:g*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+v+m)}this._calculatePadding(u,c,b,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,m=0;l?u?(f=i*e.width,m=r*n.height):(f=r*e.height,m=i*n.width):s==="start"?m=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,m=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;s==="start"?(c=0,d=e.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)xe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=t1(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/e1(n,r));let u=0,c=0,d,f,m,y,g,b,v,_,S,A,I;for(d=0;d<n;d+=l){if(y=e[d].label,g=this._resolveTickFontOptions(d),i.font=b=g.string,v=s[b]=s[b]||{data:{},gc:[]},_=g.lineHeight,S=A=0,!xe(y)&&!ct(y))S=LP(i,v.data,v.gc,S,y),A=_;else if(ct(y))for(f=0,m=y.length;f<m;++f)I=y[f],!xe(I)&&!ct(I)&&(S=LP(i,v.data,v.gc,S,I),A+=_);o.push(S),a.push(A),u=Math.max(S,u),c=Math.max(A,c)}VG(s,n);const M=o.indexOf(u),C=a.indexOf(c),E=T=>({width:o[T]||0,height:a[T]||0});return{first:E(0),last:E(n-1),widest:E(M),highest:E(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Jq(this._alignToPixels?cs(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=FG(this.getContext(),e,r))}return this.$context||(this.$context=jG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ar(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=nl(s),m=[],y=a.setContext(this.getContext()),g=y.display?y.width:0,b=g/2,v=function(ee){return cs(r,ee,g)};let _,S,A,I,M,C,E,T,P,O,D,R;if(o==="top")_=v(this.bottom),C=this.bottom-f,T=_-b,O=v(e.top)+b,R=e.bottom;else if(o==="bottom")_=v(this.top),O=e.top,R=v(e.bottom)-b,C=_+b,T=this.top+f;else if(o==="left")_=v(this.right),M=this.right-f,E=_-b,P=v(e.left)+b,D=e.right;else if(o==="right")_=v(this.left),P=e.left,D=v(e.right)-b,M=_+b,E=this.left+f;else if(n==="x"){if(o==="center")_=v((e.top+e.bottom)/2+.5);else if(ye(o)){const ee=Object.keys(o)[0],G=o[ee];_=v(this.chart.scales[ee].getPixelForValue(G))}O=e.top,R=e.bottom,C=_+b,T=C+f}else if(n==="y"){if(o==="center")_=v((e.left+e.right)/2);else if(ye(o)){const ee=Object.keys(o)[0],G=o[ee];_=v(this.chart.scales[ee].getPixelForValue(G))}M=_-b,E=M-f,P=e.left,D=e.right}const $=we(i.ticks.maxTicksLimit,d),Z=Math.max(1,Math.ceil(d/$));for(S=0;S<d;S+=Z){const ee=this.getContext(S),G=s.setContext(ee),F=a.setContext(ee),W=G.lineWidth,Y=G.color,pe=F.dash||[],le=F.dashOffset,me=G.tickWidth,at=G.tickColor,Je=G.tickBorderDash||[],_t=G.tickBorderDashOffset;A=NG(this,S,l),A!==void 0&&(I=cs(r,A,W),u?M=E=P=D=I:C=T=O=R=I,m.push({tx1:M,ty1:C,tx2:E,ty2:T,x1:P,y1:O,x2:D,y2:R,width:W,color:Y,borderDash:pe,borderDashOffset:le,tickWidth:me,tickColor:at,tickBorderDash:Je,tickBorderDashOffset:_t}))}return this._ticksLength=d,this._borderValue=_,m}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=nl(r.grid),m=f+c,y=d?-c:m,g=-Ar(this.labelRotation),b=[];let v,_,S,A,I,M,C,E,T,P,O,D,R="middle";if(i==="top")M=this.bottom-y,C=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+y,C=this._getXAxisLabelAlignment();else if(i==="left"){const Z=this._getYAxisLabelAlignment(f);C=Z.textAlign,I=Z.x}else if(i==="right"){const Z=this._getYAxisLabelAlignment(f);C=Z.textAlign,I=Z.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+m;else if(ye(i)){const Z=Object.keys(i)[0],ee=i[Z];M=this.chart.scales[Z].getPixelForValue(ee)+m}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")I=(e.left+e.right)/2-m;else if(ye(i)){const Z=Object.keys(i)[0],ee=i[Z];I=this.chart.scales[Z].getPixelForValue(ee)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?R="top":l==="end"&&(R="bottom"));const $=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){S=a[v],A=S.label;const Z=s.setContext(this.getContext(v));E=this.getPixelForTick(v)+s.labelOffset,T=this._resolveTickFontOptions(v),P=T.lineHeight,O=ct(A)?A.length:1;const ee=O/2,G=Z.color,F=Z.textStrokeColor,W=Z.textStrokeWidth;let Y=C;o?(I=E,C==="inner"&&(v===_-1?Y=this.options.reverse?"left":"right":v===0?Y=this.options.reverse?"right":"left":Y="center"),i==="top"?u==="near"||g!==0?D=-O*P+P/2:u==="center"?D=-$.highest.height/2-ee*P+P:D=-$.highest.height+P/2:u==="near"||g!==0?D=P/2:u==="center"?D=$.highest.height/2-ee*P:D=$.highest.height-O*P,d&&(D*=-1),g!==0&&!Z.showLabelBackdrop&&(I+=P/2*Math.sin(g))):(M=E,D=(1-O)*P/2);let pe;if(Z.showLabelBackdrop){const le=wn(Z.backdropPadding),me=$.heights[v],at=$.widths[v];let Je=D-le.top,_t=0-le.left;switch(R){case"middle":Je-=me/2;break;case"bottom":Je-=me;break}switch(C){case"center":_t-=at/2;break;case"right":_t-=at;break;case"inner":v===_-1?_t-=at:v>0&&(_t-=at/2);break}pe={left:_t,top:Je,width:at+le.width,height:me+le.height,color:Z.backdropColor}}b.push({label:A,font:T,textOffset:D,options:{rotation:g,color:G,strokeColor:F,strokeWidth:W,textAlign:Y,textBaseline:R,translation:[I,M],backdrop:pe}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ar(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=cs(e,this.left,o)-o/2,c=cs(e,this.right,a)+a/2,d=f=l):(d=cs(e,this.top,o)-o/2,f=cs(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ow(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Au(r,u,0,c,l,a)}i&&Mw(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=xt(r.font),o=wn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ye(n)?(l+=o.bottom,ct(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=zG(this,l,n,a);Au(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:UG(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=we(e.grid&&e.grid.z,-1),i=we(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ia.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return xt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class yh{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;HG(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,BG(e,o,r),this.override&&Xe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Xe[i]&&(delete Xe[i][r],this.override&&delete Bs[r])}}function BG(t,e,n){const r=pr(Object.create(null),[n?Xe.get(n):{},Xe.get(e),t.defaults]);Xe.set(e,r),t.defaultRoutes&&$G(e,t.defaultRoutes),t.descriptors&&Xe.describe(e,t.descriptors)}function $G(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Xe.route(s,i,l,a)})}function HG(t){return"id"in t&&"defaults"in t}class WG{constructor(){this.controllers=new yh($l,"datasets",!0),this.elements=new yh(ts,"elements"),this.plugins=new yh(Object,"plugins"),this.scales=new yh(Ia,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):be(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Cw(e);Ce(r["before"+i],[],r),n[e](r),Ce(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Jn=new WG;class qG{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ce(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=we(r.options&&r.options.plugins,{}),s=KG(r);return i===!1&&!n?[]:YG(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function KG(t){const e={},n=[],r=Object.keys(Jn.plugins.items);for(let s=0;s<r.length;s++)n.push(Jn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function GG(t,e){return!e&&t===!1?null:t===!0?{}:t}function YG(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=GG(r[l],i);u!==null&&s.push({plugin:a,options:QG(t.config,{plugin:a,local:n[l]},u,o)})}return s}function QG(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Cv(t,e){const n=Xe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function XG(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function JG(t,e){return t===e?"_index_":"_value_"}function r1(t){if(t==="x"||t==="y"||t==="r")return t}function ZG(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function kv(t,...e){if(r1(t))return t;for(const n of e){const r=n.axis||ZG(n.position)||t.length>1&&r1(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function i1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function eY(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return i1(t,"x",n[0])||i1(t,"y",n[0])}return{}}function tY(t,e){const n=Bs[t.type]||{scales:{}},r=e.scales||{},i=Cv(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ye(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=kv(o,a,eY(o,t),Xe.scales[a.type]),u=JG(l,i),c=n.scales||{};s[o]=Ul(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Cv(a,e),c=(Bs[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=XG(d,l),m=o[f+"AxisID"]||f;s[m]=s[m]||Object.create(null),Ul(s[m],[{axis:f},r[m],c[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Ul(a,[Xe.scales[a.type],Xe.scale])}),s}function PD(t){const e=t.options||(t.options={});e.plugins=we(e.plugins,{}),e.scales=tY(t,e)}function CD(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function nY(t){return t=t||{},t.data=CD(t.data),PD(t),t}const s1=new Map,kD=new Set;function vh(t,e){let n=s1.get(t);return n||(n=e(),s1.set(t,n),kD.add(n)),n}const rl=(t,e,n)=>{const r=Iu(e,n);r!==void 0&&t.add(r)};class rY{constructor(e){this._config=nY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=CD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PD(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return vh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return vh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return vh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return vh(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>rl(l,e,d))),c.forEach(d=>rl(l,i,d)),c.forEach(d=>rl(l,Bs[s]||{},d)),c.forEach(d=>rl(l,Xe,d)),c.forEach(d=>rl(l,xv,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),kD.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,Bs[n]||{},Xe.datasets[n]||{},{type:n},Xe,xv]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=o1(this._resolverCache,e,i);let l=o;if(sY(o,n)){s.$shared=!1,r=$i(r)?r():r;const u=this.createResolver(e,r,a);l=oa(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=o1(this._resolverCache,e,r);return ye(n)?oa(s,n,void 0,i):s}}function o1(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Lw(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const iY=t=>ye(t)&&Object.getOwnPropertyNames(t).some(e=>$i(t[e]));function sY(t,e){const{isScriptable:n,isIndexable:r}=fD(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&($i(a)||iY(a))||o&&ct(a))return!0}return!1}var oY="4.4.8";const aY=["top","bottom","left","right","chartArea"];function a1(t,e){return t==="top"||t==="bottom"||aY.indexOf(t)===-1&&e==="x"}function l1(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function u1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[t],e)}function lY(t){const e=t.chart,n=e.options.animation;Ce(n&&n.onProgress,[t],e)}function ID(t){return jw()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const rd={},c1=t=>{const e=ID(t);return Object.values(rd).filter(n=>n.canvas===e).pop()};function uY(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function cY(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function _h(t,e,n){return t.options.clip?t[n]:e[n]}function hY(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:_h(n,e,"left"),right:_h(n,e,"right"),top:_h(r,e,"top"),bottom:_h(r,e,"bottom")}:e}var ti;let hc=(ti=class{static register(...e){Jn.add(...e),h1()}static unregister(...e){Jn.remove(...e),h1()}constructor(e,n){const r=this.config=new rY(n),i=ID(e),s=c1(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||kG(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=jq(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=rK(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],rd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}wr.listen(this,"complete",u1),wr.listen(this,"progress",lY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return xe(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NP(this.canvas,this.ctx),this}stop(){return wr.stop(this),this}resize(e,n){wr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,FP(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ce(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};be(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=kv(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),be(s,o=>{const a=o.options,l=a.id,u=kv(l,a),c=we(a.type,o.dtype);(a.position===void 0||a1(a.position,u)!==a1(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const f=Jn.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),be(i,(o,a)=>{o||delete r[a]}),be(r,o=>{Rn.configure(this,o,o.options),Rn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(l1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Cv(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=Jn.getController(a),{datasetElementType:u,dataElementType:c}=Xe.datasets[a];Object.assign(l,{dataElementType:Jn.getElement(c),datasetElementType:u&&Jn.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){be(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||be(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(l1("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){be(this.scales,e=>{Rn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!PP(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;uY(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!PP(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],be(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,$i(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(wr.has(this)?this.attached&&!wr.running(this)&&wr.start(this):(this.draw(),u1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=hY(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Ow(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Mw(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Rw(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=aG.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ka(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);cf(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),wr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),NP(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete rd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};be(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){be(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},be(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!lf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Hq(e),u=cY(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ce(s.onHover,[e,a,this],this),l&&Ce(s.onClick,[e,a,this],this));const c=!lf(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},X(ti,"defaults",Xe),X(ti,"instances",rd),X(ti,"overrides",Bs),X(ti,"registry",Jn),X(ti,"version",oY),X(ti,"getChart",c1),ti);function h1(){return be(hc.instances,t=>t._plugins.invalidate())}function dY(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=i/a;t.beginPath(),t.arc(s,o,a,r-u,n+u),l>i?(u=i/l,t.arc(s,o,l,n+u,r-u,!0)):t.arc(s,o,i,n+dt,r-dt),t.closePath(),t.clip()}function fY(t){return Dw(t,["outerStart","outerEnd","innerStart","innerEnd"])}function pY(t,e,n,r){const i=fY(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const u=(n-Math.min(s,l))*r/2;return ln(l,0,Math.min(s,u))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ln(i.innerStart,0,o),innerEnd:ln(i.innerEnd,0,o)}}function no(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function vf(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:c}=e,d=Math.max(e.outerRadius+r+n-u,0),f=c>0?c+r+n+u:0;let m=0;const y=i-l;if(r){const Z=c>0?c-r:0,ee=d>0?d-r:0,G=(Z+ee)/2,F=G!==0?y*G/(G+r):y;m=(y-F)/2}const g=Math.max(.001,y*d-n/ot)/d,b=(y-g)/2,v=l+b+m,_=i-b-m,{outerStart:S,outerEnd:A,innerStart:I,innerEnd:M}=pY(e,f,d,_-v),C=d-S,E=d-A,T=v+S/C,P=_-A/E,O=f+I,D=f+M,R=v+I/O,$=_-M/D;if(t.beginPath(),s){const Z=(T+P)/2;if(t.arc(o,a,d,T,Z),t.arc(o,a,d,Z,P),A>0){const W=no(E,P,o,a);t.arc(W.x,W.y,A,P,_+dt)}const ee=no(D,_,o,a);if(t.lineTo(ee.x,ee.y),M>0){const W=no(D,$,o,a);t.arc(W.x,W.y,M,_+dt,$+Math.PI)}const G=(_-M/f+(v+I/f))/2;if(t.arc(o,a,f,_-M/f,G,!0),t.arc(o,a,f,G,v+I/f,!0),I>0){const W=no(O,R,o,a);t.arc(W.x,W.y,I,R+Math.PI,v-dt)}const F=no(C,v,o,a);if(t.lineTo(F.x,F.y),S>0){const W=no(C,T,o,a);t.arc(W.x,W.y,S,v-dt,T)}}else{t.moveTo(o,a);const Z=Math.cos(T)*d+o,ee=Math.sin(T)*d+a;t.lineTo(Z,ee);const G=Math.cos(P)*d+o,F=Math.sin(P)*d+a;t.lineTo(G,F)}t.closePath()}function mY(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){vf(t,e,n,r,l,i);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%st||st))}return vf(t,e,n,r,l,i),t.fill(),l}function gY(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:d,borderDashOffset:f}=l,m=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let y=e.endAngle;if(s){vf(t,e,n,r,y,i);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(y=o+(a%st||st))}m&&dY(t,e,y),s||(vf(t,e,n,r,y,i),t.stroke())}class xs extends ts{constructor(n){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=sD(s,{x:n,y:r}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),m=(this.options.spacing+this.options.borderWidth)/2,y=we(f,u-l),g=pf(o,l,u)&&l!==u,b=y>=st||g,v=Ts(a,c+m,d+m);return b&&v}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:c}=this.options,d=(s+o)/2,f=(a+l+c+u)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>st?Math.floor(i/st):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(ot,i||0)),c=s*u;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,mY(n,this,c,o,a),gY(n,this,c,o,a),n.restore()}}X(xs,"id","arc"),X(xs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),X(xs,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(xs,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function d1(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class id extends ts{constructor(n){super();X(this,"parsed");X(this,"skip");X(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return d1(this,n,"x",r)}inYRange(n,r){return d1(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Rw(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Pv(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}X(id,"id","point"),X(id,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),X(id,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AD(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,c,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),u=r-d,c=r+d):(d=s/2,a=n-d,l=n+d,u=Math.min(r,i),c=Math.max(r,i)),{left:a,top:u,right:l,bottom:c}}function yi(t,e,n,r){return t?0:ln(e,n,r)}function yY(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=dD(r);return{t:yi(i.top,s.top,0,n),r:yi(i.right,s.right,0,e),b:yi(i.bottom,s.bottom,0,n),l:yi(i.left,s.left,0,e)}}function vY(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Vo(i),o=Math.min(e,n),a=t.borderSkipped,l=r||ye(i);return{topLeft:yi(!l||a.top||a.left,s.topLeft,0,o),topRight:yi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:yi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:yi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function _Y(t){const e=AD(t),n=e.right-e.left,r=e.bottom-e.top,i=yY(t,n/2,r/2),s=vY(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function wg(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&AD(t,r);return a&&(i||Ts(e,a.left,a.right))&&(s||Ts(n,a.top,a.bottom))}function wY(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function bY(t,e){t.rect(e.x,e.y,e.w,e.h)}function bg(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class sd extends ts{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=_Y(this),a=wY(o.radius)?mf:bY;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,bg(o,n,s)),e.clip(),a(e,bg(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,bg(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return wg(this,e,n,r)}inXRange(e,n){return wg(this,e,null,n)}inYRange(e,n){return wg(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X(sd,"id","bar"),X(sd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(sd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const f1=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},SY=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class p1 extends ts{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ce(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=xt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=f1(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,m=-c;return this.legendItems.forEach((y,g)=>{const b=r+n/2+s.measureText(y.text).width;(g===0||u[u.length-1]+b+2*a>o)&&(d+=c,u[u.length-(g>0?0:1)]=0,m+=c,f++),l[g]={left:0,top:m,row:f,width:b,height:i},u[u.length-1]+=b+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,f=0,m=0,y=0,g=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:_,itemHeight:S}=EY(r,n,s,b,i);v>0&&m+S+2*a>c&&(d+=f+a,u.push({width:f,height:m}),y+=f+a,g++,f=m=0),l[v]={left:y,top:m,col:g,width:_,height:S},f=Math.max(f,_),m+=S+a}),d+=f,u.push({width:f,height:m}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=jo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Lt(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=Lt(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=Lt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=Lt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Ow(e,this),this._draw(),Mw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Xe.color,l=jo(e.rtl,this.left,this.width),u=xt(o.font),{padding:c}=o,d=u.size,f=d/2;let m;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:y,boxHeight:g,itemHeight:b}=f1(o,d),v=function(M,C,E){if(isNaN(y)||y<=0||isNaN(g)||g<0)return;i.save();const T=we(E.lineWidth,1);if(i.fillStyle=we(E.fillStyle,a),i.lineCap=we(E.lineCap,"butt"),i.lineDashOffset=we(E.lineDashOffset,0),i.lineJoin=we(E.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=we(E.strokeStyle,a),i.setLineDash(we(E.lineDash,[])),o.usePointStyle){const P={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:T},O=l.xPlus(M,y/2),D=C+f;hD(i,P,O,D,o.pointStyleWidth&&y)}else{const P=C+Math.max((d-g)/2,0),O=l.leftForLtr(M,y),D=Vo(E.borderRadius);i.beginPath(),Object.values(D).some(R=>R!==0)?mf(i,{x:O,y:P,w:y,h:g,radius:D}):i.rect(O,P,y,g),i.fill(),T!==0&&i.stroke()}i.restore()},_=function(M,C,E){Au(i,E.text,M,C+b/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},S=this.isHorizontal(),A=this._computeTitleHeight();S?m={x:Lt(s,this.left+c,this.right-r[0]),y:this.top+c+A,line:0}:m={x:this.left+c,y:Lt(s,this.top+A+c,this.bottom-n[0].height),line:0},yD(this.ctx,e.textDirection);const I=b+c;this.legendItems.forEach((M,C)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const E=i.measureText(M.text).width,T=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),P=y+f+E;let O=m.x,D=m.y;l.setWidth(this.width),S?C>0&&O+P+c>this.right&&(D=m.y+=I,m.line++,O=m.x=Lt(s,this.left+c,this.right-r[m.line])):C>0&&D+I>this.bottom&&(O=m.x=O+n[m.line].width+c,m.line++,D=m.y=Lt(s,this.top+A+c,this.bottom-n[m.line].height));const R=l.x(O);if(v(R,D,M),O=iK(T,O+y+f,S?O+P:this.right,e.rtl),_(l.x(O),D,M),S)m.x+=P+c;else if(typeof M.text!="string"){const $=u.lineHeight;m.y+=RD(M,$)+c}else m.y+=I}),vD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=xt(n.font),i=wn(n.padding);if(!n.display)return;const s=jo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=Lt(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);c=u+Lt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const m=Lt(a,d,d+f);o.textAlign=s.textAlign(Iw(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Au(o,n.text,m,c,r)}_computeTitleHeight(){const e=this.options.title,n=xt(e.font),r=wn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Ts(e,this.left,this.right)&&Ts(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Ts(e,i.left,i.left+i.width)&&Ts(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!PY(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=SY(i,r);i&&!s&&Ce(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ce(n.onHover,[e,r,this],this)}else r&&Ce(n.onClick,[e,r,this],this)}}function EY(t,e,n,r,i){const s=TY(r,t,e,n),o=xY(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function TY(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function xY(t,e,n){let r=t;return typeof e.text!="string"&&(r=RD(e,n)),r}function RD(t,e){const n=t.text?t.text.length:0;return e*n}function PY(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var OD={id:"legend",_element:p1,start(t,e,n){const r=t.legend=new p1({ctx:t.ctx,options:n,chart:t});Rn.configure(t,r,n),Rn.addBox(t,r)},stop(t){Rn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Rn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=wn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class MD extends ts{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ct(r.text)?r.text.length:1;this._padding=wn(r.padding);const s=i*xt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=Lt(a,r,s),d=n+e,u=s-r):(o.position==="left"?(c=r+e,d=Lt(a,i,n),l=ot*-.5):(c=s-e,d=Lt(a,n,i),l=ot*.5),u=i-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=xt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Au(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:Iw(n.align),textBaseline:"middle",translation:[o,a]})}}function CY(t,e){const n=new MD({ctx:t.ctx,options:e,chart:t});Rn.configure(t,n,e),Rn.addBox(t,n),t.titleBlock=n}var kY={id:"title",_element:MD,start(t,e,n){CY(t,n)},stop(t){const e=t.titleBlock;Rn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Rn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bl={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Xq(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Qn(t,e){return e&&(ct(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function br(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function IY(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function m1(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=xt(e.bodyFont),u=xt(e.titleFont),c=xt(e.footerFont),d=s.length,f=i.length,m=r.length,y=wn(e.padding);let g=y.height,b=0,v=r.reduce((A,I)=>A+I.before.length+I.lines.length+I.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=m*A+(v-m)*l.lineHeight+(v-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let _=0;const S=function(A){b=Math.max(b,n.measureText(A).width+_)};return n.save(),n.font=u.string,be(t.title,S),n.font=l.string,be(t.beforeBody.concat(t.afterBody),S),_=e.displayColors?o+2+e.boxPadding:0,be(r,A=>{be(A.before,S),be(A.lines,S),be(A.after,S)}),_=0,n.font=c.string,be(t.footer,S),n.restore(),b+=y.width,{width:b,height:g}}function AY(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function RY(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function OY(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),RY(u,t,e,n)&&(u="center"),u}function g1(t,e,n){const r=n.yAlign||e.yAlign||AY(t,n);return{xAlign:n.xAlign||e.xAlign||OY(t,e,n,r),yAlign:r}}function MY(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function DY(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function y1(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:m}=Vo(o);let y=MY(e,a);const g=DY(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(c,f)+i:a==="right"&&(y+=Math.max(d,m)+i),{x:ln(y,0,r.width-e.width),y:ln(g,0,r.height-e.height)}}function wh(t,e,n){const r=wn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function v1(t){return Qn([],br(t))}function LY(t,e,n){return ka(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function _1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const DD={beforeTitle:_r,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:_r,beforeBody:_r,beforeLabel:_r,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return xe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:_r,afterBody:_r,beforeFooter:_r,footer:_r,afterFooter:_r};function Jt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?DD[e].call(n,r):i}class Iv extends ts{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new _D(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=LY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Jt(r,"beforeTitle",this,e),s=Jt(r,"title",this,e),o=Jt(r,"afterTitle",this,e);let a=[];return a=Qn(a,br(i)),a=Qn(a,br(s)),a=Qn(a,br(o)),a}getBeforeBody(e,n){return v1(Jt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return be(e,s=>{const o={before:[],lines:[],after:[]},a=_1(r,s);Qn(o.before,br(Jt(a,"beforeLabel",this,s))),Qn(o.lines,Jt(a,"label",this,s)),Qn(o.after,br(Jt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return v1(Jt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Jt(r,"beforeFooter",this,e),s=Jt(r,"footer",this,e),o=Jt(r,"afterFooter",this,e);let a=[];return a=Qn(a,br(i)),a=Qn(a,br(s)),a=Qn(a,br(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(IY(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,f)=>e.filter(c,d,f,r))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,r))),be(a,c=>{const d=_1(e.callbacks,c);i.push(Jt(d,"labelColor",this,c)),s.push(Jt(d,"labelPointStyle",this,c)),o.push(Jt(d,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=bl[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=m1(this,r),u=Object.assign({},a,l),c=g1(this.chart,r,u),d=y1(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Vo(a),{x:f,y:m}=e,{width:y,height:g}=n;let b,v,_,S,A,I;return s==="center"?(A=m+g/2,i==="left"?(b=f,v=b-o,S=A+o,I=A-o):(b=f+y,v=b+o,S=A-o,I=A+o),_=b):(i==="left"?v=f+Math.max(l,c)+o:i==="right"?v=f+y-Math.max(u,d)-o:v=this.caretX,s==="top"?(S=m,A=S-o,b=v-o,_=v+o):(S=m+g,A=S+o,b=v+o,_=v-o),I=S),{x1:b,x2:v,x3:_,y1:S,y2:A,y3:I}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=jo(r.rtl,this.x,this.width);for(e.x=wh(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=xt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=xt(s.bodyFont),d=wh(this,"left",s),f=i.x(d),m=l<c.lineHeight?(c.lineHeight-l)/2:0,y=n.y+m;if(s.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,u)+u/2,v=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Pv(e,g,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Pv(e,g,b,v)}else{e.lineWidth=ye(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(f,u),b=i.leftForLtr(i.xPlus(f,1),u-2),v=Vo(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,mf(e,{x:g,y,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),mf(e,{x:b,y:y+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,y,u,l),e.strokeRect(g,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=xt(r.bodyFont);let f=d.lineHeight,m=0;const y=jo(r.rtl,this.x,this.width),g=function(E){n.fillText(E,y.x(e.x+m),e.y+f/2),e.y+=f+s},b=y.textAlign(o);let v,_,S,A,I,M,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=wh(this,b,r),n.fillStyle=r.bodyColor,be(this.beforeBody,g),m=a&&b!=="right"?o==="center"?u/2+c:u+2+c:0,A=0,M=i.length;A<M;++A){for(v=i[A],_=this.labelTextColors[A],n.fillStyle=_,be(v.before,g),S=v.lines,a&&S.length&&(this._drawColorBox(n,e,A,y,r),f=Math.max(d.lineHeight,l)),I=0,C=S.length;I<C;++I)g(S[I]),f=d.lineHeight;be(v.after,g)}m=0,f=d.lineHeight,be(this.afterBody,g),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=jo(r.rtl,this.x,this.width);for(e.x=wh(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=xt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:y}=Vo(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-y),n.quadraticCurveTo(a+u,l+c,a+u-y,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+m,l+c),n.quadraticCurveTo(a,l+c,a,l+c-m),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=bl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=m1(this,e),l=Object.assign({},o,this._size),u=g1(n,e,l),c=y1(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=wn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),yD(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),vD(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!lf(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!lf(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=bl[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}X(Iv,"positioners",bl);var LD={id:"tooltip",_element:Iv,positioners:bl,afterInit(t,e,n){n&&(t.tooltip=new Iv({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:DD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const NY=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function VY(t,e,n,r){const i=t.indexOf(e);if(i===-1)return NY(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const jY=(t,e)=>t===null?null:ln(Math.round(t),0,e);function w1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Av extends Ia{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(xe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:VY(r,e,we(n,e),this._addedLabels),jY(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return w1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(Av,"id","category"),X(Av,"defaults",{ticks:{callback:w1}});function FY(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,m=s||1,y=c-1,{min:g,max:b}=e,v=!xe(o),_=!xe(a),S=!xe(u),A=(b-g)/(d+1);let I=kP((b-g)/y/m)*m,M,C,E,T;if(I<1e-14&&!v&&!_)return[{value:g},{value:b}];T=Math.ceil(b/I)-Math.floor(g/I),T>y&&(I=kP(T*I/y/m)*m),xe(l)||(M=Math.pow(10,l),I=Math.ceil(I*M)/M),i==="ticks"?(C=Math.floor(g/I)*I,E=Math.ceil(b/I)*I):(C=g,E=b),v&&_&&s&&Gq((a-o)/s,I/1e3)?(T=Math.round(Math.min((a-o)/I,c)),I=(a-o)/T,C=o,E=a):S?(C=v?o:C,E=_?a:E,T=u-1,I=(E-C)/T):(T=(E-C)/I,td(T,Math.round(T),I/1e3)?T=Math.round(T):T=Math.ceil(T));const P=Math.max(IP(I),IP(C));M=Math.pow(10,xe(l)?P:l),C=Math.round(C*M)/M,E=Math.round(E*M)/M;let O=0;for(v&&(f&&C!==o?(n.push({value:o}),C<o&&O++,td(Math.round((C+O*I)*M)/M,o,b1(o,A,t))&&O++):C<o&&O++);O<T;++O){const D=Math.round((C+O*I)*M)/M;if(_&&D>a)break;n.push({value:D})}return _&&f&&E!==a?n.length&&td(n[n.length-1].value,a,b1(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!_||E===a)&&n.push({value:E}),n}function b1(t,e,{horizontal:n,minRotation:r}){const i=Ar(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class UY extends Ia{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=df(i),u=df(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=FY(i,s);return e.bounds==="ticks"&&Yq(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Aw(e,this.chart.options.locale,this.options.ticks.format)}}class Rv extends UY{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ln(e)?e:0,this.max=Ln(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ar(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(Rv,"id","linear"),X(Rv,"defaults",{ticks:{callback:cD.formatters.numeric}});const Dp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},on=Object.keys(Dp);function S1(t,e){return t-e}function E1(t,e){if(xe(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Ln(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ff(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function T1(t,e,n,r){const i=on.length;for(let s=on.indexOf(t);s<i-1;++s){const o=Dp[on[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return on[s]}return on[i-1]}function zY(t,e,n,r,i){for(let s=on.length-1;s>=on.indexOf(n);s--){const o=on[s];if(Dp[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return on[n?on.indexOf(n):0]}function BY(t){for(let e=on.indexOf(t)+1,n=on.length;e<n;++e)if(Dp[on[e]].common)return on[e]}function x1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=kw(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function $Y(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function P1(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:$Y(t,r,i,n)}class _f extends Ia{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new nG._date(e.adapters.date);i.init(n),Ul(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:E1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ln(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Ln(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=eK(i,s,o);return this._unit=n.unit||(r.autoSkip?T1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):zY(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:BY(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),P1(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ln(n,0,o),r=ln(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||T1(s.minUnit,n,r,this._getLabelCapacity(n)),a=we(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=ff(l)||l===!0,c={};let d=n,f,m;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,m=0;f<r;f=+e.add(f,a,o),m++)x1(c,f,y);return(f===r||i.bounds==="ticks"||m===1)&&x1(c,f,y),Object.keys(c).sort(S1).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ce(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=r[n],m=u&&d&&f&&f.major;return this._adapter.format(e,i||(m?d:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ar(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,P1(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(E1(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nK(e.sort(S1))}}X(_f,"id","time"),X(_f,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function bh(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Tv(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Tv(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class C1 extends _f{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=bh(n,this.min),this._tableRange=bh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(bh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return bh(this._table,r*this._tableRange+this._minPos,!0)}}X(C1,"id","timeseries"),X(C1,"defaults",_f.defaults);const ND="label";function k1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function HY(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function VD(t,e){t.labels=e}function jD(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ND;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function WY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ND;const n={labels:[],datasets:[]};return VD(n,t.labels),jD(n,t.datasets,e),n}function qY(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=t,m=L.useRef(null),y=L.useRef(null),g=()=>{m.current&&(y.current=new hc(m.current,{type:o,data:WY(a,s),options:l&&{...l},plugins:u}),k1(e,y.current))},b=()=>{k1(e,null),y.current&&(y.current.destroy(),y.current=null)};return L.useEffect(()=>{!i&&y.current&&l&&HY(y.current,l)},[i,l]),L.useEffect(()=>{!i&&y.current&&VD(y.current.config.data,a.labels)},[i,a.labels]),L.useEffect(()=>{!i&&y.current&&a.datasets&&jD(y.current.config.data,a.datasets,s)},[i,a.datasets]),L.useEffect(()=>{y.current&&(i?(b(),setTimeout(g)):y.current.update(d))},[i,l,a.labels,a.datasets,d]),L.useEffect(()=>{y.current&&(b(),setTimeout(g))},[o]),L.useEffect(()=>(g(),()=>b()),[]),Bn.createElement("canvas",{ref:m,role:"img",height:n,width:r,...f},c)}const KY=L.forwardRef(qY);function GY(t,e){return hc.register(e),L.forwardRef((n,r)=>Bn.createElement(KY,{...n,ref:r,type:t}))}const FD=GY("doughnut",_l),UD=L.createContext(),zD=({children:t})=>{const[e,n]=L.useState(0),r=e0(),i=k0();L.useEffect(()=>{const o=Jf(r,async a=>{if(a){const l=fr(i,"users",a.uid),u=await Xu(l);if(u.exists()){const c=u.data().caloriesConsumed||0;n(c)}}});return()=>o()},[r,i]);const s=async o=>{n(l=>l+o);const a=r.currentUser;if(a){const l=fr(i,"users",a.uid);await yp(l,{caloriesConsumed:e+o})}};return x.jsx(UD.Provider,{value:{caloriesConsumed:e,addCalories:s},children:t})};zD.propTypes={children:Le.node.isRequired};const dc=()=>L.useContext(UD);hc.register(xs,LD,OD);function zw({nutritionData:t,error:e}){var g,b,v,_,S,A,I,M,C,E,T;const[n,r]=L.useState(null),{caloriesConsumed:i,addCalories:s}=dc(),[o,a]=L.useState([]),l=An.currentUser,u=()=>new Date().toISOString().split("T")[0],c=async()=>{if(l){const P=fr(na,"users",l.uid),O=await Xu(P);O.exists()&&a(O.data().foodHistory||[])}};if(L.useEffect(()=>{l&&c()},[l]),L.useEffect(()=>{if(t){const P=(t==null?void 0:t.ingredients)||"Desconocido";o.some(O=>O.name===P)?r("added"):r(null)}},[t,o]),e)return x.jsx("p",{className:"error-message",children:e});if(!t)return null;const{totalNutrients:d}=t,f=((g=d==null?void 0:d.ENERC_KCAL)==null?void 0:g.quantity)||0,m={labels:["Proteins","Fats","Carbohydrates","Others"],datasets:[{data:[(((b=d==null?void 0:d.PROCNT)==null?void 0:b.quantity)||0).toFixed(1),(((v=d==null?void 0:d.FAT)==null?void 0:v.quantity)||0).toFixed(1),(((_=d==null?void 0:d.CHOCDF)==null?void 0:_.quantity)||0).toFixed(1),((((S=d==null?void 0:d.ENERC_KCAL)==null?void 0:S.quantity)||0)-(((A=d==null?void 0:d.PROCNT)==null?void 0:A.quantity)||0+((I=d==null?void 0:d.FAT)==null?void 0:I.quantity)||0+((M=d==null?void 0:d.CHOCDF)==null?void 0:M.quantity)||0)).toFixed(1)],backgroundColor:["#36A2EB","#FF6384","#FFCE56","#FF9F40"],hoverOffset:4}]},y=async()=>{if(l){const P=(t==null?void 0:t.ingredients)||"Desconocido",O=f,D=u();if(o.some($=>$.name===P))r("already_added");else{const $={name:P,calories:O,date:D},Z=[...o,$],ee=fr(na,"users",l.uid);await yp(ee,{foodHistory:Z,caloriesConsumed:i+O}),r("added"),a(Z),s(O)}}else console.error("Usuario no autenticado")};return x.jsxs("div",{className:"results-container container",children:[x.jsxs("div",{className:"results-content",children:[x.jsxs("div",{className:"heading-container",children:[x.jsx("h3",{className:"heading-title",children:"Nutrition facts"}),x.jsxs("p",{className:"heading-description",children:[x.jsx("strong",{children:"Food:"})," ",(t==null?void 0:t.ingredients)||"No disponible"]}),x.jsxs("p",{className:"heading-description",children:[x.jsx("strong",{children:"Calories:"})," ",f.toFixed(1)," kcal"]})]}),x.jsx("div",{className:"chart-container",children:x.jsx(FD,{data:m,options:{responsive:!0,maintainAspectRatio:!1,aspectRatio:1,plugins:{legend:{position:"bottom"},tooltip:{enabled:!0,callbacks:{label:function(P){const O=P.raw;return`${P.label}: ${O}`}}},datalabels:{display:!1}}}})}),x.jsxs("div",{className:"nutrient-details",children:[x.jsxs("div",{className:"nutrient",children:[x.jsx("strong",{children:"Proteins:"})," ",(((C=d==null?void 0:d.PROCNT)==null?void 0:C.quantity)||0).toFixed(1)," g"]}),x.jsxs("div",{className:"nutrient",children:[x.jsx("strong",{children:"Fats:"})," ",(((E=d==null?void 0:d.FAT)==null?void 0:E.quantity)||0).toFixed(1)," g"]}),x.jsxs("div",{className:"nutrient",children:[x.jsx("strong",{children:"Carbohydrates:"})," ",(((T=d==null?void 0:d.CHOCDF)==null?void 0:T.quantity)||0).toFixed(1)," g"]})]})]}),n===null?x.jsx("button",{className:"nutrient-add-btn",onClick:y,children:"Add calories"}):n==="added"?x.jsx("p",{className:"success-message",children:"Food added!"}):x.jsx("p",{className:"error-message",children:"This food has already been added!"})]})}zw.propTypes={nutritionData:Le.object.isRequired,error:Le.string.isRequired};function YY(t){return Ca({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function QY(t){return Ca({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(t)}function XY(t){return Ca({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function JY(t){return Ca({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}var ZY={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function eQ(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return ZY[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function I1(t){var e=eQ(t);return"".concat(e.value).concat(e.unit)}var tQ=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},wf=function(){return wf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},wf.apply(this,arguments)},nQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},rQ=tQ("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Ou(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?35:u,d=nQ(t,["loading","color","speedMultiplier","cssOverride","size"]),f=wf({background:"transparent !important",width:I1(c),height:I1(c),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(rQ," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?L.createElement("span",wf({style:f},d)):null}function iQ(){const[t,e]=L.useState(""),[n,r]=L.useState(!1),[i,s]=L.useState(""),{nutritionData:o,error:a,analyzeNutrition:l}=mq(),{addCalories:u,removeCalories:c}=dc(),d=async f=>{if(f.preventDefault(),!t.trim()){s("Por favor, ingresa un trmino de bsqueda.");return}r(!0),s("");try{await l(t);const m=JSON.parse(localStorage.getItem("searchHistory"))||[];m.includes(t)||(m.push(t),localStorage.setItem("searchHistory",JSON.stringify(m)))}catch{s("Hubo un problema al obtener la informacin nutricional. Intenta de nuevo.")}finally{r(!1)}};return x.jsxs("div",{className:"search-container",children:[x.jsx("form",{className:"search-input-container",onSubmit:d,children:x.jsxs("div",{className:"input-wrapper",children:[x.jsx("input",{type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"Enter a food name (50g bread, 1 apple, 2 eggs...)",onKeyDown:f=>{f.key==="Enter"&&d(f)}}),x.jsx("button",{type:"submit",className:"search-btn",children:x.jsx(XY,{className:"search-icon"})})]})}),n&&x.jsx("div",{className:"loading-container",children:x.jsx(Ou,{color:"#4D7CFE",size:50})}),i&&x.jsx("p",{className:"error-message",children:i}),x.jsxs("div",{className:"search-results",children:[o&&!a&&x.jsx(zw,{nutritionData:o,error:a,onAddCalories:u,onRemoveCalories:c}),a&&x.jsx("p",{className:"error-message",children:a})]})]})}function sQ(){const[t,e]=L.useState(""),[n,r]=L.useState(null),[i,s]=L.useState(!1),[o,a]=L.useState(null),[l,u]=L.useState(""),[c,d]=L.useState(""),{caloriesConsumed:f,addCalories:m}=dc();L.useEffect(()=>{const g=Jf(An,async b=>{if(b){s(!0);try{const v=await YR(b.uid);v&&(e(v.userName||"Invitado"),r(v))}catch{d("Hubo un problema al cargar tu perfil.")}}else e("Invitado"),s(!1),r(null)});return()=>g()},[]);const y=g=>{if(!g){u("Por favor ingresa un alimento para buscar.");return}a({totalNutrients:{ENERC_KCAL:{quantity:100},PROCNT:{quantity:20},FAT:{quantity:10},CHOCDF:{quantity:60}},ingredients:g}),u(""),d("")};return x.jsxs("div",{className:"home-container container",children:[x.jsx("h1",{className:"home-title",children:"Welcome to CaloriePro"}),t&&x.jsxs("p",{className:"home-description",children:["Hi, ",t,"! Keep track of what you consume with just a search."]}),i&&n?x.jsxs(x.Fragment,{children:[x.jsx(iQ,{onSearchCalories:y}),o?x.jsx(zw,{nutritionData:o,error:l,onAddCalories:m,caloriesConsumed:f}):l&&x.jsx("p",{className:"error-message",children:l})]}):x.jsx("p",{children:"Por favor, completa tu perfil en el Dashboard."}),c&&x.jsx("p",{className:"error-message",children:c})]})}const BD=()=>{const[t,e]=L.useState(null),[n,r]=L.useState(!1),[i,s]=L.useState(null),[o,a]=L.useState([]),[l,u]=L.useState(null),[c,d]=L.useState(!0),[f,m]=L.useState(!1),{addCalories:y}=dc();L.useEffect(()=>{(async()=>{try{const A=An.currentUser;if(A){const I=await YR(A.uid);if(I){e(I),s(I);const M=await l$(A.uid);a(M||[]);const C=g(I);u(C)}else e(null),s(null),u(0),a([])}else console.error("No se encuentra un usuario autenticado.")}catch{e(null),a([])}d(!1)})()},[]),L.useEffect(()=>{if(t){const S=g(t);u(S)}},[t]);const g=S=>{if(!S||!S.age||!S.weight||!S.height||!S.activityLevel||!S.goal)return console.error("Faltan datos necesarios para calcular las caloras"),0;const{age:A,weight:I,height:M,activityLevel:C,goal:E,calorieAdjustment:T}=S;let P=10*I+6.25*M-5*A+(S.gender==="male"?5:-161);if(P*={sedentary:1.2,light:1.375,moderate:1.55,intense:1.725,veryIntense:1.9}[C],E==="lose"){const D=T?parseInt(T):0;P-=D}else if(E==="gain"){const D=T?parseInt(T):0;P+=D}return Math.floor(P*100)/100};return{userData:t,isEditing:n,editedData:i,foodHistory:o,dailyGoal:l,isLoading:c,setIsEditing:r,setEditedData:s,setUserData:e,saveUserProfile:async S=>{try{await QR(S),e(S),s(S);const A=g(S);u(A),m(!0)}catch(A){console.error("Error al guardar el perfil:",A)}},showModalUser:f,closeModal:()=>{m(!1)},handleAddFoodToHistory:async S=>{try{const A=[...o,S];a(A),await u$(A);const I=S.calories;y(I)}catch(A){console.error("Error al agregar alimento al historial:",A)}}}};function oQ(t){return Ca({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(t)}function $D({message:t,onClose:e}){return L.useEffect(()=>{const n=setTimeout(()=>{e()},3e3);return()=>clearTimeout(n)},[e]),x.jsx("div",{className:"modal-overlay-user",children:x.jsxs("div",{className:"modal-content-user",children:[x.jsx("p",{children:t}),x.jsx("button",{className:"close-btn",onClick:e,children:x.jsx(oQ,{})})]})})}$D.propTypes={message:Le.string.isRequired,onClose:Le.func.isRequired};function HD({userData:t,isEditing:e,handleEditToggle:n,editedData:r,setEditedData:i,setIsSaving:s,dailyGoal:o,userUid:a,isSaving:l,setIsEditing:u,setUserData:c}){const[d,f]=L.useState(null),[m,y]=L.useState(!1);L.useEffect(()=>{t&&i({age:t.age||"",gender:t.gender||"male",goal:t.goal||"lose",weight:t.weight||"",height:t.height||"",activityLevel:t.activityLevel||"sedentary",calorieAdjustment:t.calorieAdjustment||""})},[t,i]);const g=v=>{const{name:_,value:S}=v.target;i(A=>({...A,[_]:S}))},b=async v=>{v.preventDefault(),s(!0);try{await QR(r,a),c(r),y(!0),s(!1),u(!1)}catch{s(!1),f("Error al guardar perfil. Intenta nuevamente.")}};return t?x.jsx("div",{className:"userprofile-container",children:x.jsxs("div",{className:"userprofile-content",children:[e?x.jsxs("form",{className:"userprofile-form",onSubmit:b,children:[x.jsx("h2",{className:"userprofile-title",children:"Edit your profile"}),x.jsxs("label",{className:"userprofile-label",children:["Age",x.jsx("input",{className:"userprofile-input",type:"number",name:"age",value:r.age,onChange:g,required:!0})]}),x.jsxs("label",{className:"userprofile-label",children:["Gender",x.jsxs("select",{className:"userprofile-select",name:"gender",value:r.gender,onChange:g,required:!0,children:[x.jsx("option",{value:"male",children:"Male"}),x.jsx("option",{value:"female",children:"Female"})]})]}),x.jsxs("label",{className:"userprofile-label",children:["Goal",x.jsxs("select",{className:"userprofile-select",name:"goal",value:r.goal,onChange:g,required:!0,children:[x.jsx("option",{value:"lose",children:"Lose weight"}),x.jsx("option",{value:"maintain",children:"Maintain weight"}),x.jsx("option",{value:"gain",children:"Gain muscle mass"})]})]}),x.jsxs("label",{className:"userprofile-label",children:["Weight (kg)",x.jsx("input",{className:"userprofile-input",type:"number",name:"weight",value:r.weight,onChange:g,required:!0})]}),x.jsxs("label",{className:"userprofile-label",children:["Height (cm)",x.jsx("input",{className:"userprofile-input",type:"number",name:"height",value:r.height,onChange:g,required:!0})]}),x.jsxs("label",{className:"userprofile-label",children:["Activity level",x.jsxs("select",{className:"userprofile-select",name:"activityLevel",value:r.activityLevel,onChange:g,required:!0,children:[x.jsx("option",{value:"sedentary",children:"Sedentary"}),x.jsx("option",{value:"light",children:"Light"}),x.jsx("option",{value:"moderate",children:"Moderate"}),x.jsx("option",{value:"intense",children:"Intense"}),x.jsx("option",{value:"veryIntense",children:"Very intense"})]})]}),r.goal==="lose"||r.goal==="gain"?x.jsxs("label",{className:"userprofile-label",children:[r.goal==="lose"?"Dficit calrico":"Supervit calrico"," (200-500 caloras):",x.jsx("input",{type:"number",name:"calorieAdjustment",min:"200",max:"500",value:r.calorieAdjustment,onChange:g,required:!0})]}):null,x.jsxs("div",{className:"userprofile-buttons",children:[x.jsx("button",{className:"userprofile-btn save",type:"submit",disabled:l,children:l?x.jsx(Ou,{color:"#fff",loading:!0,size:20}):"Save changes"}),x.jsx("button",{className:"userprofile-btn cancel",type:"button",onClick:n,children:"Cancel"})]})]}):x.jsxs("div",{className:"userprofile-info",children:[x.jsxs("ul",{className:"userprofile-list",children:[x.jsx("h2",{className:"userprofile-title",children:"Your profile"}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Age"})," ",t.age||"N/A"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Gender"})," ",t.gender||"N/A"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Goal"})," ",t.goal||"N/A"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Weight"})," ",t.weight||"N/A"," kg"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Height"})," ",t.height||"N/A"," cm"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Activity level"})," ",t.activityLevel||"N/A"]}),x.jsxs("li",{className:"userprofile-description",children:[x.jsx("p",{children:"Required calories"})," ",o||"N/A"," calories."]})]}),x.jsx("button",{className:"userprofile-btn edit",onClick:n,children:"Edit"})]}),d&&x.jsx("p",{className:"error-message",children:d}),m&&x.jsx($D,{message:"Profile updated successfully",onClose:()=>y(!1)})]})}):x.jsx("div",{className:"userprofile-container",children:x.jsx(Ou,{color:"#000",loading:!0,size:50})})}HD.propTypes={userData:Le.object.isRequired,isEditing:Le.bool.isRequired,handleEditToggle:Le.func.isRequired,setEditedData:Le.func.isRequired,setIsSaving:Le.func.isRequired,dailyGoal:Le.oneOfType([Le.number,Le.string]).isRequired,userUid:Le.string.isRequired,isSaving:Le.bool.isRequired,setIsEditing:Le.func.isRequired,setUserData:Le.func.isRequired,editedData:Le.object.isRequired};const WD=6048e5,aQ=864e5,A1=Symbol.for("constructDateFrom");function Hi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&A1 in t?t[A1](e):t instanceof Date?new t.constructor(e):new Date(e)}function Kn(t,e){return Hi(e||t,t)}let lQ={};function Lp(){return lQ}function Mu(t,e){var a,l,u,c;const n=Lp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Kn(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function bf(t,e){return Mu(t,{...e,weekStartsOn:1})}function qD(t,e){const n=Kn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Hi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=bf(i),o=Hi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=bf(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function R1(t){const e=Kn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function uQ(t,...e){const n=Hi.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function O1(t,e){const n=Kn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cQ(t,e,n){const[r,i]=uQ(n==null?void 0:n.in,t,e),s=O1(r),o=O1(i),a=+s-R1(s),l=+o-R1(o);return Math.round((a-l)/aQ)}function hQ(t,e){const n=qD(t,e),r=Hi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),bf(r)}function dQ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function fQ(t){return!(!dQ(t)&&typeof t!="number"||isNaN(+Kn(t)))}function pQ(t,e){const n=Kn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gQ=(t,e,n)=>{let r;const i=mQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const yQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Q={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wQ={date:Sg({formats:yQ,defaultWidth:"full"}),time:Sg({formats:vQ,defaultWidth:"full"}),dateTime:Sg({formats:_Q,defaultWidth:"full"})},bQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SQ=(t,e,n,r)=>bQ[t];function il(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const EQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TQ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xQ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},PQ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kQ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IQ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AQ={ordinalNumber:IQ,era:il({values:EQ,defaultWidth:"wide"}),quarter:il({values:TQ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:il({values:xQ,defaultWidth:"wide"}),day:il({values:PQ,defaultWidth:"wide"}),dayPeriod:il({values:CQ,defaultWidth:"wide",formattingValues:kQ,defaultFormattingWidth:"wide"})};function sl(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?OQ(a,d=>d.test(o)):RQ(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function RQ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function OQ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MQ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const DQ=/^(\d+)(th|st|nd|rd)?/i,LQ=/\d+/i,NQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},VQ={any:[/^b/i,/^(a|c)/i]},jQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FQ={any:[/1/i,/2/i,/3/i,/4/i]},UQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$Q={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qQ={ordinalNumber:MQ({matchPattern:DQ,parsePattern:LQ,valueCallback:t=>parseInt(t,10)}),era:sl({matchPatterns:NQ,defaultMatchWidth:"wide",parsePatterns:VQ,defaultParseWidth:"any"}),quarter:sl({matchPatterns:jQ,defaultMatchWidth:"wide",parsePatterns:FQ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sl({matchPatterns:UQ,defaultMatchWidth:"wide",parsePatterns:zQ,defaultParseWidth:"any"}),day:sl({matchPatterns:BQ,defaultMatchWidth:"wide",parsePatterns:$Q,defaultParseWidth:"any"}),dayPeriod:sl({matchPatterns:HQ,defaultMatchWidth:"any",parsePatterns:WQ,defaultParseWidth:"any"})},KQ={code:"en-US",formatDistance:gQ,formatLong:wQ,formatRelative:SQ,localize:AQ,match:qQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function GQ(t,e){const n=Kn(t,e==null?void 0:e.in);return cQ(n,pQ(n))+1}function YQ(t,e){const n=Kn(t,e==null?void 0:e.in),r=+bf(n)-+hQ(n);return Math.round(r/WD)+1}function KD(t,e){var c,d,f,m;const n=Kn(t,e==null?void 0:e.in),r=n.getFullYear(),i=Lp(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(f=i.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Hi((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Mu(o,e),l=Hi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Mu(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function QQ(t,e){var a,l,u,c;const n=Lp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=KD(t,e),s=Hi((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Mu(s,e)}function XQ(t,e){const n=Kn(t,e==null?void 0:e.in),r=+Mu(n,e)-+QQ(n,e);return Math.round(r/WD)+1}function Ee(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ei={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ee(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ee(n+1,2)},d(t,e){return Ee(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ee(t.getHours()%12||12,e.length)},H(t,e){return Ee(t.getHours(),e.length)},m(t,e){return Ee(t.getMinutes(),e.length)},s(t,e){return Ee(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ee(i,e.length)}},ro={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M1={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ei.y(t,e)},Y:function(t,e,n,r){const i=KD(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ee(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ee(s,e.length)},R:function(t,e){const n=qD(t);return Ee(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ee(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ee(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ee(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ei.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ee(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=XQ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ee(i,e.length)},I:function(t,e,n){const r=YQ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ee(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ei.d(t,e)},D:function(t,e,n){const r=GQ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ee(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ee(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ee(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ee(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ro.noon:r===0?i=ro.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ro.evening:r>=12?i=ro.afternoon:r>=4?i=ro.morning:i=ro.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ei.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ei.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ee(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ei.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ei.s(t,e)},S:function(t,e){return ei.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return L1(r);case"XXXX":case"XX":return ys(r);case"XXXXX":case"XXX":default:return ys(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return L1(r);case"xxxx":case"xx":return ys(r);case"xxxxx":case"xxx":default:return ys(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+D1(r,":");case"OOOO":default:return"GMT"+ys(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+D1(r,":");case"zzzz":default:return"GMT"+ys(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Ee(r,e.length)},T:function(t,e,n){return Ee(+t,e.length)}};function D1(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ee(s,2)}function L1(t,e){return t%60===0?(t>0?"-":"+")+Ee(Math.abs(t)/60,2):ys(t,e)}function ys(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ee(Math.trunc(r/60),2),s=Ee(r%60,2);return n+i+e+s}const N1=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},JQ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return N1(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",N1(r,e)).replace("{{time}}",GD(i,e))},ZQ={p:GD,P:JQ},eX=/^D+$/,tX=/^Y+$/,nX=["D","DD","YY","YYYY"];function rX(t){return eX.test(t)}function iX(t){return tX.test(t)}function sX(t,e,n){const r=oX(t,e,n);if(console.warn(r),nX.includes(t))throw new RangeError(r)}function oX(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aX=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lX=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uX=/^'([^]*?)'?$/,cX=/''/g,hX=/[a-zA-Z]/;function dX(t,e,n){var c,d,f,m;const r=Lp(),i=r.locale??KQ,s=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Kn(t,n==null?void 0:n.in);if(!fQ(a))throw new RangeError("Invalid time value");let l=e.match(lX).map(y=>{const g=y[0];if(g==="p"||g==="P"){const b=ZQ[g];return b(y,i.formatLong)}return y}).join("").match(aX).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const g=y[0];if(g==="'")return{isToken:!1,value:fX(y)};if(M1[g])return{isToken:!0,value:y};if(g.match(hX))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const g=y.value;(iX(g)||rX(g))&&sX(g,e,String(t));const b=M1[g[0]];return b(a,g,i.localize,u)}).join("")}function fX(t){const e=t.match(uX);return e?e[1].replace(cX,"'"):t}function pX(){const{userData:t,loading:e,error:n}=BD(),r=An.currentUser,[i,s]=L.useState(5),[o,a]=L.useState(!1);if(!r)return x.jsx("p",{children:"No ests autenticado. Por favor, inicia sesin."});if(n)return x.jsxs("p",{children:["Error al cargar el historial de alimentos: ",n.message]});const l=()=>{s(o?5:u.length),a(!o)},u=(t==null?void 0:t.foodHistory)||[];return x.jsxs("div",{className:"historial-container",children:[x.jsx("h4",{className:"historial-title",children:"Added calories history"}),x.jsxs("ul",{className:"historial-subtitle",children:[x.jsx("li",{className:"historial-name",children:"Name"}),x.jsx("li",{className:"historial-calories",children:"Calories"}),x.jsx("li",{className:"historial-date",children:"Date"})]}),e?x.jsxs("div",{className:"loading-container",children:[x.jsx(Ou,{size:60,color:"#4fa94d",loading:e}),x.jsx("p",{children:"Loading history..."})]}):u.length>0?x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"historial-list",children:u.slice(0,i).map((c,d)=>x.jsxs("li",{className:"historial-item",children:[x.jsx("span",{children:c.name}),x.jsxs("span",{className:"historial-item-calories",children:[c.calories," kcal"]}),x.jsx("span",{children:dX(new Date(c.date),"dd/MM/yyyy")})]},d))}),u.length>i||o?x.jsx("button",{className:"load-more-btn",onClick:l,children:o?"Show less":"Load more"}):null]}):x.jsx("p",{className:"historial-message",children:"You don't have any food history for today."})]})}/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var V1=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Hl={toTextLines:function(t){var e=[],n;for(t=[].concat(t);t.length;)n=t.pop(),typeof n=="string"?e.unshift.apply(e,n.split(`
`)):Array.isArray(n)?t.push.apply(t,n):xe(t)||e.unshift(""+n);return e},textSize:function(t,e,n){var r=[].concat(e),i=r.length,s=t.font,o=0,a;for(t.font=n.string,a=0;a<i;++a)o=Math.max(t.measureText(r[a]).width,o);return t.font=s,{height:i*n.lineHeight,width:o}},bound:function(t,e,n){return Math.max(t,Math.min(e,n))},arrayDiff:function(t,e){var n=t.slice(),r=[],i,s,o,a;for(i=0,o=e.length;i<o;++i)a=e[i],s=n.indexOf(a),s===-1?r.push([a,1]):n.splice(s,1);for(i=0,o=n.length;i<o;++i)r.push([n[i],-1]);return r},rasterize:function(t){return Math.round(t*V1)/V1}};function Eg(t,e){var n=e.x,r=e.y;if(n===null)return{x:0,y:-1};if(r===null)return{x:1,y:0};var i=t.x-n,s=t.y-r,o=Math.sqrt(i*i+s*s);return{x:o?i/o:0,y:o?s/o:-1}}function mX(t,e,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:t,y:e,vx:n,vy:r}}var gX=0,YD=1,QD=2,XD=4,JD=8;function Sh(t,e,n){var r=gX;return t<n.left?r|=YD:t>n.right&&(r|=QD),e<n.top?r|=JD:e>n.bottom&&(r|=XD),r}function yX(t,e){for(var n=t.x0,r=t.y0,i=t.x1,s=t.y1,o=Sh(n,r,e),a=Sh(i,s,e),l,u,c;!(!(o|a)||o&a);)l=o||a,l&JD?(u=n+(i-n)*(e.top-r)/(s-r),c=e.top):l&XD?(u=n+(i-n)*(e.bottom-r)/(s-r),c=e.bottom):l&QD?(c=r+(s-r)*(e.right-n)/(i-n),u=e.right):l&YD&&(c=r+(s-r)*(e.left-n)/(i-n),u=e.left),l===o?(n=u,r=c,o=Sh(n,r,e)):(i=u,s=c,a=Sh(i,s,e));return{x0:n,x1:i,y0:r,y1:s}}function Eh(t,e){var n=e.anchor,r=t,i,s;return e.clamp&&(r=yX(r,e.area)),n==="start"?(i=r.x0,s=r.y0):n==="end"?(i=r.x1,s=r.y1):(i=(r.x0+r.x1)/2,s=(r.y0+r.y1)/2),mX(i,s,t.vx,t.vy,e.align)}var Th={arc:function(t,e){var n=(t.startAngle+t.endAngle)/2,r=Math.cos(n),i=Math.sin(n),s=t.innerRadius,o=t.outerRadius;return Eh({x0:t.x+r*s,y0:t.y+i*s,x1:t.x+r*o,y1:t.y+i*o,vx:r,vy:i},e)},point:function(t,e){var n=Eg(t,e.origin),r=n.x*t.options.radius,i=n.y*t.options.radius;return Eh({x0:t.x-r,y0:t.y-i,x1:t.x+r,y1:t.y+i,vx:n.x,vy:n.y},e)},bar:function(t,e){var n=Eg(t,e.origin),r=t.x,i=t.y,s=0,o=0;return t.horizontal?(r=Math.min(t.x,t.base),s=Math.abs(t.base-t.x)):(i=Math.min(t.y,t.base),o=Math.abs(t.base-t.y)),Eh({x0:r,y0:i+o,x1:r+s,y1:i,vx:n.x,vy:n.y},e)},fallback:function(t,e){var n=Eg(t,e.origin);return Eh({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:n.x,vy:n.y},e)}},Rr=Hl.rasterize;function vX(t){var e=t.borderWidth||0,n=t.padding,r=t.size.height,i=t.size.width,s=-i/2,o=-r/2;return{frame:{x:s-n.left-e,y:o-n.top-e,w:i+n.width+e*2,h:r+n.height+e*2},text:{x:s,y:o,w:i,h:r}}}function _X(t,e){var n=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!n)return null;if(n.xCenter!==void 0&&n.yCenter!==void 0)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return t.horizontal?{x:r,y:null}:{x:null,y:r}}function wX(t){return t instanceof xs?Th.arc:t instanceof id?Th.point:t instanceof sd?Th.bar:Th.fallback}function bX(t,e,n,r,i,s){var o=Math.PI/2;if(s){var a=Math.min(s,i/2,r/2),l=e+a,u=n+a,c=e+r-a,d=n+i-a;t.moveTo(e,u),l<c&&u<d?(t.arc(l,u,a,-Math.PI,-o),t.arc(c,u,a,-o,0),t.arc(c,d,a,0,o),t.arc(l,d,a,o,Math.PI)):l<c?(t.moveTo(l,n),t.arc(c,u,a,-o,o),t.arc(l,u,a,o,Math.PI+o)):u<d?(t.arc(l,u,a,-Math.PI,0),t.arc(l,d,a,0,Math.PI)):t.arc(l,u,a,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,r,i)}function SX(t,e,n){var r=n.backgroundColor,i=n.borderColor,s=n.borderWidth;!r&&(!i||!s)||(t.beginPath(),bX(t,Rr(e.x)+s/2,Rr(e.y)+s/2,Rr(e.w)-s,Rr(e.h)-s,n.borderRadius),t.closePath(),r&&(t.fillStyle=r,t.fill()),i&&s&&(t.strokeStyle=i,t.lineWidth=s,t.lineJoin="miter",t.stroke()))}function EX(t,e,n){var r=n.lineHeight,i=t.w,s=t.x,o=t.y+r/2;return e==="center"?s+=i/2:(e==="end"||e==="right")&&(s+=i),{h:r,w:i,x:s,y:o}}function TX(t,e,n){var r=t.shadowBlur,i=n.stroked,s=Rr(n.x),o=Rr(n.y),a=Rr(n.w);i&&t.strokeText(e,s,o,a),n.filled&&(r&&i&&(t.shadowBlur=0),t.fillText(e,s,o,a),r&&i&&(t.shadowBlur=r))}function xX(t,e,n,r){var i=r.textAlign,s=r.color,o=!!s,a=r.font,l=e.length,u=r.textStrokeColor,c=r.textStrokeWidth,d=u&&c,f;if(!(!l||!o&&!d))for(n=EX(n,i,a),t.font=a.string,t.textAlign=i,t.textBaseline="middle",t.shadowBlur=r.textShadowBlur,t.shadowColor=r.textShadowColor,o&&(t.fillStyle=s),d&&(t.lineJoin="round",t.lineWidth=c,t.strokeStyle=u),f=0,l=e.length;f<l;++f)TX(t,e[f],{stroked:d,filled:o,w:n.w,x:n.x,y:n.y+n.h*f})}var ZD=function(t,e,n,r){var i=this;i._config=t,i._index=r,i._model=null,i._rects=null,i._ctx=e,i._el=n};pr(ZD.prototype,{_modelize:function(t,e,n,r){var i=this,s=i._index,o=xt(De([n.font,{}],r,s)),a=De([n.color,Xe.color],r,s);return{align:De([n.align,"center"],r,s),anchor:De([n.anchor,"center"],r,s),area:r.chart.chartArea,backgroundColor:De([n.backgroundColor,null],r,s),borderColor:De([n.borderColor,null],r,s),borderRadius:De([n.borderRadius,0],r,s),borderWidth:De([n.borderWidth,0],r,s),clamp:De([n.clamp,!1],r,s),clip:De([n.clip,!1],r,s),color:a,display:t,font:o,lines:e,offset:De([n.offset,4],r,s),opacity:De([n.opacity,1],r,s),origin:_X(i._el,r),padding:wn(De([n.padding,4],r,s)),positioner:wX(i._el),rotation:De([n.rotation,0],r,s)*(Math.PI/180),size:Hl.textSize(i._ctx,e,o),textAlign:De([n.textAlign,"start"],r,s),textShadowBlur:De([n.textShadowBlur,0],r,s),textShadowColor:De([n.textShadowColor,a],r,s),textStrokeColor:De([n.textStrokeColor,a],r,s),textStrokeWidth:De([n.textStrokeWidth,0],r,s)}},update:function(t){var e=this,n=null,r=null,i=e._index,s=e._config,o,a,l,u=De([s.display,!0],t,i);u&&(o=t.dataset.data[i],a=we(Ce(s.formatter,[o,t]),o),l=xe(a)?[]:Hl.toTextLines(a),l.length&&(n=e._modelize(u,l,s,t),r=vX(n))),e._model=n,e._rects=r},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var n=this,r=t.ctx,i=n._model,s=n._rects,o;this.visible()&&(r.save(),i.clip&&(o=i.area,r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()),r.globalAlpha=Hl.bound(0,i.opacity,1),r.translate(Rr(e.x),Rr(e.y)),r.rotate(i.rotation),SX(r,s.frame,i),xX(r,i.lines,s.text,i),r.restore())}});var PX=Number.MIN_SAFE_INTEGER||-9007199254740991,CX=Number.MAX_SAFE_INTEGER||9007199254740991;function ol(t,e,n){var r=Math.cos(n),i=Math.sin(n),s=e.x,o=e.y;return{x:s+r*(t.x-s)-i*(t.y-o),y:o+i*(t.x-s)+r*(t.y-o)}}function j1(t,e){var n=CX,r=PX,i=e.origin,s,o,a,l,u;for(s=0;s<t.length;++s)o=t[s],a=o.x-i.x,l=o.y-i.y,u=e.vx*a+e.vy*l,n=Math.min(n,u),r=Math.max(r,u);return{min:n,max:r}}function xh(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);return{vx:(e.x-t.x)/i,vy:(e.y-t.y)/i,origin:t,ln:i}}var e2=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};pr(e2.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,n){this._rotation=n,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,n=1,r=e._rect;return t=ol(t,e.center(),-e._rotation),!(t.x<r.x-n||t.y<r.y-n||t.x>r.x+r.w+n*2||t.y>r.y+r.h+n*2)},intersects:function(t){var e=this._points(),n=t._points(),r=[xh(e[0],e[1]),xh(e[0],e[3])],i,s,o;for(this._rotation!==t._rotation&&r.push(xh(n[0],n[1]),xh(n[0],n[3])),i=0;i<r.length;++i)if(s=j1(e,r[i]),o=j1(n,r[i]),s.max<o.min||o.max<s.min)return!1;return!0},_points:function(){var t=this,e=t._rect,n=t._rotation,r=t.center();return[ol({x:e.x,y:e.y},r,n),ol({x:e.x+e.w,y:e.y},r,n),ol({x:e.x+e.w,y:e.y+e.h},r,n),ol({x:e.x,y:e.y+e.h},r,n)]}});function t2(t,e,n){var r=e.positioner(t,e),i=r.vx,s=r.vy;if(!i&&!s)return{x:r.x,y:r.y};var o=n.w,a=n.h,l=e.rotation,u=Math.abs(o/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),c=Math.abs(o/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),d=1/Math.max(Math.abs(i),Math.abs(s));return u*=i*d,c*=s*d,u+=e.offset*i,c+=e.offset*s,{x:r.x+u,y:r.y+c}}function kX(t,e){var n,r,i,s;for(n=t.length-1;n>=0;--n)for(i=t[n].$layout,r=n-1;r>=0&&i._visible;--r)s=t[r].$layout,s._visible&&i._box.intersects(s._box)&&e(i,s);return t}function IX(t){var e,n,r,i,s,o,a;for(e=0,n=t.length;e<n;++e)r=t[e],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(l,u)=>l.getProps([u],!0)[u]}),s=r.geometry(),o=t2(a,r.model(),s),i._box.update(o,s,r.rotation()));return kX(t,function(l,u){var c=l._hidable,d=u._hidable;c&&d||d?u._visible=!1:c&&(l._visible=!1)})}var Wl={prepare:function(t){var e=[],n,r,i,s,o;for(n=0,i=t.length;n<i;++n)for(r=0,s=t[n].length;r<s;++r)o=t[n][r],e.push(o),o.$layout={_box:new e2,_hidable:!1,_visible:!0,_set:n,_idx:o._index};return e.sort(function(a,l){var u=a.$layout,c=l.$layout;return u._idx===c._idx?c._set-u._set:c._idx-u._idx}),this.update(e),e},update:function(t){var e=!1,n,r,i,s,o;for(n=0,r=t.length;n<r;++n)i=t[n],s=i.model(),o=i.$layout,o._hidable=s&&s.display==="auto",o._visible=i.visible(),e|=o._hidable;e&&IX(t)},lookup:function(t,e){var n,r;for(n=t.length-1;n>=0;--n)if(r=t[n].$layout,r&&r._visible&&r._box.contains(e))return t[n];return null},draw:function(t,e){var n,r,i,s,o,a;for(n=0,r=e.length;n<r;++n)i=e[n],s=i.$layout,s._visible&&(o=i.geometry(),a=t2(i._el,i.model(),o),s._box.update(a,o,i.rotation()),i.draw(t,a))}},AX=function(t){if(xe(t))return null;var e=t,n,r,i;if(ye(t))if(!xe(t.label))e=t.label;else if(!xe(t.r))e=t.r;else for(e="",n=Object.keys(t),i=0,r=n.length;i<r;++i)e+=(i!==0?", ":"")+n[i]+": "+t[n[i]];return""+e},RX={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:AX,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},tn="$datalabels",n2="$default";function OX(t,e){var n=t.datalabels,r={},i=[],s,o;return n===!1?null:(n===!0&&(n={}),e=pr({},[e,n]),s=e.labels||{},o=Object.keys(s),delete e.labels,o.length?o.forEach(function(a){s[a]&&i.push(pr({},[e,s[a],{_key:a}]))}):i.push(e),r=i.reduce(function(a,l){return be(l.listeners||{},function(u,c){a[c]=a[c]||{},a[c][l._key||n2]=u}),delete l.listeners,a},{}),{labels:i,listeners:r})}function Ov(t,e,n,r){if(e){var i=n.$context,s=n.$groups,o;e[s._set]&&(o=e[s._set][s._key],o&&Ce(o,[i,r])===!0&&(t[tn]._dirty=!0,n.update(i)))}}function MX(t,e,n,r,i){var s,o;!n&&!r||(n?r?n!==r&&(o=s=!0):o=!0:s=!0,o&&Ov(t,e.leave,n,i),s&&Ov(t,e.enter,r,i))}function DX(t,e){var n=t[tn],r=n._listeners,i,s;if(!(!r.enter&&!r.leave)){if(e.type==="mousemove")s=Wl.lookup(n._labels,e);else if(e.type!=="mouseout")return;i=n._hovered,n._hovered=s,MX(t,r,i,s,e)}}function LX(t,e){var n=t[tn],r=n._listeners.click,i=r&&Wl.lookup(n._labels,e);i&&Ov(t,r,i,e)}var NX={id:"datalabels",defaults:RX,beforeInit:function(t){t[tn]={_actives:[]}},beforeUpdate:function(t){var e=t[tn];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,n){var r=e.index,i=t[tn],s=i._datasets[r]=[],o=t.isDatasetVisible(r),a=t.data.datasets[r],l=OX(a,n),u=e.meta.data||[],c=t.ctx,d,f,m,y,g,b,v,_;for(c.save(),d=0,m=u.length;d<m;++d)if(v=u[d],v[tn]=[],o&&v&&t.getDataVisibility(d)&&!v.skip)for(f=0,y=l.labels.length;f<y;++f)g=l.labels[f],b=g._key,_=new ZD(g,c,v,d),_.$groups={_set:r,_key:b||n2},_.$context={active:!1,chart:t,dataIndex:d,dataset:a,datasetIndex:r},_.update(_.$context),v[tn].push(_),s.push(_);c.restore(),pr(i._listeners,l.listeners,{merger:function(S,A,I){A[S]=A[S]||{},A[S][e.index]=I[S],i._listened=!0}})},afterUpdate:function(t){t[tn]._labels=Wl.prepare(t[tn]._datasets)},afterDatasetsDraw:function(t){Wl.draw(t,t[tn]._labels)},beforeEvent:function(t,e){if(t[tn]._listened){var n=e.event;switch(n.type){case"mousemove":case"mouseout":DX(t,n);break;case"click":LX(t,n);break}}},afterEvent:function(t){var e=t[tn],n=e._actives,r=e._actives=t.getActiveElements(),i=Hl.arrayDiff(n,r),s,o,a,l,u,c,d;for(s=0,o=i.length;s<o;++s)if(u=i[s],u[1])for(d=u[0].element[tn]||[],a=0,l=d.length;a<l;++a)c=d[a],c.$context.active=u[1]===1,c.update(c.$context);(e._dirty||i.length)&&(Wl.update(e._labels),t.render()),delete e._dirty}};hc.register(kY,LD,OD,xs,Av,Rv,NX);const Zt={overGoal:"#FF5722",goalAchieved:"#66BB6A",remaining:"#E0E0E0"},VX=(t,e)=>t-e,jX=(t,e)=>e/t*100;function r2({caloriesConsumed:t,dailyGoal:e}){const n=VX(e,t),r=jX(e,t),i=t>e,s=t===e,o=L.useMemo(()=>({labels:["Calories Consumed","Calories left"],datasets:[{label:"Caloras",data:i?[t,0]:s?[t,0]:[t,n],backgroundColor:i?[Zt.overGoal,Zt.remaining]:s?[Zt.goalAchieved,Zt.remaining]:[Zt.goalAchieved,Zt.remaining],borderColor:i?[Zt.overGoal,Zt.remaining]:s?[Zt.goalAchieved,Zt.remaining]:[Zt.goalAchieved,Zt.remaining],borderWidth:.5,cutout:"70%"}]}),[t,e,i,s,n]),[a,l]=L.useState({responsive:!0,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Progress of the Day",font:{family:"Poppins",size:24,weight:"bold"}},legend:{labels:{font:{size:14}}},tooltip:{enabled:!0,mode:"nearest",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.7)",titleFont:{size:16,weight:"light",color:"#4F4F4F"},bodyFont:{size:14,color:"#4F4F4F"},callbacks:{label:function(u){const c=u.raw,d=u.label;return d==="Calories Consumed"?`Consumed: ${c} kcal`:`${d}: ${c} kcal`}}},datalabels:{display:!1}}});return x.jsxs("div",{className:"radial-chart-container",children:[x.jsx("div",{className:"radial-chart",children:x.jsx(FD,{data:o,options:a})}),x.jsx("div",{className:"radial-chart-text",children:i?x.jsx(x.Fragment,{children:x.jsx("p",{className:"radial-chart-goal exced",style:{color:Zt.overGoal},children:"You've exceeded your limit!"})}):s?x.jsx(x.Fragment,{children:x.jsx("p",{className:"radial-chart-goal archived",style:{color:Zt.goalAchieved},children:"Goal achieved!"})}):x.jsxs(x.Fragment,{children:[r.toFixed(1),"% ",x.jsx("p",{children:" Completed"})]})})]})}r2.propTypes={caloriesConsumed:Le.number.isRequired,dailyGoal:Le.number.isRequired};function FX(){var A;const{userData:t,isEditing:e,foodHistory:n,dailyGoal:r,isLoading:i,setIsEditing:s,setUserData:o,saveUserProfile:a,handleAddFoodToHistory:l}=BD(),{caloriesConsumed:u}=dc(),c=Math.round(u),[d,f]=L.useState({age:(t==null?void 0:t.age)||"",gender:(t==null?void 0:t.gender)||"male",goal:(t==null?void 0:t.goal)||"lose",weight:(t==null?void 0:t.weight)||"",height:(t==null?void 0:t.height)||"",activityLevel:(t==null?void 0:t.activityLevel)||"sedentary",calorieAdjustment:(t==null?void 0:t.calorieAdjustment)||""}),[m,y]=L.useState(!1),[g,b]=L.useState(null),_=(A=e0().currentUser)==null?void 0:A.uid;if(!_)return x.jsx("div",{children:"Error: No ests autenticado o no se pudo obtener tu correo electrnico."});const S=async I=>{I.preventDefault(),y(!0),b(null);try{await a(d,_),y(!1),s(!1)}catch(M){y(!1),b("Error al guardar perfil. Intenta nuevamente."),console.error("Error al guardar perfil: ",M)}};return i?x.jsx("div",{children:"Loading..."}):x.jsxs("div",{className:"dashboard container",children:[x.jsxs("div",{className:"dashboard-container",children:[x.jsx("h1",{className:"dashboard-container-title",children:"Welcome to your Dashboard"}),x.jsxs("div",{className:"dashboard-container-descrip",children:[x.jsxs("p",{className:"dashboard-container-number",children:["Goal of the day ",x.jsx("strong",{children:r})]}),x.jsxs("p",{className:"dashboard-container-cal",children:["Calories consumed ",x.jsx("strong",{children:Math.round(c)})]})]})]}),x.jsxs("div",{className:"flex-container",children:[x.jsx(r2,{caloriesConsumed:u,dailyGoal:r,protein:t.protein||120,carbs:t.carbs||250,fats:t.fats||60}),x.jsx(HD,{userData:t,setEditedData:f,isEditing:e,editedData:d,setUserData:o,setIsSaving:y,setIsEditing:s,handleEditToggle:()=>s(!e),handleChange:I=>f(M=>({...M,[I.target.name]:I.target.value})),handleSubmit:S,dailyGoal:r,isSaving:m,userUid:_})]}),g&&x.jsx("p",{className:"error-message",children:g})," ",x.jsx(pX,{foodHistory:n,handleAddFoodToHistory:l})]})}function UX(){return x.jsx(x.Fragment,{children:x.jsxs("footer",{className:"footer container",children:[x.jsxs("div",{className:"footer-container",children:[x.jsxs("div",{className:"footer-section principal",children:[x.jsx("h3",{children:"CaloriePro"}),x.jsx("p",{children:"Your ideal tool to manage calories and achieve your health goals."})]}),x.jsxs("div",{className:"footer-section contact",children:[x.jsx("h4",{children:"Contact Us"}),x.jsxs("div",{className:"social-icons",children:[x.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:x.jsx("i",{className:"ri-facebook-circle-line"})}),x.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:x.jsx("i",{className:"ri-twitter-line"})}),x.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:x.jsx("i",{className:"ri-instagram-line"})})]})]})]}),x.jsx("div",{className:"footer-bottom",children:x.jsxs("p",{children:[" ",new Date().getFullYear()," CaloriePro. All rights reserved."]})})]})})}function F1({children:t}){const{isAuthenticated:e}=vp();return e?t:x.jsx(Vj,{to:"/",replace:!0})}function i2({openSignUpModal:t}){const e=()=>{t()},n=()=>{const r=document.getElementById("benefits");r&&r.scrollIntoView({behavior:"smooth"})};return x.jsx("div",{className:"hero container",children:x.jsxs("div",{className:"hero-text",children:[x.jsx("h1",{className:"hero-title",children:"Keep track of your calorie intake"}),x.jsx("p",{className:"hero-subtitle",children:"CaloriePro will help you keep track of your daily calories and achieve your goals."}),x.jsxs("div",{className:"hero-buttons",children:[x.jsx("button",{className:"hero-button started",onClick:e,children:"Get started"}),x.jsxs("button",{className:"hero-button learn",onClick:n,children:[x.jsx("span",{className:"arrow",children:x.jsx("i",{className:"ri-arrow-right-line"})}),"Learn more"]})]})]})})}i2.propTypes={openSignUpModal:Le.func.isRequired};const zX=Bn.memo(()=>x.jsxs("div",{className:"card container",children:[x.jsxs("div",{className:"card-content",children:[x.jsxs("h3",{className:"card-title",children:[x.jsx(JY,{style:{color:"#005FA8",marginRight:"8px"}}),"Calorie tracker"]}),x.jsx("p",{className:"card-description",children:"Keep precise track of your daily calorie intake with just a few clicks."})]}),x.jsxs("div",{className:"card-content",children:[x.jsxs("h3",{className:"card-title",children:[x.jsx(YY,{style:{color:"#005FA8",marginRight:"8px"}}),"Personalized Dashboard"]}),x.jsx("p",{className:"card-description",children:"View your progress and set goals easily."})]}),x.jsxs("div",{className:"card-content",children:[x.jsxs("h3",{className:"card-title",children:[x.jsx(QY,{style:{color:"#005FA8",marginRight:"8px"}}),"Food History"]}),x.jsx("p",{className:"card-description",children:"Review all the foods you've logged and track your calorie intake."})]})]}));var s2={},o2={},Np={},a2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(a2);var BX="Expected a function",U1=NaN,$X="[object Symbol]",HX=/^\s+|\s+$/g,WX=/^[-+]0x[0-9a-f]+$/i,qX=/^0b[01]+$/i,KX=/^0o[0-7]+$/i,GX=parseInt,YX=typeof yt=="object"&&yt&&yt.Object===Object&&yt,QX=typeof self=="object"&&self&&self.Object===Object&&self,XX=YX||QX||Function("return this")(),JX=Object.prototype,ZX=JX.toString,eJ=Math.max,tJ=Math.min,Tg=function(){return XX.Date.now()};function nJ(t,e,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(BX);e=z1(e)||0,Mv(n)&&(c=!!n.leading,d="maxWait"in n,s=d?eJ(z1(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(M){var C=r,E=i;return r=i=void 0,u=M,o=t.apply(E,C),o}function y(M){return u=M,a=setTimeout(v,e),c?m(M):o}function g(M){var C=M-l,E=M-u,T=e-C;return d?tJ(T,s-E):T}function b(M){var C=M-l,E=M-u;return l===void 0||C>=e||C<0||d&&E>=s}function v(){var M=Tg();if(b(M))return _(M);a=setTimeout(v,g(M))}function _(M){return a=void 0,f&&r?m(M):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function A(){return a===void 0?o:_(Tg())}function I(){var M=Tg(),C=b(M);if(r=arguments,i=this,l=M,C){if(a===void 0)return y(l);if(d)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return I.cancel=S,I.flush=A,I}function Mv(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function rJ(t){return!!t&&typeof t=="object"}function iJ(t){return typeof t=="symbol"||rJ(t)&&ZX.call(t)==$X}function z1(t){if(typeof t=="number")return t;if(iJ(t))return U1;if(Mv(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mv(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(HX,"");var n=qX.test(t);return n||KX.test(t)?GX(t.slice(2),n?2:8):WX.test(t)?U1:+t}var sJ=nJ,l2={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(l2);var Vp=l2.exports,H={},Bw={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(L);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(Bw);Object.defineProperty(H,"__esModule",{value:!0});H.checkSpecKeys=H.checkNavigable=H.changeSlide=H.canUseDOM=H.canGoNext=void 0;H.clamp=c2;H.extractObject=void 0;H.filterSettings=wJ;H.validSettings=H.swipeStart=H.swipeMove=H.swipeEnd=H.slidesOnRight=H.slidesOnLeft=H.slideHandler=H.siblingDirection=H.safePreventDefault=H.lazyStartIndex=H.lazySlidesOnRight=H.lazySlidesOnLeft=H.lazyEndIndex=H.keyHandler=H.initializedState=H.getWidth=H.getTrackLeft=H.getTrackCSS=H.getTrackAnimateCSS=H.getTotalSlides=H.getSwipeDirection=H.getSlideCount=H.getRequiredLazySlides=H.getPreClones=H.getPostClones=H.getOnDemandLazySlides=H.getNavigableIndexes=H.getHeight=void 0;var oJ=u2(L),aJ=u2(Bw);function u2(t){return t&&t.__esModule?t:{default:t}}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function B1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=cJ(t,"string");return Du(e)=="symbol"?e:String(e)}function cJ(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c2(t,e,n){return Math.max(e,Math.min(t,n))}var Fo=H.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},h2=H.getOnDemandLazySlides=function(e){for(var n=[],r=d2(e),i=f2(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};H.getRequiredLazySlides=function(e){for(var n=[],r=d2(e),i=f2(e),s=r;s<i;s++)n.push(s);return n};var d2=H.lazyStartIndex=function(e){return e.currentSlide-hJ(e)},f2=H.lazyEndIndex=function(e){return e.currentSlide+dJ(e)},hJ=H.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},dJ=H.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Dv=H.getWidth=function(e){return e&&e.offsetWidth||0},p2=H.getHeight=function(e){return e&&e.offsetHeight||0},m2=H.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},g2=H.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};H.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};H.initializedState=function(e){var n=oJ.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Dv(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(Dv(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&p2(r.querySelector('[data-index="0"]')),c=u*e.slidesToShow,d=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(d=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=h2(Ne(Ne({},e),{},{currentSlide:d,lazyLoadedList:f}));f=f.concat(m);var y={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:d,slideHeight:u,listHeight:c,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};H.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,c=e.centerMode,d=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(n&&r)return{};var g=o,b,v,_,S={},A={},I=s?o:c2(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?g=o+a:o>=a&&(g=o-a),l&&y.indexOf(g)<0&&(y=y.concat(g)),S={animating:!0,currentSlide:g,lazyLoadedList:y,targetSlide:g},A={animating:!1,targetSlide:g}}else b=g,g<0?(b=g+a,s?a%d!==0&&(b=a-a%d):b=0):!g2(e)&&g>u?g=b=u:c&&g>=a?(g=s?a:a-1,b=s?0:a-1):g>=a&&(b=g-a,s?a%d!==0&&(b=0):b=a-f),!s&&g+f>=a&&(b=a-f),v=Ef(Ne(Ne({},e),{},{slideIndex:g})),_=Ef(Ne(Ne({},e),{},{slideIndex:b})),s||(v===_&&(g=b),v=_),l&&(y=y.concat(h2(Ne(Ne({},e),{},{currentSlide:g})))),m?(S={animating:!0,currentSlide:b,trackStyle:y2(Ne(Ne({},e),{},{left:v})),lazyLoadedList:y,targetSlide:I},A={animating:!1,currentSlide:b,trackStyle:Sf(Ne(Ne({},e),{},{left:_})),swipeLeft:null,targetSlide:I}):S={currentSlide:b,trackStyle:Sf(Ne(Ne({},e),{},{left:_})),lazyLoadedList:y,targetSlide:I};return{state:S,nextState:A}};H.changeSlide=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,d=e.currentSlide,f=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(o=c%l!==0,r=o?0:(c-d)%l,n.message==="previous")s=r===0?l:u-r,a=d-s,m&&!y&&(i=d-s,a=i===-1?c-1:i),y||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=d+s,m&&!y&&(a=(d+l)%c+r),y||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,y){var g=gJ(Ne(Ne({},e),{},{targetSlide:a}));a>n.currentSlide&&g==="left"?a=a-c:a<n.currentSlide&&g==="right"&&(a=a+c)}}else n.message==="index"&&(a=Number(n.index));return a};H.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};H.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Fo(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};H.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,c=n.edgeFriction,d=n.edgeDragged,f=n.onEdge,m=n.swiped,y=n.swiping,g=n.slideCount,b=n.slidesToScroll,v=n.infinite,_=n.touchObject,S=n.swipeEvent,A=n.listHeight,I=n.listWidth;if(!r){if(i)return Fo(e);s&&o&&a&&Fo(e);var M,C={},E=Ef(n);_.curX=e.touches?e.touches[0].pageX:e.clientX,_.curY=e.touches?e.touches[0].pageY:e.clientY,_.swipeLength=Math.round(Math.sqrt(Math.pow(_.curX-_.startX,2)));var T=Math.round(Math.sqrt(Math.pow(_.curY-_.startY,2)));if(!a&&!y&&T>10)return{scrolling:!0};a&&(_.swipeLength=T);var P=(l?-1:1)*(_.curX>_.startX?1:-1);a&&(P=_.curY>_.startY?1:-1);var O=Math.ceil(g/b),D=m2(n.touchObject,a),R=_.swipeLength;return v||(u===0&&(D==="right"||D==="down")||u+1>=O&&(D==="left"||D==="up")||!g2(n)&&(D==="left"||D==="up"))&&(R=_.swipeLength*c,d===!1&&f&&(f(D),C.edgeDragged=!0)),!m&&S&&(S(D),C.swiped=!0),s?M=E+R*(A/I)*P:l?M=E-R*P:M=E+R*P,a&&(M=E+R*P),C=Ne(Ne({},C),{},{touchObject:_,swipeLeft:M,trackStyle:Sf(Ne(Ne({},n),{},{left:M}))}),Math.abs(_.curX-_.startX)<Math.abs(_.curY-_.startY)*.8||_.swipeLength>10&&(C.swiping=!0,Fo(e)),C}};H.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,c=n.swipeToSlide,d=n.scrolling,f=n.onSwipe,m=n.targetSlide,y=n.currentSlide,g=n.infinite;if(!r)return i&&Fo(e),{};var b=l?u/a:o/a,v=m2(s,l),_={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d||!s.swipeLength)return _;if(s.swipeLength>b){Fo(e),f&&f(v);var S,A,I=g?y:m;switch(v){case"left":case"up":A=I+H1(n),S=c?$1(n,A):A,_.currentDirection=0;break;case"right":case"down":A=I-H1(n),S=c?$1(n,A):A,_.currentDirection=1;break;default:S=I}_.triggerSlideHandler=S}else{var M=Ef(n);_.trackStyle=y2(Ne(Ne({},n),{},{left:M}))}return _};var fJ=H.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},$1=H.checkNavigable=function(e,n){var r=fJ(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},H1=H.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+p2(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Dv(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},$w=H.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},Sf=H.getTrackCSS=function(e){$w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=mJ(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Ne(Ne({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},y2=H.getTrackAnimateCSS=function(e){$w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Sf(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},Ef=H.getTrackLeft=function(e){if(e.unslick)return 0;$w(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,c=e.listWidth,d=e.variableWidth,f=e.slideHeight,m=e.fade,y=e.vertical,g=0,b,v,_=0;if(m||e.slideCount===1)return 0;var S=0;if(i?(S=-od(e),o%l!==0&&n+l>o&&(S=-(n>o?a-(n-o):o%l)),s&&(S+=parseInt(a/2))):(o%l!==0&&n+l>o&&(S=a-o%l),s&&(S=parseInt(a/2))),g=S*u,_=S*f,y?b=n*f*-1+_:b=n*u*-1+g,d===!0){var A,I=r&&r.node;if(A=n+od(e),v=I&&I.childNodes[A],b=v?v.offsetLeft*-1:0,s===!0){A=i?n+od(e):n,v=I&&I.children[A],b=0;for(var M=0;M<A;M++)b-=I&&I.children[M]&&I.children[M].offsetWidth;b-=parseInt(e.centerPadding),b+=v&&(c-v.offsetWidth)/2}}return b},od=H.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},pJ=H.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},mJ=H.getTotalSlides=function(e){return e.slideCount===1?1:od(e)+e.slideCount+pJ(e)},gJ=H.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+yJ(e)?"left":"right":e.targetSlide<e.currentSlide-vJ(e)?"right":"left"},yJ=H.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},vJ=H.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};H.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var _J=H.validSettings=Object.keys(aJ.default);function wJ(t){return _J.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var jp={};Object.defineProperty(jp,"__esModule",{value:!0});jp.Track=void 0;var si=v2(L),xg=v2(Vp),Pg=H;function v2(t){return t&&t.__esModule?t:{default:t}}function aa(t){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aa(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lv.apply(this,arguments)}function bJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w2(r.key),r)}}function EJ(t,e,n){return e&&SJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nv(t,e)}function Nv(t,e){return Nv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nv(t,e)}function xJ(t){var e=_2();return function(){var r=Tf(t),i;if(e){var s=Tf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PJ(this,i)}}function PJ(t,e){if(e&&(aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vv(t)}function Vv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_2=function(){return!!t})()}function Tf(t){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(t)}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){jv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jv(t,e,n){return e=w2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t){var e=CJ(t,"string");return aa(e)=="symbol"?e:String(e)}function CJ(t,e){if(aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cg=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},kJ=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},kg=function(e,n){return e.key||n},IJ=function(e){var n,r=[],i=[],s=[],o=si.default.Children.count(e.children),a=(0,Pg.lazyStartIndex)(e),l=(0,Pg.lazyEndIndex)(e);return si.default.Children.forEach(e.children,function(u,c){var d,f={message:"children",index:c,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(c)>=0?d=u:d=si.default.createElement("div",null);var m=kJ(en(en({},e),{},{index:c})),y=d.props.className||"",g=Cg(en(en({},e),{},{index:c}));if(r.push(si.default.cloneElement(d,{key:"original"+kg(d,c),"data-index":c,className:(0,xg.default)(g,y),tabIndex:"-1","aria-hidden":!g["slick-active"],style:en(en({outline:"none"},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var b=o-c;b<=(0,Pg.getPreClones)(e)&&(n=-b,n>=a&&(d=u),g=Cg(en(en({},e),{},{index:n})),i.push(si.default.cloneElement(d,{key:"precloned"+kg(d,n),"data-index":n,tabIndex:"-1",className:(0,xg.default)(g,y),"aria-hidden":!g["slick-active"],style:en(en({},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=o+c,n<l&&(d=u),g=Cg(en(en({},e),{},{index:n})),s.push(si.default.cloneElement(d,{key:"postcloned"+kg(d,n),"data-index":n,tabIndex:"-1",className:(0,xg.default)(g,y),"aria-hidden":!g["slick-active"],style:en(en({},d.props.style||{}),m),onClick:function(_){d.props&&d.props.onClick&&d.props.onClick(_),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};jp.Track=function(t){TJ(n,t);var e=xJ(n);function n(){var r;bJ(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),jv(Vv(r),"node",null),jv(Vv(r),"handleRef",function(a){r.node=a}),r}return EJ(n,[{key:"render",value:function(){var i=IJ(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,u={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return si.default.createElement("div",Lv({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(si.default.PureComponent);var Fp={};function la(t){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},la(t)}Object.defineProperty(Fp,"__esModule",{value:!0});Fp.Dots=void 0;var Ph=b2(L),AJ=b2(Vp),q1=H;function b2(t){return t&&t.__esModule?t:{default:t}}function K1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K1(Object(n),!0).forEach(function(r){OJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OJ(t,e,n){return e=S2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S2(r.key),r)}}function LJ(t,e,n){return e&&DJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S2(t){var e=NJ(t,"string");return la(e)=="symbol"?e:String(e)}function NJ(t,e){if(la(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(la(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fv(t,e)}function jJ(t){var e=E2();return function(){var r=xf(t),i;if(e){var s=xf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return FJ(this,i)}}function FJ(t,e){if(e&&(la(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UJ(t)}function UJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E2=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(t)}var zJ=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Fp.Dots=function(t){VJ(n,t);var e=jJ(n);function n(){return MJ(this,n),e.apply(this,arguments)}return LJ(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,c=i.slidesToShow,d=i.slideCount,f=i.currentSlide,m=zJ({slideCount:d,slidesToScroll:u,slidesToShow:c,infinite:l}),y={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},g=[],b=0;b<m;b++){var v=(b+1)*u-1,_=l?v:(0,q1.clamp)(v,0,d-1),S=_-(u-1),A=l?S:(0,q1.clamp)(S,0,d-1),I=(0,AJ.default)({"slick-active":l?f>=A&&f<=_:f===A}),M={message:"dots",index:b,slidesToScroll:u,currentSlide:f},C=this.clickHandler.bind(this,M);g=g.concat(Ph.default.createElement("li",{key:b,className:I},Ph.default.cloneElement(this.props.customPaging(b),{onClick:C})))}return Ph.default.cloneElement(this.props.appendDots(g),RJ({className:this.props.dotsClass},y))}}]),n}(Ph.default.PureComponent);var ua={};function ca(t){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(t)}Object.defineProperty(ua,"__esModule",{value:!0});ua.PrevArrow=ua.NextArrow=void 0;var Uo=x2(L),T2=x2(Vp),BJ=H;function x2(t){return t&&t.__esModule?t:{default:t}}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}function G1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return e=k2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k2(r.key),r)}}function C2(t,e,n){return e&&HJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k2(t){var e=WJ(t,"string");return ca(e)=="symbol"?e:String(e)}function WJ(t,e){if(ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uv(t,e)}function A2(t){var e=R2();return function(){var r=kf(t),i;if(e){var s=kf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return qJ(this,i)}}function qJ(t,e){if(e&&(ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KJ(t)}function KJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R2=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kf(t)}ua.PrevArrow=function(t){I2(n,t);var e=A2(n);function n(){return P2(this,n),e.apply(this,arguments)}return C2(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,T2.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Uo.default.cloneElement(this.props.prevArrow,Cf(Cf({},o),a)):l=Uo.default.createElement("button",Pf({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(Uo.default.PureComponent);ua.NextArrow=function(t){I2(n,t);var e=A2(n);function n(){return P2(this,n),e.apply(this,arguments)}return C2(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,BJ.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,T2.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Uo.default.cloneElement(this.props.nextArrow,Cf(Cf({},o),a)):l=Uo.default.createElement("button",Pf({key:"1",type:"button"},o)," ","Next"),l}}]),n}(Uo.default.PureComponent);var O2=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),zv=typeof window<"u"&&typeof document<"u"&&window.document===document,If=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),GJ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(If):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),YJ=2;function QJ(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){GJ(s)}function a(){var l=Date.now();if(n){if(l-i<YJ)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var XJ=20,JJ=["top","right","bottom","left","width","height","size","weight"],ZJ=typeof MutationObserver<"u",eZ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=QJ(this.refresh.bind(this),XJ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!zv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ZJ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!zv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=JJ.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),M2=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ha=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||If},D2=Up(0,0,0,0);function Af(t){return parseFloat(t)||0}function Y1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Af(s)},0)}function tZ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Af(o)}return n}function nZ(t){var e=t.getBBox();return Up(0,0,e.width,e.height)}function rZ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return D2;var r=ha(t).getComputedStyle(t),i=tZ(r),s=i.left+i.right,o=i.top+i.bottom,a=Af(r.width),l=Af(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=Y1(r,"left","right")+s),Math.round(l+o)!==n&&(l-=Y1(r,"top","bottom")+o)),!sZ(t)){var u=Math.round(a+s)-e,c=Math.round(l+o)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Up(i.left,i.top,a,l)}var iZ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ha(t).SVGGraphicsElement}:function(t){return t instanceof ha(t).SVGElement&&typeof t.getBBox=="function"}}();function sZ(t){return t===ha(t).document.documentElement}function oZ(t){return zv?iZ(t)?nZ(t):rZ(t):D2}function aZ(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return M2(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Up(t,e,n,r){return{x:t,y:e,width:n,height:r}}var lZ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Up(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=oZ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),uZ=function(){function t(e,n){var r=aZ(n);M2(this,{target:e,contentRect:r})}return t}(),cZ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new O2,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ha(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new lZ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ha(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new uZ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),L2=typeof WeakMap<"u"?new WeakMap:new O2,N2=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=eZ.getInstance(),r=new cZ(e,n,this);L2.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){N2.prototype[t]=function(){var e;return(e=L2.get(this))[t].apply(e,arguments)}});var hZ=function(){return typeof If.ResizeObserver<"u"?If.ResizeObserver:N2}();const dZ=Object.freeze(Object.defineProperty({__proto__:null,default:hZ},Symbol.toStringTag,{value:"Module"})),fZ=bL(dZ);Object.defineProperty(Np,"__esModule",{value:!0});Np.InnerSlider=void 0;var qt=fc(L),pZ=fc(a2),mZ=fc(sJ),gZ=fc(Vp),je=H,yZ=jp,vZ=Fp,Q1=ua,_Z=fc(fZ);function fc(t){return t&&t.__esModule?t:{default:t}}function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function wZ(t,e){if(t==null)return{};var n=bZ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j2(r.key),r)}}function TZ(t,e,n){return e&&EZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bv(t,e)}function PZ(t){var e=V2();return function(){var r=Of(t),i;if(e){var s=Of(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return CZ(this,i)}}function CZ(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ue(t)}function ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V2(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!t})()}function Of(t){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(t)}function ce(t,e,n){return e=j2(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2(t){var e=kZ(t,"string");return $s(e)=="symbol"?e:String(e)}function kZ(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Np.InnerSlider=function(t){xZ(n,t);var e=PZ(n);function n(r){var i;SZ(this,n),i=e.call(this,r),ce(ue(i),"listRefHandler",function(o){return i.list=o}),ce(ue(i),"trackRefHandler",function(o){return i.track=o}),ce(ue(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,je.getHeight)(o)+"px"}}),ce(ue(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,je.getOnDemandLazySlides)(te(te({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=te({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new _Z.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),ce(ue(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),ce(ue(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,je.getOnDemandLazySlides)(te(te({},i.props),i.state));a.length>0&&(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=te(te({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(o);u&&i.updateState(l,u,function(){i.state.currentSlide>=qt.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:qt.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),ce(ue(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,mZ.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),ce(ue(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=te(te({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),ce(ue(i),"updateState",function(o,a,l){var u=(0,je.initializedState)(o);o=te(te(te({},o),u),{},{slideIndex:u.currentSlide});var c=(0,je.getTrackLeft)(o);o=te(te({},o),{},{left:c});var d=(0,je.getTrackCSS)(o);(a||qt.default.Children.count(i.props.children)!==qt.default.Children.count(o.children))&&(u.trackStyle=d),i.setState(u,l)}),ce(ue(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],u=(0,je.getPreClones)(te(te(te({},i.props),i.state),{},{slideCount:i.props.children.length})),c=(0,je.getPostClones)(te(te(te({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(C){l.push(C.props.style.width),o+=C.props.style.width});for(var d=0;d<u;d++)a+=l[l.length-1-d],o+=l[l.length-1-d];for(var f=0;f<c;f++)o+=l[f];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var y={width:o+"px",left:-a+"px"};if(i.props.centerMode){var g="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:y}}var b=qt.default.Children.count(i.props.children),v=te(te(te({},i.props),i.state),{},{slideCount:b}),_=(0,je.getPreClones)(v)+(0,je.getPostClones)(v)+b,S=100/i.props.slidesToShow*_,A=100/_,I=-A*((0,je.getPreClones)(v)+i.state.currentSlide)*S/100;i.props.centerMode&&(I+=(100-A*S/100)/2);var M={width:S+"%",left:I+"%"};return{slideWidth:A+"%",trackStyle:M}}),ce(ue(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(u){var c=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var d=u.onclick;u.onclick=function(f){d(f),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=c,u.onerror=function(){c(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),ce(ue(i),"progressiveLazyLoad",function(){for(var o=[],a=te(te({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,je.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,je.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){o.push(u);break}o.length>0?(i.setState(function(c){return{lazyLoadedList:c.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),ce(ue(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,c=l.beforeChange,d=l.onLazyLoad,f=l.speed,m=l.afterChange,y=i.state.currentSlide,g=(0,je.slideHandler)(te(te(te({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),b=g.state,v=g.nextState;if(b){c&&c(y,b.currentSlide);var _=b.lazyLoadedList.filter(function(S){return i.state.lazyLoadedList.indexOf(S)<0});d&&_.length>0&&d(_),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(y),delete i.animationEndCallback),i.setState(b,function(){u&&i.asNavForIndex!==o&&(i.asNavForIndex=o,u.innerSlider.slideHandler(o)),v&&(i.animationEndCallback=setTimeout(function(){var S=v.animating,A=wZ(v,["animating"]);i.setState(A,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:S})},10)),m&&m(b.currentSlide),delete i.animationEndCallback})},f))})}}),ce(ue(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=te(te({},i.props),i.state),u=(0,je.changeSlide)(l,o);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var c=i.list.querySelectorAll(".slick-current");c[0]&&c[0].focus()}}),ce(ue(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),ce(ue(i),"keyHandler",function(o){var a=(0,je.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),ce(ue(i),"selectHandler",function(o){i.changeSlide(o)}),ce(ue(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),ce(ue(i),"enableBodyScroll",function(){window.ontouchmove=null}),ce(ue(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,je.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),ce(ue(i),"swipeMove",function(o){var a=(0,je.swipeMove)(o,te(te(te({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),ce(ue(i),"swipeEnd",function(o){var a=(0,je.swipeEnd)(o,te(te(te({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),ce(ue(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),ce(ue(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),ce(ue(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),ce(ue(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),ce(ue(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,je.canGoNext)(te(te({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),ce(ue(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),ce(ue(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),ce(ue(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),ce(ue(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ce(ue(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),ce(ue(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),ce(ue(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),ce(ue(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),ce(ue(i),"render",function(){var o=(0,gZ.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=te(te({},i.props),i.state),l=(0,je.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=te(te({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var c;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var d=(0,je.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=i.props.pauseOnDotsHover;d=te(te({},d),{},{clickHandler:i.changeSlide,onMouseEnter:f?i.onDotsLeave:null,onMouseOver:f?i.onDotsOver:null,onMouseLeave:f?i.onDotsLeave:null}),c=qt.default.createElement(vZ.Dots,d)}var m,y,g=(0,je.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);g.clickHandler=i.changeSlide,i.props.arrows&&(m=qt.default.createElement(Q1.PrevArrow,g),y=qt.default.createElement(Q1.NextArrow,g));var b=null;i.props.vertical&&(b={height:i.state.listHeight});var v=null;i.props.vertical===!1?i.props.centerMode===!0&&(v={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(v={padding:i.props.centerPadding+" 0px"});var _=te(te({},b),v),S=i.props.touchMove,A={className:"slick-list",style:_,onClick:i.clickHandler,onMouseDown:S?i.swipeStart:null,onMouseMove:i.state.dragging&&S?i.swipeMove:null,onMouseUp:S?i.swipeEnd:null,onMouseLeave:i.state.dragging&&S?i.swipeEnd:null,onTouchStart:S?i.swipeStart:null,onTouchMove:i.state.dragging&&S?i.swipeMove:null,onTouchEnd:S?i.touchEnd:null,onTouchCancel:i.state.dragging&&S?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},I={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(A={className:"slick-list"},I={className:o}),qt.default.createElement("div",I,i.props.unslick?"":m,qt.default.createElement("div",Rf({ref:i.listRefHandler},A),qt.default.createElement(yZ.Track,Rf({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":c)}),i.list=null,i.track=null,i.state=te(te({},pZ.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:qt.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=te(te({},i.state),s),i}return TZ(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!($s(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){s=!0;break}}return s||qt.default.Children.count(this.props.children)!==qt.default.Children.count(i.children)}}]),n}(qt.default.Component);var IZ=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},AZ=IZ,RZ=AZ,OZ=function(t){var e=/[height|width]$/;return e.test(t)},J1=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=RZ(r),OZ(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},MZ=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=J1(n),r<t.length-1&&(e+=", ")}),e):J1(t)},DZ=MZ,Ig,Z1;function LZ(){if(Z1)return Ig;Z1=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Ig=t,Ig}var Ag,eC;function F2(){if(eC)return Ag;eC=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Ag={isFunction:n,isArray:e,each:t},Ag}var Rg,tC;function NZ(){if(tC)return Rg;tC=1;var t=LZ(),e=F2().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Rg=n,Rg}var Og,nC;function VZ(){if(nC)return Og;nC=1;var t=NZ(),e=F2(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var u=this.queries,c=l&&this.browserIsIncapable;return u[o]||(u[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(d){r(d)&&(d={match:d}),u[o].addHandler(d)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},Og=s,Og}var Mg,rC;function jZ(){if(rC)return Mg;rC=1;var t=VZ();return Mg=new t,Mg}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(L),n=Np,r=o(DZ),i=o(Bw),s=H;function o(T){return T&&T.__esModule?T:{default:T}}function a(T){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(T)}function l(){return l=Object.assign?Object.assign.bind():function(T){for(var P=1;P<arguments.length;P++){var O=arguments[P];for(var D in O)Object.prototype.hasOwnProperty.call(O,D)&&(T[D]=O[D])}return T},l.apply(this,arguments)}function u(T,P){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);P&&(D=D.filter(function(R){return Object.getOwnPropertyDescriptor(T,R).enumerable})),O.push.apply(O,D)}return O}function c(T){for(var P=1;P<arguments.length;P++){var O=arguments[P]!=null?arguments[P]:{};P%2?u(Object(O),!0).forEach(function(D){I(T,D,O[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):u(Object(O)).forEach(function(D){Object.defineProperty(T,D,Object.getOwnPropertyDescriptor(O,D))})}return T}function d(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function f(T,P){for(var O=0;O<P.length;O++){var D=P[O];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,M(D.key),D)}}function m(T,P,O){return P&&f(T.prototype,P),Object.defineProperty(T,"prototype",{writable:!1}),T}function y(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),P&&g(T,P)}function g(T,P){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,R){return D.__proto__=R,D},g(T,P)}function b(T){var P=S();return function(){var D=A(T),R;if(P){var $=A(this).constructor;R=Reflect.construct(D,arguments,$)}else R=D.apply(this,arguments);return v(this,R)}}function v(T,P){if(P&&(a(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(T)}function _(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!T})()}function A(T){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},A(T)}function I(T,P,O){return P=M(P),P in T?Object.defineProperty(T,P,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[P]=O,T}function M(T){var P=C(T,"string");return a(P)=="symbol"?P:String(P)}function C(T,P){if(a(T)!="object"||!T)return T;var O=T[Symbol.toPrimitive];if(O!==void 0){var D=O.call(T,P);if(a(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(T)}var E=(0,s.canUseDOM)()&&jZ();t.default=function(T){y(O,T);var P=b(O);function O(D){var R;return d(this,O),R=P.call(this,D),I(_(R),"innerSliderRefHandler",function($){return R.innerSlider=$}),I(_(R),"slickPrev",function(){return R.innerSlider.slickPrev()}),I(_(R),"slickNext",function(){return R.innerSlider.slickNext()}),I(_(R),"slickGoTo",function($){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return R.innerSlider.slickGoTo($,Z)}),I(_(R),"slickPause",function(){return R.innerSlider.pause("paused")}),I(_(R),"slickPlay",function(){return R.innerSlider.autoPlay("play")}),R.state={breakpoint:null},R._responsiveMediaHandlers=[],R}return m(O,[{key:"media",value:function(R,$){E.register(R,$),this._responsiveMediaHandlers.push({query:R,handler:$})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var $=this.props.responsive.map(function(ee){return ee.breakpoint});$.sort(function(ee,G){return ee-G}),$.forEach(function(ee,G){var F;G===0?F=(0,r.default)({minWidth:0,maxWidth:ee}):F=(0,r.default)({minWidth:$[G-1]+1,maxWidth:ee}),(0,s.canUseDOM)()&&R.media(F,function(){R.setState({breakpoint:ee})})});var Z=(0,r.default)({minWidth:$.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(Z,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){E.unregister(R.query,R.handler)})}},{key:"render",value:function(){var R=this,$,Z;this.state.breakpoint?(Z=this.props.responsive.filter(function(Je){return Je.breakpoint===R.state.breakpoint}),$=Z[0].settings==="unslick"?"unslick":c(c(c({},i.default),this.props),Z[0].settings)):$=c(c({},i.default),this.props),$.centerMode&&($.slidesToScroll>1,$.slidesToScroll=1),$.fade&&($.slidesToShow>1,$.slidesToScroll>1,$.slidesToShow=1,$.slidesToScroll=1);var ee=e.default.Children.toArray(this.props.children);ee=ee.filter(function(Je){return typeof Je=="string"?!!Je.trim():!!Je}),$.variableWidth&&($.rows>1||$.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),$.variableWidth=!1);for(var G=[],F=null,W=0;W<ee.length;W+=$.rows*$.slidesPerRow){for(var Y=[],pe=W;pe<W+$.rows*$.slidesPerRow;pe+=$.slidesPerRow){for(var le=[],me=pe;me<pe+$.slidesPerRow&&($.variableWidth&&ee[me].props.style&&(F=ee[me].props.style.width),!(me>=ee.length));me+=1)le.push(e.default.cloneElement(ee[me],{key:100*W+10*pe+me,tabIndex:-1,style:{width:"".concat(100/$.slidesPerRow,"%"),display:"inline-block"}}));Y.push(e.default.createElement("div",{key:10*W+pe},le))}$.variableWidth?G.push(e.default.createElement("div",{key:W,style:{width:F}},Y)):G.push(e.default.createElement("div",{key:W},Y))}if($==="unslick"){var at="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:at},ee)}else G.length<=$.slidesToShow&&!$.infinite&&($.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)($)),G)}}]),O}(e.default.Component)})(o2);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(o2);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(s2);const FZ=$v(s2),UZ="/assets/ana-DQioPB6t.jpg",zZ="/assets/carla-U3Ge2Tun.jpg",BZ="/assets/juan-BOqmSlt7.jpg",$Z="/assets/luis-8Z4Xe-rM.jpg";function HZ(){const t=[{text:"CaloriePro helped me stay on track with my weight goals! It's incredibly easy to use.",author:"Ana Rodrguez",photo:UZ},{text:"The control of my food and calories has been amazing. Now I can easily track and see my progress every day.",author:"Juan Prez",photo:BZ},{text:"The personalized dashboard is exactly what I needed to track my progress.",author:"Carla Gmez",photo:zZ},{text:"It's the best app to maintain a healthy lifestyle!",author:"Luis Garca",photo:$Z}],e={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,arrows:!1};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"services__swiper container",children:[x.jsx("h2",{className:"services__principal",children:"User Testimonials"}),x.jsx(FZ,{...e,children:t.map((n,r)=>x.jsxs("div",{className:"services__card",children:[x.jsx("div",{className:"services__icon",children:x.jsx("img",{className:"services__image",src:n.photo,alt:n.author})}),x.jsx("h3",{className:"services__title",children:n.author}),x.jsxs("p",{children:['"',n.text,'"']})]},r))})]})})}function WZ(){const[t,e]=L.useState(0),[n,r]=L.useState(0),[i,s]=L.useState(0);return L.useEffect(()=>{(async()=>{try{e(1e3),r(500),s(3e5)}catch(a){console.error("Error fetching data:",a)}})()},[]),x.jsxs("section",{className:"dynamic-counter",children:[x.jsx("h2",{className:"dynamic-title",children:"Global Statistics"}),x.jsxs("div",{className:"counter-grid container",children:[x.jsxs("div",{className:"counter-card",children:[x.jsxs("h3",{children:["+ ",t]}),x.jsx("p",{children:"Foods in our database"})]}),x.jsxs("div",{className:"counter-card",children:[x.jsxs("h3",{children:["+ ",n]}),x.jsx("p",{children:"Registered users"})]}),x.jsxs("div",{className:"counter-card",children:[x.jsxs("h3",{children:["+ ",i.toLocaleString()]}),x.jsx("p",{children:"Calories recorded by users"})]})]})]})}function qZ(){return x.jsxs("section",{className:"how-it-works container",children:[x.jsxs("div",{className:"how-title",children:[x.jsx("h2",{children:"How It Works"}),x.jsx("p",{children:"Discover how easy it is to start tracking your calories and reach your goals!"})]}),x.jsxs("div",{className:"how-steps",children:[x.jsxs("div",{className:"step",children:[x.jsx("i",{className:"ri-user-add-line step-icon"}),x.jsx("h3",{children:"Sign Up"}),x.jsx("p",{children:"Create an account in seconds to get started."})]}),x.jsxs("div",{className:"step",children:[x.jsx("i",{className:"ri-search-eye-line step-icon"}),x.jsx("h3",{children:"Search & Save"}),x.jsx("p",{children:"Find your favorite foods and save them for easy tracking."})]}),x.jsxs("div",{className:"step",children:[x.jsx("i",{className:"ri-bar-chart-box-line step-icon"}),x.jsx("h3",{children:"Track Progress"}),x.jsx("p",{children:"Monitor your calorie intake with a personalized dashboard."})]})]})]})}function U2({openSignUpModal:t}){return x.jsx("section",{className:"cta",children:x.jsxs("div",{className:"cta-content container",children:[x.jsx("h2",{children:"Start now and improve your lifestyle!"}),x.jsx("p",{children:"Sign up to access all the tools and features that will help you maintain proper control of your eating habits."}),x.jsx("button",{className:"cta-button",onClick:t,children:"START NOW"})]})})}U2.propTypes={openSignUpModal:Le.func.isRequired};function KZ({openSignUpModal:t}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{id:"hero",children:x.jsx(i2,{openSignUpModal:t})}),x.jsx("div",{id:"benefits",children:x.jsx(zX,{})}),x.jsx("div",{id:"testimonials",children:x.jsx(HZ,{})}),x.jsx(WZ,{}),x.jsx("div",{id:"howitworks",children:x.jsx(qZ,{})}),x.jsx(U2,{openSignUpModal:t})]})}function GZ(){const[t,e]=L.useState(!1),{isAuthenticated:n,setIsAuthenticated:r,user:i}=vp(),[s,o]=L.useState(!0);return L.useEffect(()=>{const a=Jf(An,l=>{r(!!l),o(!1)});return()=>a()},[]),s?x.jsxs("div",{className:"loading-container",children:[x.jsx(Ou,{size:60,color:"#4fa94d",loading:s}),x.jsx("p",{children:"Cargando..."})]}):x.jsxs("div",{className:"app",children:[x.jsx(hq,{showModal:t,setShowModal:e,closeModal:()=>e(!1)}),x.jsx("main",{className:"main",children:x.jsxs(Fj,{children:[x.jsx(Uh,{path:"/",element:x.jsx(KZ,{openSignUpModal:()=>e(!0)})}),x.jsx(Uh,{path:"/home",element:x.jsx(F1,{isAuthenticated:n,children:x.jsx(sQ,{})})}),x.jsx(Uh,{path:"/dashboard",element:x.jsx(F1,{isAuthenticated:n,children:x.jsx(FX,{})})})]})}),n?x.jsx(UX,{}):x.jsx(dq,{}),!n&&x.jsx(mw,{showModal:t,setShowModal:e,closeModal:()=>e(!1)})]})}Dg.createRoot(document.getElementById("root")).render(x.jsx(L.StrictMode,{children:x.jsx(qj,{children:x.jsx(c$,{children:x.jsx(zD,{children:x.jsx(GZ,{})})})})}));
//# sourceMappingURL=index-CjjJYqYX.js.map
